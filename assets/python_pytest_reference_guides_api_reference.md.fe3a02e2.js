import{_ as e,o as t,c as s,V as o}from"./chunks/framework.b24ae0d9.js";const g=JSON.parse('{"title":"API Reference","description":"","frontmatter":{},"headers":[],"relativePath":"python/pytest/reference_guides/api_reference.md","filePath":"python/pytest/reference_guides/api_reference.md"}'),n={name:"python/pytest/reference_guides/api_reference.md"},a=o(`<h1 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h1><h2 id="constants" tabindex="-1">Constants <a class="header-anchor" href="#constants" aria-label="Permalink to &quot;Constants&quot;">​</a></h2><h3 id="pytest-version" tabindex="-1">pytest.<strong>version</strong> <a class="header-anchor" href="#pytest-version" aria-label="Permalink to &quot;pytest.__version__&quot;">​</a></h3><p>The current pytest version, as a string:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">pytest.__version__</span></span>
<span class="line"><span style="color:#FFCB6B;">&#39;7.0.0&#39;</span></span></code></pre></div><h3 id="pytest-version-tuple" tabindex="-1">pytest.version_tuple <a class="header-anchor" href="#pytest-version-tuple" aria-label="Permalink to &quot;pytest.version_tuple&quot;">​</a></h3><p><em>New in version 7.0.</em></p><p>The current pytest version, as a tuple:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">pytest.version_tuple</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">7,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>For pre-releases, the last component will be a string with the prerelease version:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">pytest.version_tuple</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">7,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0rc1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="functions" tabindex="-1">Functions <a class="header-anchor" href="#functions" aria-label="Permalink to &quot;Functions&quot;">​</a></h2><h3 id="pytest-approx" tabindex="-1">pytest.approx <a class="header-anchor" href="#pytest-approx" aria-label="Permalink to &quot;pytest.approx&quot;">​</a></h3><ul><li><p><strong>approx</strong>(<code>expected, rel=None, abs=None, nan_ok=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python_api.html#approx" target="_blank" rel="noreferrer">[source]</a></p><p>Assert that two numbers (or two ordered sequences of numbers) are equal to each other within some tolerance.</p><p>Due to the <a href="https://docs.python.org/3/tutorial/floatingpoint.html" target="_blank" rel="noreferrer">Floating Point Arithmetic: Issues and Limitations</a>, numbers that we would intuitively expect to be equal are not always so:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.3</span></span>
<span class="line"><span style="color:#FFCB6B;">False</span></span></code></pre></div><p>This problem is commonly encountered when writing tests, e.g. when making sure that floating-point values are what you expect them to be. One way to deal with this problem is to assert that two floating-point numbers are equal to within some appropriate tolerance:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">abs((0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;">) - 0.3) </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> 1e-6</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>However, comparisons like this are tedious to write and difficult to understand. Furthermore, absolute comparisons like the one above are usually discouraged because there’s no tolerance that works well for all situations. <code>1e-6</code> is good for numbers around 1, but too small for very big numbers and too big for very small ones. It’s better to express the tolerance as a fraction of the expected value, but relative comparisons like that are even more difficult to write correctly and concisely.</p><p>The <code>approx</code> class performs floating-point comparisons using a syntax that’s as intuitive as possible:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0.3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>The same syntax also works for ordered sequences of numbers:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.4</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> == </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">((</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p><code>numpy</code> arrays:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">numpy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">np</span><span style="color:#A6ACCD;">                                                          </span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">np.array([0.1,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;">) + np.array</span><span style="color:#89DDFF;">([</span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">0.4</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> == approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">np.array([0.3,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.6</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">) </span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>And for a <code>numpy</code> array against a scalar:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">numpy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">np</span><span style="color:#A6ACCD;">                                         </span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">np.array([0.1,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;">) + np.array</span><span style="color:#89DDFF;">([</span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> == approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0.3</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>Only ordered sequences are supported, because <code>approx</code> needs to infer the relative position of the sequences without ambiguity. This means <code>sets</code> and other unordered sequences are not supported.</p><p>Finally, dictionary values can also be compared:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">&#39;a&#39;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.4</span><span style="color:#C3E88D;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">{&#39;a&#39;: 0.3, &#39;b&#39;: 0.6})</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>The comparison will be true if both mappings have the same keys and their respective values match the expected tolerances.</p><p><em>Tolerances</em></p><p>By default, <code>approx</code> considers numbers within a relative tolerance of <code>1e-6</code> (i.e. one part in a million) of its expected value to be equal. This treatment would lead to surprising results if the expected value was <code>0.0</code>, because nothing but <code>0.0</code> itself is relatively close to 0.0. To handle this case less surprisingly, <code>approx</code> also considers numbers within an absolute tolerance of <code>1e-12</code> of its expected value to be equal. Infinity and NaN are special cases. Infinity is only considered equal to itself, regardless of the relative tolerance. NaN is not considered equal to anything by default, but you can make it be equal to itself by setting the <code>nan_ok</code> argument to True. (This is meant to facilitate comparing arrays that use NaN to mean “no data”.)</p><p>Both the relative and absolute tolerances can be changed by passing arguments to the <code>approx</code> constructor:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">1.0001</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">False</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">1.0001</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">1,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rel=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">1.0001</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">1,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">abs=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>If you specify <code>abs</code> but not <code>rel</code>, the comparison will not consider the relative tolerance at all. In other words, two numbers that are within the default relative tolerance of <code>1e-6</code> will still be considered unequal if they exceed the specified absolute tolerance. If you specify both <code>abs</code> and <code>rel</code>, the numbers will be considered equal if either tolerance is met:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-8</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-8</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">1,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">abs=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-12</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">False</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-8</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">1,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rel=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-6,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">abs=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-12</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span></code></pre></div><p>You can also use <code>approx</code> to compare nonnumeric types, or dicts and sequences containing nonnumeric types, in which case it falls back to strict equality. This can be useful for comparing dicts and sequences that can contain optional values:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#89DDFF;">{</span><span style="color:#FFCB6B;">&quot;required&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1.0000005</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">optional</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">None}</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">{&quot;required&quot;: 1, &quot;optional&quot;: None})</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">None, </span><span style="color:#F78C6C;">1.0000005</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> == </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">([</span><span style="color:#A6ACCD;">None,1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#FFCB6B;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">1.0000005</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> == </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">([</span><span style="color:#A6ACCD;">None,1</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#FFCB6B;">False</span></span></code></pre></div><p>If you’re thinking about using <code>approx</code>, then you might want to know how it compares to other good ways of comparing floating-point numbers. All of these algorithms are based on relative and absolute tolerances and should agree for the most part, but they do have meaningful differences:</p><ul><li><p><code>math.isclose(a, b, rel_tol=1e-9, abs_tol=0.0)</code>: True if the relative tolerance is met w.r.t. either a or b or if the absolute tolerance is met. Because the relative tolerance is calculated w.r.t. both a and b, this test is symmetric (i.e. neither a nor b is a “reference value”). You have to specify an absolute tolerance if you want to compare to <code>0.0</code> because there is no tolerance by default. More information: <a href="https://docs.python.org/3/library/math.html#math.isclose" target="_blank" rel="noreferrer">math.isclose()</a>.</p></li><li><p><code>numpy.isclose(a, b, rtol=1e-5, atol=1e-8)</code>: True if the difference between a and b is less that the sum of the relative tolerance w.r.t. b and the absolute tolerance. Because the relative tolerance is only calculated w.r.t. b, this test is asymmetric and you can think of b as the reference value. Support for comparing sequences is provided by <a href="https://numpy.org/doc/stable/reference/generated/numpy.allclose.html#numpy.allclose" target="_blank" rel="noreferrer">numpy.allclose()</a>. More information: numpy.isclose.</p></li><li><p><code>unittest.TestCase.assertAlmostEqual(a, b)</code>: True if a and b are within an absolute tolerance of <code>1e-7</code>. No relative tolerance is considered , so this function is not appropriate for very large or very small numbers. Also, it’s only available in subclasses of <code>unittest.TestCase</code> and it’s ugly because it doesn’t follow PEP8. More information: <a href="https://docs.python.org/3/library/unittest.html#unittest.TestCase.assertAlmostEqual" target="_blank" rel="noreferrer">unittest.TestCase.assertAlmostEqual()</a>.</p></li><li><p><code>a == pytest.approx(b, rel=1e-6, abs=1e-12)</code>: True if the relative tolerance is met w.r.t. b or if the absolute tolerance is met. Because the relative tolerance is only calculated w.r.t. b, this test is asymmetric and you can think of b as the reference value. In the special case that you explicitly specify an absolute tolerance but not a relative tolerance, only the absolute tolerance is considered.</p></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p><code>approx</code> can handle numpy arrays, but we recommend the specialised test helpers in <a href="https://numpy.org/doc/stable/reference/routines.testing.html" target="_blank" rel="noreferrer">Test Support (numpy.testing)</a> if you need support for comparisons, NaNs, or ULP-based tolerances.</p><p>To match strings using regex, you can use <a href="https://github.com/asottile/re-assert#re_assertmatchespattern-str-args-kwargs" target="_blank" rel="noreferrer">Matches</a> from the <a href="https://github.com/asottile/re-assert" target="_blank" rel="noreferrer">re_assert package</a>.</p></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p><em>Changed in version 3.2.</em></p><p>In order to avoid inconsistent behavior, <a href="https://docs.python.org/3/library/exceptions.html#TypeError" target="_blank" rel="noreferrer">TypeError</a> is raised for <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code> and <code>&lt;=</code> comparisons. The example below illustrates the problem:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0.1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-10</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># calls approx(0.1).__gt__(0.1 + 1e-10)</span></span>
<span class="line"><span style="color:#FFCB6B;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">e-10</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">approx</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">0.1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># calls approx(0.1).__lt__(0.1 + 1e-10)</span></span></code></pre></div><p>In the second example one expects <code>approx(0.1).__le__(0.1 + 1e-10)</code> to be called. But instead, <code>approx(0.1).__lt__(0.1 + 1e-10)</code> is used to comparison. This is because the call hierarchy of rich comparisons follows a fixed behavior. More information: <a href="https://docs.python.org/3/reference/datamodel.html#object.__ge__" target="_blank" rel="noreferrer">object.<strong>ge</strong>()</a></p></div><p><em>Changed in version 3.7.1</em>: <code>approx</code> raises <code>TypeError</code> when it encounters a dict value or sequence element of nonnumeric type.</p><p><em>Changed in version 6.1.0</em>: <code>approx</code> falls back to strict equality for nonnumeric types instead of raising <code>TypeError</code>.</p></li></ul><h3 id="pytest-fail" tabindex="-1">pytest.fail <a class="header-anchor" href="#pytest-fail" aria-label="Permalink to &quot;pytest.fail&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/skipping.html#skipping" target="_blank" rel="noreferrer">How to use skip and xfail to deal with tests that cannot succeed</a></p><ul><li><p><strong>fail</strong>(<code>reason[, pytrace=True, msg=None]</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/outcomes.html#fail" target="_blank" rel="noreferrer">[source]</a></p><p>Explicitly fail an executing test with the given message.</p><p><em>Parameters</em>:</p><ul><li><p><code>reason (str)</code> – The message to show the user as reason for the failure.</p></li><li><p><code>pytrace (bool)</code> – If False, msg represents the full failure information and no python traceback will be reported.</p></li><li><p><code>python (Optional[str])</code> – Same as reason, but deprecated. Will be removed in a future version, use reason instead.</p></li></ul></li></ul><h3 id="pytest-skip" tabindex="-1">pytest.skip <a class="header-anchor" href="#pytest-skip" aria-label="Permalink to &quot;pytest.skip&quot;">​</a></h3><ul><li><p><strong>skip</strong>(<code>reason[, allow_module_level=False, msg=None]</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/outcomes.html#skip" target="_blank" rel="noreferrer">[source]</a></p><p>Skip an executing test with the given message.</p><p>This function should be called only during testing (setup, call or teardown) or during collection by using the <code>allow_module_level</code> flag. This function can be called in doctests as well.</p><p><em>Parameters</em>:</p><ul><li><p><code>reason (str)</code> – The message to show the user as reason for the skip.</p></li><li><p><code>allow_module_level (bool)</code> – Allows this function to be called at module level. Raising the skip exception at module level will stop the execution of the module and prevent the collection of all tests in the module, even those defined before the <code>skip</code> call. Defaults to False.</p></li><li><p><code>msg (Optional[str])</code> – Same as <code>reason</code>, but deprecated. Will be removed in a future version, use <code>reason</code> instead.</p></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>It is better to use <a href="/python/pytest/reference_guides/fixture_reference#pytest-mark-skipif-ref">the pytest.mark.skipif</a> marker when possible to declare a test to be skipped under certain conditions like mismatching platforms or dependencies. Similarly, use the<code> # doctest: +SKIP</code> directive (see <a href="https://docs.python.org/3/library/doctest.html#doctest.SKIP" target="_blank" rel="noreferrer">doctest.SKIP</a>) to skip a doctest statically.</p></div></li></ul><h3 id="pytest-importorskip" tabindex="-1">pytest.importorskip <a class="header-anchor" href="#pytest-importorskip" aria-label="Permalink to &quot;pytest.importorskip&quot;">​</a></h3><ul><li><p><strong>importorskip</strong>(<code>modname, minversion=None, reason=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/outcomes.html#importorskip" target="_blank" rel="noreferrer">[source]</a></p><p>Import and return the requested module <code>modname</code>, or skip the current test if the module cannot be imported.</p><p><em>Parameters</em>:</p><ul><li><p><code>modname (str)</code> – The name of the module to import.</p></li><li><p><code>minversion (Optional[str])</code> – If given, the imported module’s <code>__version__</code> attribute must be at least this minimal version, otherwise the test is still skipped.</p></li><li><p><code>reason (Optional[str])</code> – If given, this reason is shown as the message when the module cannot be imported.</p></li></ul><p><em>Returns</em>: The imported module. This should be assigned to its canonical name.</p><p><em>Return type</em>: <code>Any</code></p><p><em>Example</em>:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docutils</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.importorskip</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;docutils&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li></ul><h3 id="pytest-xfail" tabindex="-1">pytest.xfail <a class="header-anchor" href="#pytest-xfail" aria-label="Permalink to &quot;pytest.xfail&quot;">​</a></h3><ul><li><p><strong>xfail</strong>(<code>reason=&#39;&#39;</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/outcomes.html#xfail" target="_blank" rel="noreferrer">[source]</a></p><p>Imperatively xfail an executing test or setup function with the given reason.</p><p>This function should be called only during testing (setup, call or teardown).</p><p><em>Parameters</em>:</p><ul><li><code>reason (str)</code> – The message to show the user as reason for the xfail.</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>It is better to use the <a href="/python/pytest/reference_guides/fixture_reference#pytest-mark-xfail-ref">pytest.mark.xfail</a> marker when possible to declare a test to be xfailed under certain conditions like known bugs or missing features.</p></div></li></ul><h3 id="pytest-exit" tabindex="-1">pytest.exit <a class="header-anchor" href="#pytest-exit" aria-label="Permalink to &quot;pytest.exit&quot;">​</a></h3><ul><li><p><strong>exit</strong>(<code>reason[, returncode=False, msg=None]</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/outcomes.html#exit" target="_blank" rel="noreferrer">[source]</a></p><p>Exit testing process.</p><p><em>Parameters</em>:</p><ul><li><p><code>reason (str)</code> – The message to show as the reason for exiting pytest. reason has a default value only because <code>msg</code> is deprecated.</p></li><li><p><code>returncode (Optional[int])</code> – Return code to be used when exiting pytest.</p></li><li><p><code>msg (Optional[str])</code> – Same as <code>reason</code>, but deprecated. Will be removed in a future version, use <code>reason</code> instead.</p></li></ul></li></ul><h3 id="pytest-main" tabindex="-1">pytest.main <a class="header-anchor" href="#pytest-main" aria-label="Permalink to &quot;pytest.main&quot;">​</a></h3><ul><li><p><strong>main</strong>(<code>args=None, plugins=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#main" target="_blank" rel="noreferrer">[source]</a></p><p>Perform an in-process test run.</p><p><em>Parameters</em>:</p><ul><li><p><code>args (Optional[Union[List[str], PathLike[str]]])</code> – List of command line arguments. If <code>None</code> or not given, defaults to reading arguments directly from the process command line (<a href="https://docs.python.org/3/library/sys.html#sys.argv" target="_blank" rel="noreferrer">sys.argv</a>).</p></li><li><p><code>plugins (Optional[Sequence[Union[str, object]]])</code> – List of plugin objects to be auto-registered during initialization.</p></li></ul><p><em>Returns</em>: An exit code.</p><p><em>Return type</em>: <code>Union[int, ExitCode]</code></p></li></ul><h3 id="pytest-param" tabindex="-1">pytest.param <a class="header-anchor" href="#pytest-param" aria-label="Permalink to &quot;pytest.param&quot;">​</a></h3><ul><li><p><strong>param</strong>(<code>*values[, id][, marks]</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/mark.html#param" target="_blank" rel="noreferrer">[source]</a></p><p>Specify a parameter in <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest-mark-parametrize" target="_blank" rel="noreferrer">pytest.mark.parametrize</a> calls or <a href="https://docs.pytest.org/en/latest/how-to/fixtures.html#fixture-parametrize-marks" target="_blank" rel="noreferrer">parametrized fixtures</a>.</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parametrize</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test_input,expected</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3+5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">        pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">param</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6*9</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">42</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">marks</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">xfail</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">    </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_eval</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">test_input</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">expected</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">eval</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">test_input</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> expected</span></span></code></pre></div><p><em>Parameters</em>:</p><ul><li><p><code>values (object)</code> – Variable args of the values of the parameter set, in order.</p></li><li><p><code>marks (Union[MarkDecorator, Collection[Union[MarkDecorator, Mark]]])</code> – A single mark or a list of marks to be applied to this parameter set.</p></li><li><p><code>id (Optional[str])</code> – The id to attribute to this parameter set.</p></li></ul></li></ul><h3 id="pytest-raises" tabindex="-1">pytest.raises <a class="header-anchor" href="#pytest-raises" aria-label="Permalink to &quot;pytest.raises&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/assert.html#assertraises" target="_blank" rel="noreferrer">Assertions about expected exceptions</a></p><ul><li><p><strong>with raises</strong>(<code>expected_exception: Union[Type[E], Tuple[Type[E], ...]], *, match: Optional[Union[str, Pattern[str]]] = ...</code>) → <code>RaisesContext[E] as excinfo</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python_api.html#raises" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>with raises</strong>(<code>expected_exception: Union[Type[E], Tuple[Type[E], ...]], func: Callable[[...], Any], *args: Any, **kwargs: Any</code>) → <code>ExceptionInfo[E] as excinfo</code></p><p>Assert that a code block/function call raises an exception.</p><p><em>Parameters</em>:</p><ul><li><p><code>expected_exception (Type[E] | Tuple[Type[E], ...])</code> – The expected exception type, or a tuple if one of multiple possible exception types are expected.</p></li><li><p><code>match (str | Pattern[str] | None)</code> – If specified, a string containing a regular expression, or a regular expression object, that is tested against the string representation of the exception ande its <code>PEP-678 &lt;https://peps.python.org/pep-0678/&gt; __notes__</code> using <a href="https://docs.python.org/3/library/re.html#re.search" target="_blank" rel="noreferrer">re.search()</a>.</p></li></ul><p>To match a literal string that may contain <a href="https://docs.python.org/3/library/re.html#re-syntax" target="_blank" rel="noreferrer">special characters</a>, the pattern can first be escaped with <a href="https://docs.python.org/3/library/re.html#re.escape" target="_blank" rel="noreferrer">re.escape()</a>. (This is only used when <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.raises" target="_blank" rel="noreferrer">pytest.raises()</a> is used as a context manager, and passed through to the function otherwise. When using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.raises" target="_blank" rel="noreferrer">pytest.raises()</a> as a function, you can use: <code>pytest.raises(Exc, func, match=&quot;passed on&quot;).match(&quot;my pattern&quot;).)</code></p><p>Use <code>pytest.raises</code> as a context manager, which will capture the exception of the given type:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ZeroDivisionError</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/0</span></span></code></pre></div><p>If the code block does not raise the expected exception (<code>ZeroDivisionError</code> in the example above), or no exception at all, the check will fail instead.</p><p>You can also use the keyword argument <code>match</code> to assert that the exception matches a text or regex:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ValueError,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">must be 0 or None</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;value must be 0 or None&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ValueError,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match=r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">must be \\d+$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;value must be 42&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>The <code>match</code> argument searches the formatted exception string, which includes any <code>PEP-678 &lt;https://peps.python.org/pep-0678/&gt; __notes__</code>:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ValueError,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match=r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">had a note added</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">e</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;value must be 42&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">e.add_note</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;had a note added&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">e</span></span></code></pre></div><p>The context manager produces an <strong>ExceptionInfo</strong> object which can be used to inspect the details of the captured exception:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ValueError</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;value must be 42&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info.type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info.value.args[</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">value must be 42</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>When using <code>pytest.raises</code> as a context manager, it’s worthwhile to note that normal context manager rules apply and that the exception raised must be the final line in the scope of the context manager. Lines of code after that, within the scope of the context manager will not be executed. For example:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ValueError</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;value must be &lt;= 10&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info.type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># this will not execute</span></span></code></pre></div><ul><li>Instead, the following approach must be taken (note the difference in scope):</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.raises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">ValueError</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;value must be &lt;= 10&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exc_info.type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ValueError</span></span></code></pre></div></div><p>Using with <code>pytest.mark.parametrize</code></p><p>When using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest-mark-parametrize-ref" target="_blank" rel="noreferrer">pytest.mark.parametrize</a> it is possible to parametrize tests such that some runs raise an exception and others do not.</p><p>See <a href="https://docs.pytest.org/en/latest/example/parametrize.html#parametrizing-conditional-raising" target="_blank" rel="noreferrer">Parametrizing conditional raising</a> for an example.</p><p><em>Legacy form</em></p><p>It is possible to specify a callable by passing a to-be-called lambda:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">raises(ZeroDivisionError,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lambda:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ExceptionInfo ...</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>or you can specify an arbitrary callable with arguments:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">x</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">/x</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">raises(ZeroDivisionError,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ExceptionInfo ...</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">raises(ZeroDivisionError,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">f,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">x=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ExceptionInfo ...</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>The form above is fully supported but discouraged for new code because the context manager form is regarded as more readable and less error-prone.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Similar to caught exception objects in Python, explicitly clearing local references to returned <code>ExceptionInfo</code> objects can help the Python interpreter speed up its garbage collection.</p><p>Clearing those references breaks a reference cycle (<code>ExceptionInfo</code> –&gt; caught exception –&gt; frame stack raising the exception –&gt; current frame stack –&gt; local variables –&gt; <code>ExceptionInfo</code>) which makes Python keep all objects referenced from that cycle (including all local variables in the current frame) alive until the next cyclic garbage collection run. More detailed information can be found in the official Python documentation for <a href="https://docs.python.org/3/reference/compound_stmts.html#try" target="_blank" rel="noreferrer">the try statement</a>.</p></div></li></ul><h3 id="pytest-deprecated-call" tabindex="-1">pytest.deprecated_call <a class="header-anchor" href="#pytest-deprecated-call" aria-label="Permalink to &quot;pytest.deprecated_call&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html#ensuring-function-triggers" target="_blank" rel="noreferrer">Ensuring code triggers a deprecation warning</a></p><ul><li><p><strong>with deprecated_call</strong>(<code>*, match: Optional[Union[str, Pattern[str]]] = ...</code>) → <code>WarningsRecorder</code> [source]</p></li><li><p><strong>with deprecated_call</strong>(<code>func: Callable[[...], T], *args: Any, **kwargs: Any</code>) → <code>T</code></p><p>Assert that code produces a <code>DeprecationWarning</code> or <code>PendingDeprecationWarning</code>.</p><p>This function can be used as a context manager:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warnings</span></span>
<span class="line"><span style="color:#FFCB6B;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">api_call_v2</span><span style="color:#89DDFF;">()</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">warnings.warn(</span><span style="color:#FFCB6B;">&#39;use v3 of this api&#39;</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DeprecationWarning</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span></span>
<span class="line"><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.deprecated_call</span><span style="color:#89DDFF;">()</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">assert</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">api_call_v2</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span></span></code></pre></div><p>It can also be used by passing a function and <code>*args</code> and <code>**kwargs</code>, in which case it will ensure calling <code>func(*args, **kwargs)</code> produces one of the warnings types above. The return value is the return value of the function.</p><p>In the context manager form you may use the keyword argument <code>match</code> to assert that the warning matches a text or regex.</p><p>The context manager produces a list of warnings.WarningMessage objects, one for each warning raised.</p></li></ul><h3 id="pytest-register-assert-rewrite" tabindex="-1">pytest.register_assert_rewrite <a class="header-anchor" href="#pytest-register-assert-rewrite" aria-label="Permalink to &quot;pytest.register_assert_rewrite&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/writing_plugins.html#assertion-rewriting" target="_blank" rel="noreferrer">Assertion Rewriting</a></p><ul><li><p><strong>register_assert_rewrite</strong>(<code>*names</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/assertion.html#register_assert_rewrite" target="_blank" rel="noreferrer">[source]</a></p><p>Register one or more module names to be rewritten on import.</p><p>This function will make sure that this module or all modules inside the package will get their assert statements rewritten. Thus you should make sure to call this before the module is actually imported, usually in your <code>__init__.py</code> if you are a plugin using a package.</p><p><em>Parameters</em>:</p><ul><li><code>names (str)</code> – The module names to register.</li></ul></li></ul><h3 id="pytest-warns" tabindex="-1">pytest.warns <a class="header-anchor" href="#pytest-warns" aria-label="Permalink to &quot;pytest.warns&quot;">​</a></h3><p><strong>Tutorial</strong>: Asserting warnings with the warns function</p><ul><li><p><strong>with warns</strong>(<code>expected_warning: ~typing.Union[~typing.Type[Warning], ~typing.Tuple[~typing.Type[Warning], ...]] = &lt;class Warning&gt;, *, match: ~typing.Optional[~typing.Union[str, ~typing.Pattern[str]]] = None</code>) → <code>WarningsChecker</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/recwarn.html#warns" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>with warns</strong>(<code>expected_warning: Union[Type[Warning], Tuple[Type[Warning], ...]], func: Callable[[...], T], *args: Any, **kwargs: Any</code>) → <code>T</code></p><p>Assert that code raises a particular class of warning.</p><p>Specifically, the parameter <code>expected_warning</code> can be a warning class or sequence of warning classes, and the code inside the <code>with</code> block must issue at least one warning of that class or classes.</p><p>This helper produces a list of <strong>warnings.WarningMessage</strong> objects, one for each warning emitted (regardless of whether it is an <code>expected_warning</code> or not). Since pytest 8.0, unmatched warnings are also re-emitted when the context closes.</p><p>This function can be used as a context manager:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.warns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">RuntimeWarning</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">···</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">warnings.warn</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">&quot;my warning&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">RuntimeWarning</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>In the context manager form you may use the keyword argument match to assert that the warning matches a text or regex:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.warns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">UserWarning,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">must be 0 or None</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">warnings.warn(</span><span style="color:#FFCB6B;">&quot;value must be 0 or None&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UserWarning</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.warns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">UserWarning,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match=r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">must be \\d+$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">warnings.warn(</span><span style="color:#FFCB6B;">&quot;value must be 42&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UserWarning</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.warns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">UserWarning</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># catch re-emitted warning</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest.warns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">UserWarning,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match=r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">must be \\d+$</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">warnings.warn(</span><span style="color:#FFCB6B;">&quot;this is not here&quot;</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UserWarning</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">Traceback</span><span style="color:#A6ACCD;"> (most </span><span style="color:#C3E88D;">recent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">call</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">last</span><span style="color:#A6ACCD;">):</span></span>
<span class="line"><span style="color:#FFCB6B;">Failed:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DID</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">NOT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">WARN.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warnings</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">...UserWarning...</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">were</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">emitted...</span></span>
<span class="line"><span style="color:#82AAFF;">...</span></span></code></pre></div><p>Using with <code>pytest.mark.parametrize</code></p><p>When using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest-mark-parametrize-ref" target="_blank" rel="noreferrer">pytest.mark.parametrize</a> it is possible to parametrize tests such that some runs raise a warning and others do not.</p><p>This could be achieved in the same way as with exceptions, see <a href="https://docs.pytest.org/en/latest/example/parametrize.html#parametrizing-conditional-raising" target="_blank" rel="noreferrer">Parametrizing conditional raising</a> for an example.</p></li></ul><h3 id="pytest-freeze-includes" tabindex="-1">pytest.freeze_includes <a class="header-anchor" href="#pytest-freeze-includes" aria-label="Permalink to &quot;pytest.freeze_includes&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/example/simple.html#freezing-pytest" target="_blank" rel="noreferrer">Freezing pytest</a></p><ul><li><p><strong>freeze_includes</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/freeze_support.html#freeze_includes" target="_blank" rel="noreferrer">[source]</a></p><p>Return a list of module names used by pytest that should be included by cx_freeze.</p></li></ul><h2 id="marks" tabindex="-1">Marks <a class="header-anchor" href="#marks" aria-label="Permalink to &quot;Marks&quot;">​</a></h2><p>Marks can be used apply meta data to test functions (but not fixtures), which can then be accessed by fixtures or plugins.</p><h3 id="pytest-mark-filterwarnings" tabindex="-1">pytest.mark.filterwarnings <a class="header-anchor" href="#pytest-mark-filterwarnings" aria-label="Permalink to &quot;pytest.mark.filterwarnings&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html#filterwarnings" target="_blank" rel="noreferrer">@pytest.mark.filterwarnings</a></p><p>Add warning filters to marked test items.</p><ul><li><p><strong>pytest.mark.filterwarnings</strong>(<code>filter</code>)</p><p><em>Parameters</em>:</p><ul><li><code>filter (str)</code> – A warning specification string, which is composed of contents of the tuple <code>(action, message, category, module, lineno)</code> as specified in The Warnings Filter section of the Python documentation, separated by <code>&quot;:&quot;</code>. Optional fields can be omitted. Module names passed for filtering are not regex-escaped.</li></ul><p><em>For example</em>:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">@pytest.mark.filterwarnings(</span><span style="color:#FFCB6B;">&quot;ignore:.*usage will be deprecated.*:DeprecationWarning&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#FFCB6B;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_foo</span><span style="color:#89DDFF;">()</span><span style="color:#C3E88D;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">...</span></span></code></pre></div></li></ul><h3 id="pytest-mark-parametrize" tabindex="-1">pytest.mark.parametrize <a class="header-anchor" href="#pytest-mark-parametrize" aria-label="Permalink to &quot;pytest.mark.parametrize&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/parametrize.html#parametrize" target="_blank" rel="noreferrer">How to parametrize fixtures and test functions</a></p><p>This mark has the same signature as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Metafunc.parametrize" target="_blank" rel="noreferrer">pytest.Metafunc.parametrize()</a>; see there.</p><h3 id="pytest-mark-skip" tabindex="-1">pytest.mark.skip <a class="header-anchor" href="#pytest-mark-skip" aria-label="Permalink to &quot;pytest.mark.skip&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/skipping.html#skip" target="_blank" rel="noreferrer">Skipping test functions</a></p><p>Unconditionally skip a test function.</p><ul><li><p><strong>pytest.mark.skip</strong>(<code>reason=None</code>)</p><p><em>Parameters</em>:</p><ul><li><code>reason (str)</code> – Reason why the test function is being skipped.</li></ul></li></ul><h3 id="pytest-mark-skipif" tabindex="-1">pytest.mark.skipif <a class="header-anchor" href="#pytest-mark-skipif" aria-label="Permalink to &quot;pytest.mark.skipif&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/skipping.html#skipif" target="_blank" rel="noreferrer">Skipping test functions</a></p><p>Skip a test function if a condition is <code>True</code>.</p><ul><li><p><strong>pytest.mark.skipif</strong>(<code>condition, *, reason=None</code>)</p><p><em>Parameters</em>:</p><ul><li><p><code>condition (bool or str)</code> – <code>True/False</code> if the condition should be skipped or a <a href="https://docs.pytest.org/en/latest/historical-notes.html#string-conditions" target="_blank" rel="noreferrer">condition string</a>.</p></li><li><p><code>reason (str)</code> – Reason why the test function is being skipped.</p></li></ul></li></ul><h3 id="pytest-mark-usefixtures" tabindex="-1">pytest.mark.usefixtures <a class="header-anchor" href="#pytest-mark-usefixtures" aria-label="Permalink to &quot;pytest.mark.usefixtures&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/fixtures.html#usefixtures" target="_blank" rel="noreferrer">Use fixtures in classes and modules with usefixtures</a></p><p>Mark a test function as using the given fixture names.</p><ul><li><p><strong>pytest.mark.usefixtures</strong>(<code>*names</code>)</p><p><em>Parameters</em>:</p><ul><li><code>args</code> – The names of the fixture to use, as strings.</li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>When using <code>usefixtures</code> in hooks, it can only load fixtures when applied to a test function before test setup (for example in the <code>pytest_collection_modifyitems</code> hook).</p><p>Also note that this mark has no effect when applied to fixtures.</p></div><h3 id="pytest-mark-xfail" tabindex="-1">pytest.mark.xfail <a class="header-anchor" href="#pytest-mark-xfail" aria-label="Permalink to &quot;pytest.mark.xfail&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/skipping.html#xfail" target="_blank" rel="noreferrer">XFail: mark test functions as expected to fail</a></p><p>Marks a test function as expected to fail.</p><ul><li><p><strong>pytest.mark.xfail</strong>(<code>condition=None, *, reason=None, raises=None, run=True, strict=False</code>)</p><p><em>Parameters</em>:</p><ul><li><p><code>condition (bool or str)</code> – Condition for marking the test function as xfail (<code>True/False</code> or a condition string). If a bool, you also have to specify <code>reason</code> (see condition string).</p></li><li><p><code>reason (str)</code> – Reason why the test function is marked as xfail.</p></li><li><p><code>raises (Type[Exception])</code> – Exception subclass (or tuple of subclasses) expected to be raised by the test function; other exceptions will fail the test.</p></li><li><p><code>run (bool)</code> – If the test function should actually be executed. If <code>False</code>, the function will always xfail and will not be executed (useful if a function is segfaulting).</p></li><li><p><code>strict (bool)</code> -</p><ul><li><p>If <code>False</code> (the default) the function will be shown in the terminal output as <code>xfailed</code> if it fails and as <code>xpass</code> if it passes. In both cases this will not cause the test suite to fail as a whole. This is particularly useful to mark flaky tests (tests that fail at random) to be tackled later.</p></li><li><p>If <code>True</code>, the function will be shown in the terminal output as <code>xfailed</code> if it fails, but if it unexpectedly passes then it will fail the test suite. This is particularly useful to mark functions that are always failing and there should be a clear indication if they unexpectedly start to pass (for example a new release of a library fixes a known bug).</p></li></ul></li></ul></li></ul><h3 id="custom-marks" tabindex="-1">Custom marks <a class="header-anchor" href="#custom-marks" aria-label="Permalink to &quot;Custom marks&quot;">​</a></h3><p>Marks are created dynamically using the factory object <code>pytest.mark</code> and applied as a decorator.</p><p>For example:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">timeout</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">slow</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">method</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_function</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...</span></span></code></pre></div><p>Will create and attach a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Mark" target="_blank" rel="noreferrer">Mark</a> object to the collected <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item" target="_blank" rel="noreferrer">Item</a>, which can then be accessed by fixtures or hooks with <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node.iter_markers" target="_blank" rel="noreferrer">Node.iter_markers</a>. The <code>mark</code> object will have the following attributes:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">args</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">slow</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">kwargs</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">method</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Example for using multiple custom markers:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">timeout</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">slow</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">method</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">thread</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slow</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_function</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    ...</span></span></code></pre></div><p>When <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node.iter_markers" target="_blank" rel="noreferrer">Node.iter_markers</a> or <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node.iter_markers_with_node" target="_blank" rel="noreferrer">Node.iter_markers_with_node</a> is used with multiple markers, the marker closest to the function will be iterated over first. The above example will result in <code>@pytest.mark.slow</code> followed by <code>@pytest.mark.timeout(...)</code>.</p><h2 id="fixtures" tabindex="-1">Fixtures <a class="header-anchor" href="#fixtures" aria-label="Permalink to &quot;Fixtures&quot;">​</a></h2><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/reference/fixtures.html#fixture" target="_blank" rel="noreferrer">Fixtures reference</a></p><p>Fixtures are requested by test functions or other fixtures by declaring them as argument names.</p><p>Example of a test requiring a fixture:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_output</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">capsys</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    out</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> err </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> capsys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readouterr</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> out </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>Example of a fixture requiring another fixture:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fixture</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">db_session</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">tmp_path</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> tmp_path </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">db.file</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>For more details, consult the full fixtures docs.</p><h3 id="pytest-fixture" tabindex="-1">@pytest.fixture <a class="header-anchor" href="#pytest-fixture" aria-label="Permalink to &quot;@pytest.fixture&quot;">​</a></h3><ul><li><p><strong>@fixture</strong>(<code>fixture_function: FixtureFunction, *, scope: Union[Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;], Callable[[str, Config], Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;]]] = &#39;function&#39;, params: Optional[Iterable[object]] = None, autouse: bool = False, ids: Optional[Union[Sequence[Optional[object]], Callable[[Any], Optional[object]]]] = None, name: Optional[str] = None</code>) → <code>FixtureFunction</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#fixture" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>@fixture</strong>(<code>fixture_function: None = None, *, scope: Union[Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;], Callable[[str, Config], Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;]]] = &#39;function&#39;, params: Optional[Iterable[object]] = None, autouse: bool = False, ids: Optional[Union[Sequence[Optional[object]], Callable[[Any], Optional[object]]]] = None, name: Optional[str] = None</code>) → <code>FixtureFunctionMarker</code></p><p>Decorator to mark a fixture factory function.</p><p>This decorator can be used, with or without parameters, to define a fixture function.</p><p>The name of the fixture function can later be referenced to cause its invocation ahead of running tests: test modules or classes can use the <code>pytest.mark.usefixtures(fixturename)</code> marker.</p><p>Test functions can directly use fixture names as input arguments in which case the fixture instance returned from the fixture function will be injected.</p><p>Fixtures can provide their values to test functions using <code>return</code> or <code>yield</code> statements. When using <code>yield</code> the code block after the <code>yield</code> statement is executed as teardown code regardless of the test outcome, and must yield exactly once.</p><p><em>Parameters</em>:</p><ul><li><p><code>scope</code> – The scope for which this fixture is shared; one of <code>&quot;function&quot;</code> (default), <code>&quot;class&quot;</code>, <code>&quot;module&quot;</code>, <code>&quot;package&quot;</code> or <code>&quot;session&quot;</code>. This parameter may also be a callable which receives <code>(fixture_name, config)</code> as parameters, and must return a str with one of the values mentioned above. See <a href="https://docs.pytest.org/en/latest/how-to/fixtures.html#dynamic-scope" target="_blank" rel="noreferrer">Dynamic scope </a>in the docs for more information.</p></li><li><p><code>params</code> – An optional list of parameters which will cause multiple invocations of the fixture function and all of the tests using it. The current parameter is available in <code>request.param</code>.</p></li><li><p><code>autouse</code> – If True, the fixture func is activated for all tests that can see it. If False (the default), an explicit reference is needed to activate the fixture.</p></li><li><p><code>ids</code> – Sequence of ids each corresponding to the params so that they are part of the test id. If no ids are provided they will be generated automatically from the params.</p></li><li><p><code>name</code> – The name of the fixture. This defaults to the name of the decorated function. If a fixture is used in the same module in which it is defined, the function name of the fixture will be shadowed by the function arg that requests the fixture; one way to resolve this is to name the decorated function <code>fixture_&lt;fixturename&gt;</code> and then use <code>@pytest.fixture(name=&#39;&lt;fixturename&gt;&#39;)</code>.</p></li></ul></li></ul><h3 id="capfd" tabindex="-1">capfd <a class="header-anchor" href="#capfd" aria-label="Permalink to &quot;capfd&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-stdout-stderr.html#captures" target="_blank" rel="noreferrer">How to capture stdout/stderr output</a></p><ul><li><p><strong>capfd</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/capture.html#capfd" target="_blank" rel="noreferrer">[source]</a></p><p>Enable text capturing of writes to file descriptors <code>1</code> and <code>2</code>.</p><p>The captured output is made available via <code>capfd.readouterr()</code> method calls, which return a <code>(out, err)</code> namedtuple. <code>out</code> and <code>err</code> will be <code>text</code> objects.</p><p>Returns an instance of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.CaptureFixture" target="_blank" rel="noreferrer">CaptureFixture[str]</a>.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_system_echo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">capfd</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">echo &quot;hello&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    captured </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> capfd</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readouterr</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> captured</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">out</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div></li></ul><h3 id="capfdbinary" tabindex="-1">capfdbinary <a class="header-anchor" href="#capfdbinary" aria-label="Permalink to &quot;capfdbinary&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-stdout-stderr.html#captures" target="_blank" rel="noreferrer">How to capture stdout/stderr output</a></p><ul><li><p><strong>capfdbinary</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/capture.html#capfdbinary" target="_blank" rel="noreferrer">[source]</a></p><p>Enable bytes capturing of writes to file descriptors <code>1</code> and <code>2</code>.</p><p>The captured output is made available via <code>capfd.readouterr()</code> method calls, which return a <code>(out, err)</code> namedtuple. <code>out</code> and <code>err</code> will be <code>byte</code> objects.</p><p>Returns an instance of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.CaptureFixture" target="_blank" rel="noreferrer">CaptureFixture[bytes]</a>.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_system_echo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">capfdbinary</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">echo &quot;hello&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    captured </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> capfdbinary</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readouterr</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> captured</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">out</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div></li></ul><h3 id="caplog" tabindex="-1">caplog <a class="header-anchor" href="#caplog" aria-label="Permalink to &quot;caplog&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a></p><ul><li><p><strong>caplog</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/logging.html#caplog" target="_blank" rel="noreferrer">[source]</a></p><p>Access and control log capturing.</p><p>Captured logs are available through the following properties/methods:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> caplog.messages        -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> list of format-interpolated log messages</span></span>
<span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> caplog.text            -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> string containing formatted log output</span></span>
<span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> caplog.records         -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> list of logging.LogRecord instances</span></span>
<span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> caplog.record_tuples   -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> list of </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">logger_name,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">level,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> tuples</span></span>
<span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">caplog.clear</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">         -&gt; clear captured records and formatted log output string</span></span></code></pre></div><p>Returns a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.LogCaptureFixture" target="_blank" rel="noreferrer">pytest.LogCaptureFixture</a> instance.</p></li><li><p>final class <strong>LogCaptureFixture</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/logging.html#LogCaptureFixture" target="_blank" rel="noreferrer">[source]</a></p><p>Provides access and control of log capturing.</p><ul><li><p>property <strong>handler</strong>: <code>LogCaptureHandler</code></p><p>Get the logging handler used by the fixture.</p></li><li><p><strong>get_records</strong>(<code>when</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/logging.html#LogCaptureFixture.get_records" target="_blank" rel="noreferrer">[source]</a></p><p>Get the logging records for one of the possible test phases.</p><p><em>Parameters</em>:</p><ul><li><code>when (Literal[&#39;setup&#39;, &#39;call&#39;, &#39;teardown&#39;])</code> – Which test phase to obtain the records from. Valid values are: “setup”, “call” and “teardown”.</li></ul><p><em>Returns</em>: The list of captured records at the given stage.</p><p><em>Return type</em>: <code>List[LogRecord]</code></p><p><em>New in version 3.4.</em></p></li><li><p>property <strong>text</strong>: str</p><p>The formatted log text.</p></li><li><p>property <strong>records</strong>: <code>List[LogRecord]</code></p><p>The list of log records.</p></li><li><p>property <strong>record_tuples</strong>: <code>List[Tuple[str, int, str]]</code></p><p>A list of a stripped down version of log records intended for use in assertion comparison.</p><p>The format of the tuple is: <code>(logger_name, log_level, message)</code></p></li><li><p>property <strong>messages</strong>: <code>List[str]</code></p><p>A list of format-interpolated log messages.</p><p>Unlike ‘records’, which contains the format string and parameters for interpolation, log messages in this list are all interpolated.</p><p>Unlike ‘text’, which contains the output from the handler, log messages in this list are unadorned with levels, timestamps, etc, making exact comparisons more reliable.</p><p>Note that traceback or stack info (from <a href="https://docs.python.org/3/library/logging.html#logging.exception" target="_blank" rel="noreferrer">logging.exception()</a> or the <code>exc_info</code> or <code>stack_info</code> arguments to the logging functions) is not included, as this is added by the formatter in the handler.</p><p><em>New in version 3.7.</em></p></li><li><p><strong>clear</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/logging.html#LogCaptureFixture.clear" target="_blank" rel="noreferrer">[source]</a></p><p>Reset the list of log records and the captured log text.</p></li><li><p><strong>set_level</strong>(<code>level, logger=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/logging.html#LogCaptureFixture.set_level" target="_blank" rel="noreferrer">[source]</a></p><p>Set the threshold level of a logger for the duration of a test.</p><p>Logging messages which are less severe than this level will not be captured.</p><p><em>Changed in version 3.4</em>: The levels of the loggers changed by this function will be restored to their initial values at the end of the test.</p><p>Will enable the requested logging level if it was disabled via <code>logging.disable()</code>.</p><p><em>Parameters</em>:</p><ul><li><p><code>level (Union[int, str])</code> – The level.</p></li><li><p><code>logger (Optional[str])</code> – The logger to update. If not given, the root logger.</p></li></ul></li><li><p><strong>with at_level</strong>(<code>level, logger=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/logging.html#LogCaptureFixture.at_level" target="_blank" rel="noreferrer">[source]</a></p><p>Context manager that sets the level for capturing of logs. After the end of the ‘with’ statement the level is restored to its original value.</p><p>Will enable the requested logging level if it was disabled via logging.disable().</p><p><em>Parameters</em>:</p><ul><li><p><code>level (Union[int, str])</code> – The level.</p></li><li><p><code>logger (Optional[str])</code> – The logger to update. If not given, the root logger.</p></li></ul></li></ul></li></ul><h3 id="capsys" tabindex="-1">capsys <a class="header-anchor" href="#capsys" aria-label="Permalink to &quot;capsys&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-stdout-stderr.html#captures" target="_blank" rel="noreferrer">How to capture stdout/stderr output</a></p><ul><li><p><strong>capsys</strong>() [source]</p><p>Enable text capturing of writes to <code>sys.stdout</code> and <code>sys.stderr</code>.</p><p>The captured output is made available via <code>capsys.readouterr()</code> method calls, which return a <code>(out, err)</code> namedtuple. <code>out</code> and <code>err</code> will be <code>text</code> objects.</p><p>Returns an instance of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.CaptureFixture" target="_blank" rel="noreferrer">CaptureFixture[str]</a>.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_output</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">capsys</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    captured </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> capsys</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readouterr</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> captured</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">out</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div></li><li><p>class <strong>CaptureFixture</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/capture.html#CaptureFixture" target="_blank" rel="noreferrer">[source]</a></p><p>Object returned by the <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-capsys" target="_blank" rel="noreferrer">capsys</a>, <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-capsysbinary" target="_blank" rel="noreferrer">capsysbinary</a>, <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-capfd" target="_blank" rel="noreferrer">capfd</a> and <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-capfdbinary" target="_blank" rel="noreferrer">capfdbinary</a> fixtures.</p><ul><li><p><strong>readouterr</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/capture.html#CaptureFixture.readouterr" target="_blank" rel="noreferrer">[source]</a></p><p>Read and return the captured output so far, resetting the internal buffer.</p><p><em>Returns</em>: The captured content as a namedtuple with out and err string attributes.</p><p><em>Return type</em>: <code>CaptureResult</code></p></li><li><p><strong>with disabled</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/capture.html#CaptureFixture.disabled" target="_blank" rel="noreferrer">[source]</a></p><p>Temporarily disable capturing while inside the with block.</p></li></ul></li></ul><h3 id="capsysbinary" tabindex="-1">capsysbinary <a class="header-anchor" href="#capsysbinary" aria-label="Permalink to &quot;capsysbinary&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-stdout-stderr.html#captures" target="_blank" rel="noreferrer">How to capture stdout/stderr output</a></p><ul><li><p><strong>capsysbinary</strong>() [source]</p><p>Enable bytes capturing of writes to <code>sys.stdout</code> and <code>sys.stderr</code>.</p><p>The captured output is made available via <code>capsysbinary.readouterr()</code> method calls, which return a <code>(out, err)</code> namedtuple. <code>out</code> and <code>err</code> will be <code>bytes</code> objects.</p><p><em>Returns</em> an instance of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.CaptureFixture" target="_blank" rel="noreferrer">CaptureFixture[bytes]</a>.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_output</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">capsysbinary</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    captured </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> capsysbinary</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readouterr</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> captured</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">out</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div></li></ul><h3 id="config-cache" tabindex="-1">config.cache <a class="header-anchor" href="#config-cache" aria-label="Permalink to &quot;config.cache&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/cache.html#cache" target="_blank" rel="noreferrer">How to re-run failed tests and maintain state between test runs</a></p><p>The <code>config.cache</code> object allows other plugins and fixtures to store and retrieve values across test runs. To access it from fixtures request <code>pytestconfig</code> into your fixture and get it with <code>pytestconfig.cache</code>.</p><p>Under the hood, the cache plugin uses the simple <code>dumps/loads</code> API of the json stdlib module.</p><p><code>config.cache</code> is an instance of <code>pytest.Cache</code>:</p><ul><li><p>final class <strong>Cache</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/cacheprovider.html#Cache" target="_blank" rel="noreferrer">[source]</a></p><p>Instance of the <code>cache</code> fixture.</p><ul><li><p><strong>mkdir</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/cacheprovider.html#Cache.mkdir" target="_blank" rel="noreferrer">[source]</a></p><p>Return a directory path object with the given name.</p><p>If the directory does not yet exist, it will be created. You can use it to manage files to e.g. store/retrieve database dumps across test sessions.</p><p><em>New in version 7.0.</em></p><p><em>Parameters</em>:</p><ul><li><code>name (str)</code> – Must be a string not containing a <code>/</code> separator. Make sure the name contains your plugin or application identifiers to prevent clashes with other cache users.</li></ul></li><li><p><strong>get</strong>(<code>key, default</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/cacheprovider.html#Cache.get" target="_blank" rel="noreferrer">[source]</a></p><p>Return the cached value for the given key.</p><p>If no value was yet cached or the value cannot be read, the specified default is returned.</p><p><em>Parameters</em>:</p><ul><li><p><code>key (str)</code> – Must be a <code>/</code> separated value. Usually the first name is the name of your plugin or your application.</p></li><li><p><code>default</code> – The value to return in case of a cache-miss or invalid cache value.</p></li></ul></li><li><p><strong>set</strong>(<code>key, value</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/cacheprovider.html#Cache.set" target="_blank" rel="noreferrer">[source]</a></p><p>Save value for the given key.</p><p><em>Parameters</em>:</p><ul><li><p><code>key (str)</code> – Must be a / separated value. Usually the first name is the name of your plugin or your application.</p></li><li><p><code>value (object)</code> – Must be of any combination of basic python types, including nested types like lists of dictionaries.</p></li></ul></li></ul></li></ul><h3 id="doctest-namespace" tabindex="-1">doctest_namespace <a class="header-anchor" href="#doctest-namespace" aria-label="Permalink to &quot;doctest_namespace&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/doctest.html#doctest" target="_blank" rel="noreferrer">How to run doctests</a></p><ul><li><p><strong>doctest_namespace</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/doctest.html#doctest_namespace" target="_blank" rel="noreferrer">[source]</a></p><p>Fixture that returns a dict that will be injected into the namespace of doctests.</p><p>Usually this fixture is used in conjunction with another <code>autouse</code> fixture:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fixture</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">autouse</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add_np</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">doctest_namespace</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    doctest_namespace</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">np</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> numpy</span></span></code></pre></div><p>For more details: <a href="https://docs.pytest.org/en/latest/how-to/doctest.html#doctest-namespace" target="_blank" rel="noreferrer">‘doctest_namespace’ fixture</a>.</p></li></ul><h3 id="monkeypatch" tabindex="-1">monkeypatch <a class="header-anchor" href="#monkeypatch" aria-label="Permalink to &quot;monkeypatch&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/monkeypatch.html#monkeypatching" target="_blank" rel="noreferrer">How to monkeypatch/mock modules and environments</a></p><ul><li><p><strong>monkeypatch</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#monkeypatch" target="_blank" rel="noreferrer">[source]</a></p><p>A convenient fixture for monkey-patching.</p><p>The fixture provides these methods to modify objects, dictionaries, or <a href="https://docs.python.org/3/library/os.html#os.environ" target="_blank" rel="noreferrer">os.environ</a>:</p><ul><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.setattr" target="_blank" rel="noreferrer">monkeypatch.setattr(<code>obj, name, value, raising=True</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.delattr" target="_blank" rel="noreferrer">monkeypatch.delattr(<code>obj, name, raising=True</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.setitem" target="_blank" rel="noreferrer">monkeypatch.setitem(<code>mapping, name, value</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.delitem" target="_blank" rel="noreferrer">monkeypatch.delitem(<code>obj, name, raising=True</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.setenv" target="_blank" rel="noreferrer">monkeypatch.setenv(<code>name, value, prepend=None</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.delenv" target="_blank" rel="noreferrer">monkeypatch.delenv(<code>name, raising=True</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.syspath_prepend" target="_blank" rel="noreferrer">monkeypatch.syspath_prepend(<code>path</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.chdir" target="_blank" rel="noreferrer">monkeypatch.chdir(<code>path</code>)</a></p></li><li><p><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.context" target="_blank" rel="noreferrer">monkeypatch.context()</a></p></li></ul><p>All modifications will be undone after the requesting test function or fixture has finished. The <code>raising</code> parameter determines if a <a href="https://docs.python.org/3/library/exceptions.html#KeyError" target="_blank" rel="noreferrer">KeyError</a> or <a href="https://docs.python.org/3/library/exceptions.html#AttributeError" target="_blank" rel="noreferrer">AttributeError</a> will be raised if the set/deletion operation does not have the specified target.</p><p>To undo modifications done by the fixture in a contained scope, use <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.context" target="_blank" rel="noreferrer">context()</a>.</p><p>Returns a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch" target="_blank" rel="noreferrer">MonkeyPatch</a> instance.</p></li><li><p>final class <strong>MonkeyPatch</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch" target="_blank" rel="noreferrer">[source]</a></p><p>Helper to conveniently monkeypatch attributes/items/environment variables/syspath.</p><p>Returned by the <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-monkeypatch" target="_blank" rel="noreferrer">monkeypatch</a> fixture.</p><p><em>Changed in version 6.2</em>: Can now also be used directly as <code>pytest.MonkeyPatch()</code>, for when the fixture is not available. In this case, use <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.context" target="_blank" rel="noreferrer">with MonkeyPatch.context() as mp</a>: or remember to call <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.undo" target="_blank" rel="noreferrer">undo()</a> explicitly.</p><ul><li><p>classmethod <strong>with context</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.context" target="_blank" rel="noreferrer">[source]</a></p><p>Context manager that returns a new <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch" target="_blank" rel="noreferrer">MonkeyPatch</a> object which undoes any patching done inside the · block upon exit.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> functools</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_partial</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">monkeypatch</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;"> monkeypatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">context</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> m</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        m</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setattr</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">functools</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">partial</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>Useful in situations where it is desired to undo some patches before the test ends, such as mocking <code>stdlib</code> functions that might break pytest itself if mocked (for examples of this see <a href="https://github.com/pytest-dev/pytest/issues/3290" target="_blank" rel="noreferrer">issue #3290</a>).</p></li><li><p><strong>setattr</strong>(<code>target: str, name: object, value: ~_pytest.monkeypatch.Notset = &lt;notset&gt;, raising: bool = True</code>) → <code>None</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.setattr" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>setattr</strong>(<code>target: object, name: str, value: object, raising: bool = True</code>) → <code>None</code></p><p>Set attribute value on target, memorizing the old value.</p><p><em>For example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">monkeypatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setattr</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">os</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">getcwd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#C792EA;">lambda</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>The code above replaces the <a href="https://docs.python.org/3/library/os.html#os.getcwd" target="_blank" rel="noreferrer">os.getcwd()</a> function by a <code>lambda</code> which always returns <code>&quot;/&quot;</code>.</p><p>For convenience, you can specify a string as <code>target</code> which will be interpreted as a dotted import path, with the last part being the attribute name:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">monkeypatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setattr</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">os.getcwd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#C792EA;">lambda</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>Raises <a href="https://docs.python.org/3/library/exceptions.html#AttributeError" target="_blank" rel="noreferrer">AttributeError</a> if the attribute does not exist, unless <code>raising</code> is set to False.</p><p><em>Where to patch</em></p><p><code>monkeypatch.setattr</code> works by (temporarily) changing the object that a name points to with another one. There can be many names pointing to any individual object, so for patching to work you must ensure that you patch the name used by the system under test.</p><p>See the section <a href="https://docs.python.org/3/library/unittest.mock.html#where-to-patch" target="_blank" rel="noreferrer">Where to patch</a> in the <a href="https://docs.python.org/3/library/unittest.mock.html#module-unittest.mock" target="_blank" rel="noreferrer">unittest.mock</a> docs for a complete explanation, which is meant for <a href="https://docs.python.org/3/library/unittest.mock.html#unittest.mock.patch" target="_blank" rel="noreferrer">unittest.mock.patch()</a> but applies to <code>monkeypatch.setattr</code> as well.</p></li><li><p><strong>delattr</strong>(<code>target, name=&lt;notset&gt;, raising=True</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.delattr" target="_blank" rel="noreferrer">[source]</a></p><p>Delete attribute <code>name</code> from <code>target</code>.</p><p>If no <code>name</code> is specified and <code>target</code> is a string it will be interpreted as a dotted import path with the last part being the attribute name.</p><p>Raises AttributeError it the attribute does not exist, unless <code>raising</code> is set to False.</p></li><li><p><strong>setitem</strong>(<code>dic, name, value</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.setitem" target="_blank" rel="noreferrer">[source]</a></p><p>Set dictionary entry <code>name</code> to value.</p></li><li><p><strong>delitem</strong>(<code>dic, name, raising=True</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.delitem" target="_blank" rel="noreferrer">[source]</a></p><p>Delete <code>name</code> from dict.</p><p>Raises <code>KeyError</code> if it doesn’t exist, unless <code>raising</code> is set to False.</p></li><li><p><strong>setenv</strong>(<code>name, value, prepend=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.setenv" target="_blank" rel="noreferrer">[source]</a></p><p>Set environment variable <code>name</code> to <code>value</code>.</p><p>If <code>prepend</code> is a character, read the current environment variable value and prepend the <code>value</code> adjoined with the <code>prepend</code> character.</p></li><li><p><strong>delenv</strong>(<code>name, raising=True</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.delenv" target="_blank" rel="noreferrer">[source]</a></p><p>Delete <code>name</code> from the environment.</p><p>Raises <code>KeyError</code> if it does not exist, unless <code>raising</code> is set to False.</p></li><li><p><strong>syspath_prepend</strong>(<code>path</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.syspath_prepend" target="_blank" rel="noreferrer">[source]</a></p><p>Prepend <code>path</code> to <code>sys.path</code> list of import locations.</p></li><li><p><strong>chdir</strong>(<code>path</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.chdir" target="_blank" rel="noreferrer">[source]</a></p><p>Change the current working directory to the specified path.</p><p><em>Parameters</em>:</p><ul><li><code>path (Union[str, PathLike[str]])</code> – The path to change into.</li></ul></li><li><p><strong>undo</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/monkeypatch.html#MonkeyPatch.undo" target="_blank" rel="noreferrer">[source]</a></p><p>Undo previous changes.</p><p>This call consumes the undo stack. Calling it a second time has no effect unless you do more monkeypatching after the undo call.</p><p>There is generally no need to call <code>undo()</code>, since it is called automatically during tear-down.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The same <code>monkeypatch</code> fixture is used across a single test function invocation. If <code>monkeypatch</code> is used both by the test function itself and one of the test fixtures, calling <code>undo()</code> will undo all of the changes made in both functions.</p><p>Prefer to use <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MonkeyPatch.context" target="_blank" rel="noreferrer">context()</a> instead.</p></div></li></ul></li></ul><h3 id="pytestconfig" tabindex="-1">pytestconfig <a class="header-anchor" href="#pytestconfig" aria-label="Permalink to &quot;pytestconfig&quot;">​</a></h3><ul><li><p><strong>pytestconfig</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#pytestconfig" target="_blank" rel="noreferrer">[source]</a></p><p>Session-scoped fixture that returns the session’s <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">pytest.Config</a> object.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_foo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">pytestconfig</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> pytestconfig</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getoption</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">verbose</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        ...</span></span></code></pre></div></li></ul><h3 id="pytester" tabindex="-1">pytester <a class="header-anchor" href="#pytester" aria-label="Permalink to &quot;pytester&quot;">​</a></h3><p><em>New in version 6.2.</em></p><p>Provides a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester" target="_blank" rel="noreferrer">Pytester</a> instance that can be used to run and test pytest itself.</p><p>It provides an empty directory where pytest can be executed in isolation, and contains facilities to write tests, configuration files, and match against expected output.</p><p>To use it, include in your topmost <code>conftest.py</code> file:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pytest_plugins </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pytester</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><ul><li><p>final class <strong>Pytester</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester" target="_blank" rel="noreferrer">[source]</a></p><p>Facilities to write tests/configuration files, execute pytest in isolation, and match against expected output, perfect for black-box testing of pytest plugins.</p><p>It attempts to isolate the test run from external factors as much as possible, modifying the current working directory to path and environment variables during initialization.</p><ul><li><p>exception <strong>TimeoutExpired</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.TimeoutExpired" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>plugins</strong>: <code>List[Union[str, object]]</code></p><p>A list of plugins to use with <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfig" target="_blank" rel="noreferrer">parseconfig()</a> and <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpytest" target="_blank" rel="noreferrer">runpytest()</a>. Initially this is an empty list but plugins can be added to the list. The type of items to add to the list depends on the method using them so refer to them for details.</p></li><li><p>property <strong>path</strong>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p><p>Temporary directory path used to create files/run tests from, etc.</p></li><li><p><strong>make_hook_recorder</strong>(<code>pluginmanager</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.make_hook_recorder" target="_blank" rel="noreferrer">[source]</a></p><p>Create a new <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.HookRecorder" target="_blank" rel="noreferrer">HookRecorder</a> for a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.PytestPluginManager" target="_blank" rel="noreferrer">PytestPluginManager</a>.</p></li><li><p><strong>chdir</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.chdir" target="_blank" rel="noreferrer">[source]</a></p><p>Cd into the temporary directory.</p><p>This is done automatically upon instantiation.</p></li><li><p><strong>makefile</strong>(<code>ext, *args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.makefile" target="_blank" rel="noreferrer">[source]</a></p><p>Create new text file(s) in the test directory.</p><p><em>Parameters</em>:</p><ul><li><p><code>ext (str)</code> – The extension the file(s) should use, including the dot, e.g. <code>.py</code>.</p></li><li><p><code>args (str)</code> – All args are treated as strings and joined using newlines. The result is written as contents to the file. The name of the file is based on the test function requesting this fixture.</p></li><li><p><code>kwargs (str)</code> – Each keyword is the name of a file, while the value of it will be written as contents of the file.</p></li></ul><p><em>Returns</em>: The first created file.</p><p><em>Return type</em>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p><p><em>Examples</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pytester</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">makefile</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.txt</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">line2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pytester</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">makefile</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.ini</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;font-style:italic;">pytest</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[pytest]</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">addopts=-rs</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>To create binary files, use <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path.write_bytes" target="_blank" rel="noreferrer">pathlib.Path.write_bytes()</a> directly:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">filename </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pytester</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">joinpath</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foo.bin</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write_bytes</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">...</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li><li><p><strong>makeconftest</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.makeconftest" target="_blank" rel="noreferrer">[source]</a></p><p>Write a contest.py file.</p><p><em>Parameters</em>:</p><ul><li><code>source (str)</code> – The contents.</li></ul><p><em>Returns</em>: The conftest.py file.</p><p><em>Return type</em>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p></li><li><p><strong>makeini</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.makeini" target="_blank" rel="noreferrer">[source]</a></p><p>Write a tox.ini file.</p><p><em>Parameters</em>:</p><ul><li><code>source (str)</code> – The contents.</li></ul><p><em>Returns</em>: The tox.ini file.</p><p><em>Return type</em>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p></li><li><p><strong>getinicfg</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.getinicfg" target="_blank" rel="noreferrer">[source]</a></p><p>Return the pytest section from the tox.ini config file.</p></li><li><p><strong>makepyprojecttoml</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.makepyprojecttoml" target="_blank" rel="noreferrer">[source]</a></p><p>Write a pyproject.toml file.</p><p><em>Parameters</em>:</p><ul><li><code>source (str)</code> – The contents.</li></ul><p><em>Returns</em>: The pyproject.ini file.</p><p><em>Return type</em>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p><p><em>New in version 6.0.</em></p></li><li><p><strong>makepyfile</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.makepyfile" target="_blank" rel="noreferrer">[source]</a></p><p>Shortcut for .makefile() with a .py extension.</p><p>Defaults to the test name with a ‘.py’ extension, e.g test_foobar.py, overwriting existing files.</p><p><em>Examples</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_something</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">pytester</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># Initial file is created test_something.py.</span></span>
<span class="line"><span style="color:#A6ACCD;">    pytester</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">makepyfile</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foobar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># To create multiple files, pass kwargs accordingly.</span></span>
<span class="line"><span style="color:#A6ACCD;">    pytester</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">makepyfile</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">custom</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foobar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># At this point, both &#39;test_something.py&#39; &amp; &#39;custom.py&#39; exist in the test directory.</span></span></code></pre></div></li><li><p><strong>maketxtfile</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.maketxtfile" target="_blank" rel="noreferrer">[source]</a></p><p>Shortcut for .makefile() with a .txt extension.</p><p>Defaults to the test name with a ‘.txt’ extension, e.g test_foobar.txt, overwriting existing files.</p><p><em>Examples</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_something</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">pytester</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># Initial file is created test_something.txt.</span></span>
<span class="line"><span style="color:#A6ACCD;">    pytester</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">maketxtfile</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foobar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># To create multiple files, pass kwargs accordingly.</span></span>
<span class="line"><span style="color:#A6ACCD;">    pytester</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">maketxtfile</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">custom</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foobar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># At this point, both &#39;test_something.txt&#39; &amp; &#39;custom.txt&#39; exist in the test directory.</span></span></code></pre></div></li><li><p><strong>syspathinsert</strong>(<code>path=None</code>) [source]</p><p>Prepend a directory to sys.path, defaults to <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.path" target="_blank" rel="noreferrer">path</a>.</p><p>This is undone automatically when this object dies at the end of each test.</p><p><em>Parameters</em>:</p><ul><li><code>path (Optional[Union[str, PathLike[str]]])</code> – The path.</li></ul></li><li><p><strong>mkdir</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.mkdir" target="_blank" rel="noreferrer">[source]</a></p><p>Create a new (sub)directory.</p><p><em>Parameters</em>:</p><ul><li><code>name (Union[str, PathLike[str]])</code> – The name of the directory, relative to the pytester path.</li></ul><p><em>Returns</em>: The created directory.</p><p><em>Return type</em>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p></li><li><p><strong>mkpydir</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.mkpydir" target="_blank" rel="noreferrer">[source]</a></p><p>Create a new python package.</p><p>This creates a (sub)directory with an empty <code>__init__.py</code> file so it gets recognised as a Python package.</p></li><li><p><strong>copy_example</strong>(<code>name=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.copy_example" target="_blank" rel="noreferrer">[source]</a></p><p>Copy file from project’s directory into the testdir.</p><p><em>Parameters</em>:</p><ul><li><code>name (Optional[str])</code> – The name of the file to copy.</li></ul><p><em>Returns</em>: Path to the copied directory (inside <code>self.path</code>).</p><p><em>Return type</em>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p></li><li><p><strong>getnode</strong>(<code>config, arg</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.getnode" target="_blank" rel="noreferrer">[source]</a></p><p>Get the collection node of a file.</p><p><em>Parameters</em>:</p><ul><li><p><code>config (Config)</code> – A pytest config. See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfig" target="_blank" rel="noreferrer">parseconfig()</a> and <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfigure" target="_blank" rel="noreferrer">parseconfigure()</a> for creating it.</p></li><li><p><code>arg (Union[str, PathLike[str]])</code> – Path to the file.</p></li></ul><p><em>Returns</em>: The node.</p><p><em>Return type</em>: <code>Union[Collector, Item]</code></p></li><li><p><strong>getpathnode</strong>(<code>path</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.getpathnode" target="_blank" rel="noreferrer">[source]</a></p><p>Return the collection node of a file.</p><p>This is like <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getnode" target="_blank" rel="noreferrer">getnode()</a> but uses <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfigure" target="_blank" rel="noreferrer">parseconfigure()</a> to create the (configured) pytest Config instance.</p><p><em>Parameters</em>:</p><ul><li><code>path (Union[str, PathLike[str]])</code> – Path to the file.</li></ul><p><em>Returns</em>: The node.</p><p><em>Return type</em>: <code>Union[Collector, Item]</code></p></li><li><p><strong>genitems</strong>(<code>colitems</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.genitems" target="_blank" rel="noreferrer">[source]</a></p><p>Generate all test items from a collection node.</p><p>This recurses into the collection node and returns a list of all the test items contained within.</p><p><em>Parameters</em>:</p><ul><li><code>colitems (Sequence[Union[Item, Collector]])</code> – The collection nodes.</li></ul><p><em>Returns</em>: The collected items.</p><p><em>Return type</em>: <code>List[Item]</code></p></li><li><p><strong>runitem</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.runitem" target="_blank" rel="noreferrer">[source]</a></p><p>Run the “test_func” Item.</p><p>The calling test instance (class containing the test method) must provide a <code>.getrunner()</code> method which should return a runner which can run the test protocol for a single item, e.g. <code>_pytest.runner.runtestprotocol()</code>.</p></li><li><p><strong>inline_runsource</strong>(<code>source, *cmdlineargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.inline_runsource" target="_blank" rel="noreferrer">[source]</a></p><p>Run a test module in process using <code>pytest.main()</code>.</p><p>This run writes “source” into a temporary file and runs <code>pytest.main()</code> on it, returning a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.HookRecorder" target="_blank" rel="noreferrer">HookRecorder</a> instance for the result.</p><p><em>Parameters</em>:</p><ul><li><p><code>source (str)</code> – The source code of the test module.</p></li><li><p><code>cmdlineargs</code> – Any extra command line arguments to use.</p></li></ul></li><li><p><strong>inline_genitems</strong>(<code>*args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.inline_genitems" target="_blank" rel="noreferrer">[source]</a></p><p>Run <code>pytest.main([&#39;--collectonly&#39;])</code> in-process.</p><p>Runs the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a> function to run all of pytest inside the test process itself like <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.inline_run" target="_blank" rel="noreferrer">inline_run()</a>, but returns a tuple of the collected items and a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.HookRecorder" target="_blank" rel="noreferrer">HookRecorder</a> instance.</p></li><li><p><strong>inline_run</strong>(<code>*args, plugins=(), no_reraise_ctrlc=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.inline_run" target="_blank" rel="noreferrer">[source]</a></p><p>Run <code>pytest.main()</code> in-process, returning a HookRecorder.</p><p>Runs the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a> function to run all of pytest inside the test process itself. This means it can return a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.HookRecorder" target="_blank" rel="noreferrer">HookRecorder</a> instance which gives more detailed results from that run than can be done by matching stdout/stderr from <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpytest" target="_blank" rel="noreferrer">runpytest()</a>.</p><p><em>Parameters</em>:</p><ul><li><p><code>args (Union[str, PathLike[str]])</code> – Command line arguments to pass to <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a>.</p></li><li><p><code>plugins</code> – Extra plugin instances the <code>pytest.main()</code> instance should use.</p></li><li><p><code>no_reraise_ctrlc (bool)</code> – Typically we reraise keyboard interrupts from the child run. If True, the KeyboardInterrupt exception is captured.</p></li></ul></li><li><p><strong>runpytest_inprocess</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.runpytest_inprocess" target="_blank" rel="noreferrer">[source]</a></p><p>Return result of running pytest in-process, providing a similar interface to what self.runpytest() provides.</p></li><li><p><strong>runpytest</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.runpytest" target="_blank" rel="noreferrer">[source]</a></p><p>Run pytest inline or in a subprocess, depending on the command line option “–runpytest” and return a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.RunResult" target="_blank" rel="noreferrer">RunResult</a>.</p></li><li><p><strong>parseconfig</strong>(<code>*args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.parseconfig" target="_blank" rel="noreferrer">[source]</a></p><p>Return a new pytest <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">pytest.Config</a> instance from given commandline args.</p><p>This invokes the pytest bootstrapping code in _pytest.config to create a new <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.PytestPluginManager" target="_blank" rel="noreferrer">pytest.PytestPluginManager</a> and call the <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_cmdline_parse" target="_blank" rel="noreferrer">pytest_cmdline_parse</a> hook to create a new pytest.Config instance.</p><p>If <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.plugins" target="_blank" rel="noreferrer">plugins</a> has been populated they should be plugin modules to be registered with the plugin manager.</p></li><li><p><strong>parseconfigure</strong>(<code>*args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.parseconfigure" target="_blank" rel="noreferrer">[source]</a></p><p>Return a new pytest configured Config instance.</p><p>Returns a new <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">pytest.Config</a> instance like <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfig" target="_blank" rel="noreferrer">parseconfig()</a>, but also calls the <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_configure" target="_blank" rel="noreferrer">pytest_configure</a> hook.</p></li><li><p><strong>getitem</strong>(<code>source, funcname=&#39;test_func&#39;</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.getitem" target="_blank" rel="noreferrer">[source]</a></p><p>Return the test item for a test function.</p><p>Writes the source to a python file and runs pytest’s collection on the resulting module, returning the test item for the requested function name.</p><p><em>Parameters</em>:</p><ul><li><p><code>source(Union[str, PathLike[str]])</code> – The module source.</p></li><li><p><code>funcname(str)</code> – The name of the test function for which to return a test item.</p></li></ul><p><em>Returns</em>: The test item.</p><p><em>Return type</em>: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item" target="_blank" rel="noreferrer">Item</a></p></li><li><p><strong>getitems</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.getitem" target="_blank" rel="noreferrer">[source]</a></p><p>Return all test items collected from the module.</p><p>Writes the source to a Python file and runs pytest’s collection on the resulting module, returning all test items contained within.</p></li><li><p><strong>getmodulecol</strong>(<code>source, configargs=(), *, withinit=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.getmodulecol" target="_blank" rel="noreferrer">[source]</a></p><p>Return the module collection node for <code>source</code>.</p><p>Writes <code>source</code> to a file using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.makepyfile" target="_blank" rel="noreferrer">makepyfile()</a> and then runs the pytest collection on it, returning the collection node for the test module.</p><p><em>Parameters</em>:</p><ul><li><p><code>source (Union[str, PathLike[str]])</code> – The source code of the module to collect.</p></li><li><p><code>configargs</code> – Any extra arguments to pass to parseconfigure().</p></li><li><p><code>withinit (bool)</code> – Whether to also write an <code>__init__.py</code> file to the same directory to ensure it is a package.</p></li></ul></li><li><p><strong>collect_by_name</strong>(<code>modcol, name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.collect_by_name" target="_blank" rel="noreferrer">[source]</a></p><p>Return the collection node for name from the module collection.</p><p>Searches a module collection node for a collection node matching the given name.</p><p><em>Parameters</em>:</p><ul><li><p><code>modcol (Collector)</code> – A module collection node; see getmodulecol().</p></li><li><p><code>name (str)</code> – The name of the node to return.</p></li></ul></li><li><p><strong>popen</strong>(<code>cmdargs, stdout=-1, stderr=-1, stdin=NotSetType.token, **kw</code>) [source]</p><p>Invoke <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a>.</p><p>Calls <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a> making sure the current working directory is in <code>PYTHONPATH</code>.</p><p>You probably want to use <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.run" target="_blank" rel="noreferrer">run()</a> instead.</p></li><li><p><strong>run</strong>(<code>*cmdargs, timeout=None, stdin=NotSetType.token</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.run" target="_blank" rel="noreferrer">[source]</a></p><p>Run a command with arguments.</p><p>Run a process using <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a> saving the stdout and stderr.</p><p><em>Parameters</em>:</p><ul><li><p>cmdargs (Union[str, PathLike[str]]) – The sequence of arguments to pass to <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a>, with path-like objects being converted to str automatically.</p></li><li><p>timeout (Optional[float]) – The period in seconds after which to timeout and raise <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.TimeoutExpired" target="_blank" rel="noreferrer">Pytester.TimeoutExpired</a>.</p></li><li><p>stdin (Union[NotSetType, bytes, IO[Any], int]) – Optional standard input.</p><ul><li><p>If it is <code>CLOSE_STDIN</code> (Default), then this method calls <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a> with <code>stdin=subprocess.PIPE</code>, and the standard input is closed immediately after the new command is started.</p></li><li><p>If it is of type <a href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank" rel="noreferrer">bytes</a>, these bytes are sent to the standard input of the command.</p></li><li><p>Otherwise, it is passed through to <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a>. For further information in this case, consult the document of the · parameter in <a href="https://docs.python.org/3/library/subprocess.html#subprocess.Popen" target="_blank" rel="noreferrer">subprocess.Popen</a>.</p></li></ul></li></ul><p><em>Returns</em>: The result.</p><p><em>Return type</em>: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.RunResult" target="_blank" rel="noreferrer">RunResult</a></p></li><li><p><strong>runpython</strong>(<code>script</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.runpython" target="_blank" rel="noreferrer">[source]</a></p><p>Run a python script using sys.executable as interpreter.</p></li><li><p><strong>runpython_c</strong>(<code>command</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.runpython_c" target="_blank" rel="noreferrer">[source]</a></p><p>Run <code>python -c &quot;command&quot;</code>.</p></li><li><p><strong>runpytest_subprocess</strong>(<code>*args, timeout=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.runpytest_subprocess" target="_blank" rel="noreferrer">[source]</a></p><p>Run pytest as a subprocess with given arguments.</p><p>Any plugins added to the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.plugins" target="_blank" rel="noreferrer">plugins</a> list will be added using the <code>-p</code> command line option. Additionally <code>--basetemp</code> is used to put any temporary files and directories in a numbered directory prefixed with “runpytest-” to not conflict with the normal numbered pytest location for temporary files and directories.</p><p><em>Parameters</em>:</p><ul><li><p><code>args (Union[str, PathLike[str]])</code> – The sequence of arguments to pass to the pytest subprocess.</p></li><li><p><code>timeout (Optional[float])</code> – The period in seconds after which to timeout and raise <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.TimeoutExpired" target="_blank" rel="noreferrer">Pytester.TimeoutExpired</a>.</p></li></ul><p><em>Returns</em>: The result.</p><p><em>Return type</em>: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.RunResult" target="_blank" rel="noreferrer">RunResult</a></p></li><li><p><strong>spawn_pytest</strong>(<code>string, expect_timeout=10.0</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.spawn_pytest" target="_blank" rel="noreferrer">[source]</a></p><p>Run pytest using pexpect.</p><p>This makes sure to use the right pytest and sets up the temporary directory locations.</p><p>The pexpect child is returned.</p></li><li><p><strong>spawn</strong>(<code>cmd, expect_timeout=10.0</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#Pytester.spawn" target="_blank" rel="noreferrer">[source]</a></p><p>Run a command using pexpect.</p><p>The pexpect child is returned.</p></li></ul></li><li><p>final class <strong>RunResult</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#RunResult" target="_blank" rel="noreferrer">[source]</a></p><p>The result of running a command from <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester" target="_blank" rel="noreferrer">Pytester</a>.</p><ul><li><p><strong>ret</strong>: <code>Union[int, ExitCode]</code></p><p>The return value.</p></li><li><p><strong>outlines</strong></p><p>List of lines captured from stdout.</p></li><li><p><strong>errlines</strong></p><p>List of lines captured from stderr.</p></li><li><p><strong>stdout</strong></p><p>LineMatcher of stdout.</p><p>Use e.g. <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.LineMatcher.__str__" target="_blank" rel="noreferrer">str(stdout)</a> to reconstruct stdout, or the commonly used <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.LineMatcher.fnmatch_lines" target="_blank" rel="noreferrer">stdout.fnmatch_lines()</a> method.</p></li><li><p><strong>stderr</strong></p><ul><li><a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.LineMatcher" target="_blank" rel="noreferrer">LineMatcher</a> of stderr.</li></ul></li><li><p><strong>duration</strong></p><ul><li>Duration in seconds.</li></ul></li><li><p><strong>parseoutcomes</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#RunResult.parseoutcomes" target="_blank" rel="noreferrer">[source]</a></p><p>Return a dictionary of outcome noun -&gt; count from parsing the terminal output that the test process produced.</p><p>The returned nouns will always be in plural form:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">======= </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failed,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">passed,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warning,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">error</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.13</span><span style="color:#C3E88D;">s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">====</span></span></code></pre></div><p>Will return <code>{&quot;failed&quot;: 1, &quot;passed&quot;: 1, &quot;warnings&quot;: 1, &quot;errors&quot;: 1}</code>.</p></li><li><p>classmethod <strong>parse_summary_nouns</strong>(<code>lines</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#RunResult.parse_summary_nouns" target="_blank" rel="noreferrer">[source]</a></p><p>Extract the nouns from a pytest terminal summary line.</p><p>It always returns the plural noun for consistency:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">======= </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failed,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">passed,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warning,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">error</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.13</span><span style="color:#C3E88D;">s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">====</span></span></code></pre></div><p>Will return {&quot;failed&quot;: 1, &quot;passed&quot;: 1, &quot;warnings&quot;: 1, &quot;errors&quot;: 1}.</p></li><li><p><strong>assert_outcomes</strong>(<code>passed=0, skipped=0, failed=0, errors=0, xpassed=0, xfailed=0, warnings=None, deselected=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#RunResult.assert_outcomes" target="_blank" rel="noreferrer">[source]</a></p><p>Assert that the specified outcomes appear with the respective numbers (0 means it didn’t occur) in the text output from a test run.</p><p><code>warnings</code> and <code>deselected</code> are only checked if not None.</p></li></ul></li><li><p>class <strong>LineMatcher</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher" target="_blank" rel="noreferrer">[source]</a></p><p>Flexible matching of text.</p><p>This is a convenience class to test large texts like the output of commands.</p><p>The constructor takes a list of lines without their trailing newlines, i.e. <code>text.splitlines()</code>.</p><ul><li><p><strong><strong>str</strong></strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.__str__" target="_blank" rel="noreferrer">[source]</a></p><p>Return the entire original text.</p><p><em>New in version 6.2</em>: You can use <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.LineMatcher.str" target="_blank" rel="noreferrer">str()</a> in older versions.</p></li><li><p><strong>fnmatch_lines_random</strong>(<code>lines2</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.fnmatch_lines_random" target="_blank" rel="noreferrer">[source]</a></p><p>Check lines exist in the output in any order (using <a href="https://docs.python.org/3/library/fnmatch.html#fnmatch.fnmatch" target="_blank" rel="noreferrer">fnmatch.fnmatch()</a>).</p></li><li><p><strong>re_match_lines_random</strong>(<code>lines2</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.re_match_lines_random" target="_blank" rel="noreferrer">[source]</a></p><p>Check lines exist in the output in any order (using <a href="https://docs.python.org/3/library/re.html#re.match" target="_blank" rel="noreferrer">re.match()</a>).</p></li><li><p><strong>get_lines_after</strong>(<code>fnline</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.get_lines_after" target="_blank" rel="noreferrer">[source]</a></p><p>Return all lines following the given line in the text.</p><p>The given line can contain glob wildcards.</p></li><li><p><strong>fnmatch_lines</strong>(<code>lines2, *, consecutive=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.fnmatch_lines" target="_blank" rel="noreferrer">[source]</a></p><p>Check lines exist in the output (using <a href="https://docs.python.org/3/library/fnmatch.html#fnmatch.fnmatch" target="_blank" rel="noreferrer">fnmatch.fnmatch()</a>).</p><p>The argument is a list of lines which have to match and can use glob wildcards. If they do not match a pytest.fail() is called. The matches and non-matches are also shown as part of the error message.</p><p><em>Parameters</em>:</p><ul><li><p><code>lines2 (Sequence[str])</code> – String patterns to match.</p></li><li><p><code>consecutive (bool)</code> – Match lines consecutively?</p></li></ul></li><li><p><strong>re_match_lines</strong>(<code>lines2, *, consecutive=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.re_match_lines" target="_blank" rel="noreferrer">[source]</a></p><p>Check lines exist in the output (using <a href="https://docs.python.org/3/library/re.html#re.match" target="_blank" rel="noreferrer">re.match()</a>).</p><p>The argument is a list of lines which have to match using <code>re.match</code>. If they do not match a pytest.fail() is called.</p><p>The matches and non-matches are also shown as part of the error message.</p><p><em>Parameters</em>:</p><ul><li><p><code>lines2 (Sequence[str])</code> – string patterns to match.</p></li><li><p><code>consecutive (bool)</code> – match lines consecutively?</p></li></ul></li><li><p><strong>no_fnmatch_line</strong>(<code>pat</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.no_fnmatch_line" target="_blank" rel="noreferrer">[source]</a></p><p>Ensure captured lines do not match the given pattern, using <code>fnmatch.fnmatch</code>.</p><p><em>Parameters</em>:</p><ul><li><code>pat (str)</code> – The pattern to match lines.</li></ul></li><li><p><strong>no_re_match_line</strong>(<code>pat</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.no_re_match_line" target="_blank" rel="noreferrer">[source]</a></p><p>Ensure captured lines do not match the given pattern, using <code>re.match</code>.</p><p><em>Parameters</em>:</p><ul><li><code>pat (str)</code> – The regular expression to match lines.</li></ul></li><li><p><strong>str</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#LineMatcher.str" target="_blank" rel="noreferrer">[source]</a></p><p>Return the entire original text.</p></li></ul></li><li><p>final class <strong>HookRecorder</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#HookRecorder" target="_blank" rel="noreferrer">[source]</a></p><p>Record all hooks called in a plugin manager.</p><p>Hook recorders are created by <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester" target="_blank" rel="noreferrer">Pytester</a>.</p><p>This wraps all the hook calls in the plugin manager, recording each call before propagating the normal calls.</p><ul><li><p><strong>getcalls</strong>(<code>names</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#HookRecorder.getcalls" target="_blank" rel="noreferrer">[source]</a></p><p>Get all recorded calls to hooks with the given names (or name).</p></li><li><p><strong>matchreport</strong>(<code>inamepart=&#39;&#39;, names=(&#39;pytest_runtest_logreport&#39;, &#39;pytest_collectreport&#39;), when=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/pytester.html#HookRecorder.matchreport" target="_blank" rel="noreferrer">[source]</a></p><p>Return a testreport whose dotted import path matches.</p></li></ul></li><li><p>final class <strong>RecordedHookCall</strong> [source]</p><p>A recorded call to a hook.</p><p>The arguments to the hook call are set as attributes. For example:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">calls </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> hook_recorder</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getcalls</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">pytest_runtest_setup</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Suppose pytest_runtest_setup was called once with \`item=an_item\`.</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">assert</span><span style="color:#A6ACCD;"> calls</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#F07178;">item</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">is</span><span style="color:#A6ACCD;"> an_item</span></span></code></pre></div></li></ul><h3 id="record-property" tabindex="-1">record_property <a class="header-anchor" href="#record-property" aria-label="Permalink to &quot;record_property&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/output.html#record-property-example" target="_blank" rel="noreferrer">record_property</a></p><ul><li><p><strong>record_property</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/junitxml.html#record_property" target="_blank" rel="noreferrer">[source]</a></p><p>Add extra properties to the calling test.</p><p>User properties become part of the test report and are available to the configured reporters, like JUnit XML.</p><p>The fixture is callable with <code>name, value</code>. The value is automatically XML-encoded.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">record_property</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">record_property</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">example_key</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li></ul><h3 id="record-testsuite-property" tabindex="-1">record_testsuite_property <a class="header-anchor" href="#record-testsuite-property" aria-label="Permalink to &quot;record_testsuite_property&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/output.html#record-testsuite-property-example" target="_blank" rel="noreferrer">record_testsuite_property</a></p><ul><li><p><strong>record_testsuite_property</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/junitxml.html#record_testsuite_property" target="_blank" rel="noreferrer">[source]</a></p><p>Record a new <code>&lt;property&gt;</code> tag as child of the root <code>&lt;testsuite&gt;</code>.</p><p>This is suitable to writing global information regarding the entire test suite, and is compatible with <code>xunit2</code> JUnit family.</p><p>This is a <code>session-scoped</code> fixture which is called with <code>(name, value)</code>.</p><p><em>Example</em>:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_foo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">record_testsuite_property</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">record_testsuite_property</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ARCH</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">PPC</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">record_testsuite_property</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">STORAGE_TYPE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CEPH</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p><em>Parameters</em>:</p><ul><li><p><code>name</code> – The property name.</p></li><li><p><code>value</code> – The property value. Will be converted to a string.</p></li></ul><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>Currently this fixture does not work with the pytest-xdist plugin. See <a href="https://github.com/pytest-dev/pytest/issues/7767" target="_blank" rel="noreferrer">issue #7767</a> for details.</p></div></li></ul><h3 id="recwarn" tabindex="-1">recwarn <a class="header-anchor" href="#recwarn" aria-label="Permalink to &quot;recwarn&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html#assertwarnings" target="_blank" rel="noreferrer">Asserting warnings with the warns function</a></p><ul><li><p><strong>recwarn</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/recwarn.html#recwarn" target="_blank" rel="noreferrer">[source]</a></p><p>Return a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.WarningsRecorder" target="_blank" rel="noreferrer">WarningsRecorder</a> instance that records all warnings emitted by test functions.</p><p>See <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html" target="_blank" rel="noreferrer">https://docs.pytest.org/en/latest/how-to/capture-warnings.html</a> for information on warning categories.</p></li><li><p>class <strong>WarningsRecorder</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/recwarn.html#WarningsRecorder" target="_blank" rel="noreferrer">[source]</a></p><p>A context manager to record raised warnings.</p><p>Each recorded warning is an instance of <code>warnings.WarningMessage</code>.</p><p>Adapted from <code>warnings.catch_warnings</code>.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p><code>DeprecationWarning</code> and <code>PendingDeprecationWarning</code> are treated differently; see <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html#ensuring-function-triggers" target="_blank" rel="noreferrer">Ensuring code triggers a deprecation warning</a>. :::</p><ul><li><p>property <strong>list</strong>: <code>List[WarningMessage]</code></p><p>The list of recorded warnings.</p></li><li><p><strong>pop</strong>(<code>cls=&lt;class &#39;Warning&#39;&gt;</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/recwarn.html#WarningsRecorder.pop" target="_blank" rel="noreferrer">[source]</a></p><p>Pop the first recorded warning which is an instance of <code>cls</code>, but not an instance of a child class of any other match. Raises <code>AssertionError</code> if there is no match.</p></li><li><p><strong>clear</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/recwarn.html#WarningsRecorder.clear" target="_blank" rel="noreferrer">[source]</a></p><p>Clear the list of recorded warnings.</p></li></ul></div></li></ul><h3 id="request" tabindex="-1">request <a class="header-anchor" href="#request" aria-label="Permalink to &quot;request&quot;">​</a></h3><p><strong>Example</strong>: <a href="https://docs.pytest.org/en/latest/example/simple.html#request-example" target="_blank" rel="noreferrer">Pass different values to a test function, depending on command line options</a></p><p>The <code>request</code> fixture is a special fixture providing information of the requesting test function.</p><ul><li><p>class <strong>FixtureRequest</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#FixtureRequest" target="_blank" rel="noreferrer">[source]</a></p><p>A request for a fixture from a test or fixture function.</p><p>A request object gives access to the requesting test context and has an optional param attribute in case the fixture is parametrized indirectly.</p><ul><li><p><strong>fixturename</strong>:<code> Optional[str]</code></p><p>Fixture for which this request is being performed.</p></li><li><p>property <strong>scope</strong>: <code>Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;]</code></p><p>Scope string, one of “function”, “class”, “module”, “package”, “session”.</p></li><li><p>property <strong>fixturenames</strong>: <code>List[str]</code></p><p>Names of all active fixtures in this request.</p></li><li><p>property <strong>node</strong></p><p>Underlying collection node (depends on current request scope).</p></li><li><p>property <strong>config</strong>: <code>Config</code></p><p>The pytest config object associated with this request.</p></li><li><p>property <strong>function</strong></p><p>Test function object if the request has a per-function scope.</p></li><li><p>property <strong>cls</strong></p><p>Class (can be None) where the test function was collected.</p></li><li><p>property <strong>instance</strong></p><p>Instance (can be None) on which test function was collected.</p></li><li><p>property <strong>module</strong></p><p>Python module object where the test function was collected.</p></li><li><p>property <strong>path</strong>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">Path</a></p><p>Path where the test function was collected.</p></li><li><p>property <strong>keywords</strong>: MutableMapping[str, Any]</p><p>Keywords/markers dictionary for the underlying node.</p></li><li><p>property <strong>session</strong>: <code>Session</code></p><p>Pytest session object.</p></li><li><p><strong>addfinalizer</strong>(<code>finalizer</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#FixtureRequest.addfinalizer" target="_blank" rel="noreferrer">[source]</a></p><p>Add finalizer/teardown function to be called without arguments after the last test within the requesting test context finished execution.</p></li><li><p><strong>applymarker</strong>(<code>marker</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#FixtureRequest.applymarker" target="_blank" rel="noreferrer">[source]</a></p><p>Apply a marker to a single test function invocation.</p><p>This method is useful if you don’t want to have a keyword/marker on all function invocations.</p><p><em>Parameters</em>:</p><ul><li><code>marker(Union[str, MarkDecorator])</code> – An object created by a call to <code>pytest.mark.NAME(...)</code>.</li></ul></li><li><p><strong>raiseerror</strong>(<code>msg</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#FixtureRequest.raiseerror" target="_blank" rel="noreferrer">[source]</a></p><p>Raise a FixtureLookupError exception.</p><p><em>Parameters</em>:</p><ul><li><code>msg (Optional[str])</code> – An optional custom error message.</li></ul></li><li><p><strong>getfixturevalue</strong>(<code>argname</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#FixtureRequest.getfixturevalue" target="_blank" rel="noreferrer">[source]</a></p><p>Dynamically run a named fixture function.</p><p>Declaring fixtures via function argument is recommended where possible. But if you can only decide whether to use another fixture at test setup time, you may use this function to retrieve it inside a fixture or test function body.</p><p>This method can be used during the test setup phase or the test run phase, but during the test teardown phase a fixture’s value may not be available.</p><p><em>Parameters</em>:</p><ul><li><code>argname (str)</code> – The fixture name.</li></ul><p><em>Raises</em>:</p><ul><li><code>pytest.FixtureLookupError</code> – If the given fixture could not be found.</li></ul></li></ul></li></ul><h3 id="testdir" tabindex="-1">testdir <a class="header-anchor" href="#testdir" aria-label="Permalink to &quot;testdir&quot;">​</a></h3><p>Identical to <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-pytester" target="_blank" rel="noreferrer">pytester</a>, but provides an instance whose methods return legacy <code>py.path.local</code> objects instead when applicable.</p><p>New code should avoid using <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-testdir" target="_blank" rel="noreferrer">testdir</a> in favor of <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-fixture-pytester" target="_blank" rel="noreferrer">pytester</a>.</p><ul><li><p>final class <strong>Testdir</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir" target="_blank" rel="noreferrer">[source]</a></p><p>Similar to <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester" target="_blank" rel="noreferrer">Pytester</a>, but this class works with legacy legacy_path objects instead.</p><p>All methods just forward to an internal Pytester instance, converting results to <code>legacy_path</code> objects as necessary.</p><ul><li><p>exception <strong>TimeoutExpired</strong></p></li><li><p>property <strong>tmpdir</strong>: <code>LocalPath</code></p><p>Temporary directory where tests are executed.</p></li><li><p><strong>make_hook_recorder</strong>(<code>pluginmanager</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.make_hook_recorder" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.make_hook_recorder" target="_blank" rel="noreferrer">Pytester.make_hook_recorder()</a>.</p></li><li><p><strong>chdir</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.chdir" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.chdir" target="_blank" rel="noreferrer">Pytester.chdir()</a>.</p></li><li><p><strong>finalize</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.finalize" target="_blank" rel="noreferrer">[source]</a></p><p>See <code>Pytester._finalize()</code>.</p></li><li><p><strong>makefile</strong>(<code>ext, *args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.makefile" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.makefile" target="_blank" rel="noreferrer">Pytester.makefile()</a>.</p></li><li><p><strong>makeconftest</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.makeconftest" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.makeconftest" target="_blank" rel="noreferrer">Pytester.makeconftest()</a>.</p></li><li><p><strong>makeini</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.makeini" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.makeini" target="_blank" rel="noreferrer">Pytester.makeini()</a>.</p></li><li><p><strong>getinicfg</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.getinicfg" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getinicfg" target="_blank" rel="noreferrer">Pytester.getinicfg()</a>.</p></li><li><p><strong>makepyprojecttoml</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.makepyprojecttoml" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.makepyprojecttoml" target="_blank" rel="noreferrer">Pytester.makepyprojecttoml()</a>.</p></li><li><p><strong>makepyfile</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.makepyfile" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.makepyfile" target="_blank" rel="noreferrer">Pytester.makepyfile()</a>.</p></li><li><p><strong>maketxtfile</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.maketxtfile" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.maketxtfile" target="_blank" rel="noreferrer">Pytester.maketxtfile()</a>.</p></li><li><p><strong>syspathinsert</strong>(<code>path=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.syspathinsert" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.syspathinsert" target="_blank" rel="noreferrer">Pytester.syspathinsert()</a>.</p></li><li><p><strong>mkdir</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.mkdir" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.mkdir" target="_blank" rel="noreferrer">Pytester.mkdir()</a>.</p></li><li><p><strong>mkpydir</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.mkpydir" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.mkpydir" target="_blank" rel="noreferrer">Pytester.mkpydir()</a>.</p></li><li><p><strong>copy_example</strong>(<code>name=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.copy_example" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.copy_example" target="_blank" rel="noreferrer">Pytester.copy_example()</a>.</p></li><li><p><strong>getnode</strong>(<code>config, arg</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.getnode" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getnode" target="_blank" rel="noreferrer">Pytester.getnode()</a>.</p></li><li><p><strong>getpathnode</strong>(<code>path</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.getpathnode" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getpathnode" target="_blank" rel="noreferrer">Pytester.getpathnode()</a>.</p></li><li><p><strong>genitems</strong>(<code>colitems</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.genitems" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.genitems" target="_blank" rel="noreferrer">Pytester.genitems()</a>.</p></li><li><p><strong>runitem</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.runitem" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runitem" target="_blank" rel="noreferrer">Pytester.runitem()</a>.</p></li><li><p><strong>inline_runsource</strong>(<code>source, *cmdlineargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.inline_runsource" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.inline_runsource" target="_blank" rel="noreferrer">Pytester.inline_runsource()</a>.</p></li><li><p><strong>inline_genitems</strong>(<code>*args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.inline_genitems" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.inline_genitems" target="_blank" rel="noreferrer">Pytester.inline_genitems()</a>.</p></li><li><p><strong>inline_run</strong>(<code>*args, plugins=(), no_reraise_ctrlc=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.inline_run" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.inline_run" target="_blank" rel="noreferrer">Pytester.inline_run()</a>.</p></li><li><p><strong>runpytest_inprocess</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.runpytest_inprocess" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpytest_inprocess" target="_blank" rel="noreferrer">Pytester.runpytest_inprocess()</a>.</p></li><li><p><strong>runpytest</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.runpytest" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpytest" target="_blank" rel="noreferrer">Pytester.runpytest()</a>.</p></li><li><p><strong>parseconfig</strong>(<code>*args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.parseconfig" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfig" target="_blank" rel="noreferrer">Pytester.parseconfig()</a>.</p></li><li><p><strong>parseconfigure</strong>(<code>*args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.parseconfigure" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.parseconfigure" target="_blank" rel="noreferrer">Pytester.parseconfigure()</a>.</p></li><li><p><strong>getitem</strong>(<code>source, funcname=&#39;test_func&#39;</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.getitem" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getitem" target="_blank" rel="noreferrer">Pytester.getitem()</a>.</p></li><li><p><strong>getitems</strong>(<code>source</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.getitems" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getitems" target="_blank" rel="noreferrer">Pytester.getitems()</a>.</p></li><li><p><strong>getmodulecol</strong>(<code>source, configargs=(), withinit=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.getmodulecol" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.getmodulecol" target="_blank" rel="noreferrer">Pytester.getmodulecol()</a>.</p></li><li><p><strong>collect_by_name</strong>(<code>modcol, name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.collect_by_name" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.collect_by_name" target="_blank" rel="noreferrer">Pytester.collect_by_name()</a>.</p></li><li><p><strong>popen</strong>(<code>cmdargs, stdout=-1, stderr=-1, stdin=NotSetType.token, **kw</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.popen" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.popen" target="_blank" rel="noreferrer">Pytester.popen()</a>.</p></li><li><p><strong>run</strong>(<code>*cmdargs, timeout=None, stdin=NotSetType.token</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.run" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.run" target="_blank" rel="noreferrer">Pytester.run()</a>.</p></li><li><p><strong>runpython</strong>(<code>script</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.runpython" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpython" target="_blank" rel="noreferrer">Pytester.runpython()</a>.</p></li><li><p><strong>runpython_c</strong>(<code>command</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.runpython_c" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpython_c" target="_blank" rel="noreferrer">Pytester.runpython_c()</a>.</p></li><li><p><strong>runpytest_subprocess</strong>(<code>*args, timeout=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.runpytest_subprocess" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.runpytest_subprocess" target="_blank" rel="noreferrer">Pytester.runpytest_subprocess()</a>.</p></li><li><p><strong>spawn_pytest</strong>(<code>string, expect_timeout=10.0</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.spawn_pytest" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.spawn_pytest" target="_blank" rel="noreferrer">Pytester.spawn_pytest()</a>.</p></li><li><p><strong>spawn</strong>(<code>cmd, expect_timeout=10.0</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#Testdir.spawn" target="_blank" rel="noreferrer">[source]</a></p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Pytester.spawn" target="_blank" rel="noreferrer">Pytester.spawn()</a>.</p></li></ul></li></ul><h3 id="tmp-path" tabindex="-1">tmp_path <a class="header-anchor" href="#tmp-path" aria-label="Permalink to &quot;tmp_path&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#tmp-path" target="_blank" rel="noreferrer">How to use temporary directories and files in tests</a></p><ul><li><p><strong>tmp_path</strong>() [source]</p><p>Return a temporary directory path object which is unique to each test function invocation, created as a sub directory of the base temporary directory.</p><p>By default, a new base temporary directory is created each test session, and old bases are removed after 3 sessions, to aid in debugging. This behavior can be configured with <a href="https://docs.pytest.org/en/latest/reference/reference.html#confval-tmp_path_retention_count" target="_blank" rel="noreferrer">tmp_path_retention_count</a> and <a href="https://docs.pytest.org/en/latest/reference/reference.html#confval-tmp_path_retention_policy" target="_blank" rel="noreferrer">tmp_path_retention_policy</a>. If <code>--basetemp</code> is used then it is cleared each session. See <a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#base-temporary-directory" target="_blank" rel="noreferrer">The default base temporary</a> directory.</p><p>The returned object is a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> object.</p></li></ul><h3 id="tmp-path-factory" tabindex="-1">tmp_path_factory <a class="header-anchor" href="#tmp-path-factory" aria-label="Permalink to &quot;tmp_path_factory&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#tmp-path-factory-example" target="_blank" rel="noreferrer">The tmp_path_factory fixture</a></p><p><code>tmp_path_factory</code> is an instance of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TempPathFactory" target="_blank" rel="noreferrer">TempPathFactory</a>:</p><ul><li><p>final class <strong>TempPathFactory</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/tmpdir.html#TempPathFactory" target="_blank" rel="noreferrer">[source]</a></p><p>Factory for temporary directories under the common base temp directory.</p><p>The base directory can be configured using the <code>--basetemp</code> option.</p><ul><li><p><strong>mktemp</strong>(<code>basename, numbered=True</code>) [source]</p><p>Create a new temporary directory managed by the factory.</p><p><em>Parameters</em>:</p><ul><li><p><code>basename(str)</code> – Directory base name, must be a relative path.</p></li><li><p><code>numbered(bool)</code> – If <code>True</code>, ensure the directory is unique by adding a numbered suffix greater than - any existing one: <code>basename=&quot;foo-&quot;</code> and <code>numbered=True</code> means that this function will create directories named <code>&quot;foo-0&quot;</code>, <code>&quot;foo-1&quot;</code>, <code>&quot;foo-2&quot;</code> and so on.</p></li></ul><p><em>Returns</em>: The path to the new directory.</p><p><em>Return type</em>: <code>Path</code></p></li><li><p><strong>getbasetemp</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/tmpdir.html#TempPathFactory.getbasetemp" target="_blank" rel="noreferrer">[source]</a></p><p>Return the base temporary directory, creating it if needed.</p><p><em>Returns</em>: The base temporary directory.</p><p><em>Return type</em>: <code>Path</code></p></li></ul></li></ul><h3 id="tmpdir" tabindex="-1">tmpdir <a class="header-anchor" href="#tmpdir" aria-label="Permalink to &quot;tmpdir&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#tmpdir-and-tmpdir-factory" target="_blank" rel="noreferrer">The tmpdir and tmpdir_factory fixtures</a></p><ul><li><p><strong>tmpdir</strong>()</p><p>Return a temporary directory path object which is unique to each test function invocation, created as a sub directory of the base temporary directory.</p><p>By default, a new base temporary directory is created each test session, and old bases are removed after 3 sessions, to aid in debugging. If <code>--basetemp</code> is used then it is cleared each session. See <a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#base-temporary-directory" target="_blank" rel="noreferrer">The default base temporary directory</a>.</p><p>The returned object is a <a href="https://py.readthedocs.io/en/latest/path.html" target="_blank" rel="noreferrer">legacy_path</a> object.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>These days, it is preferred to use <code>tmp_path</code>.</p><p><a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#tmpdir-and-tmpdir-factory" target="_blank" rel="noreferrer">About the tmpdir and tmpdir_factory fixtures</a>.</p></div></li></ul><h3 id="tmpdir-factory" tabindex="-1">tmpdir_factory <a class="header-anchor" href="#tmpdir-factory" aria-label="Permalink to &quot;tmpdir_factory&quot;">​</a></h3><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#tmpdir-and-tmpdir-factory" target="_blank" rel="noreferrer">The tmpdir and tmpdir_factory fixtures</a></p><p><code>tmpdir_factory</code> is an instance of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TempdirFactory" target="_blank" rel="noreferrer">TempdirFactory</a>:</p><ul><li><p>final class <strong>TempdirFactory</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#TempdirFactory" target="_blank" rel="noreferrer">[source]</a></p><p>Backward compatibility wrapper that implements <code>py.path.local</code> for <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TempPathFactory" target="_blank" rel="noreferrer">TempPathFactory</a>.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>These days, it is preferred to use <code>tmp_path_factory</code>.</p><p><a href="https://docs.pytest.org/en/latest/how-to/tmp_path.html#tmpdir-and-tmpdir-factory" target="_blank" rel="noreferrer">About the tmpdir and tmpdir_factory fixtures</a>.</p></div><ul><li><p><strong>mktemp</strong>(<code>basename, numbered=True</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#TempdirFactory.mktemp" target="_blank" rel="noreferrer">[source]</a></p><p>Same as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TempPathFactory.mktemp" target="_blank" rel="noreferrer">TempPathFactory.mktemp()</a>, but returns a <code>py.path.local</code> object.</p></li><li><p><strong>getbasetemp</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/legacypath.html#TempdirFactory.getbasetemp" target="_blank" rel="noreferrer">[source]</a></p><p>Same as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TempPathFactory.getbasetemp" target="_blank" rel="noreferrer">TempPathFactory.getbasetemp()</a>, but returns a <code>py.path.local</code> object.</p></li></ul></li></ul><h2 id="hooks" tabindex="-1">Hooks <a class="header-anchor" href="#hooks" aria-label="Permalink to &quot;Hooks&quot;">​</a></h2><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/writing_plugins.html#writing-plugins" target="_blank" rel="noreferrer">Writing plugins</a></p><p>Reference to all hooks which can be implemented by <a href="https://docs.pytest.org/en/latest/how-to/writing_plugins.html#localplugin" target="_blank" rel="noreferrer">conftest.py files</a> and <a href="https://docs.pytest.org/en/latest/how-to/writing_plugins.html#plugins" target="_blank" rel="noreferrer">plugins</a>.</p><h3 id="bootstrapping-hooks" tabindex="-1">Bootstrapping hooks <a class="header-anchor" href="#bootstrapping-hooks" aria-label="Permalink to &quot;Bootstrapping hooks&quot;">​</a></h3><p>Bootstrapping hooks called for plugins registered early enough (internal and setuptools plugins).</p><ul><li><p><strong>pytest_load_initial_conftests</strong>(<code>early_config, parser, args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_load_initial_conftests" target="_blank" rel="noreferrer">[source]</a></p><p>Called to implement the loading of initial conftest files ahead of command line option parsing.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook will not be called for <code>conftest.py</code> files, only for setuptools plugins.</p></div><p><em>Parameters</em>:</p><ul><li><p><code>early_config (Config)</code> – The pytest config object.</p></li><li><p><code>args (List[str])</code> – Arguments passed on the command line.</p></li><li><p><code>parser (Parser)</code> – To add command line options.</p></li></ul></li><li><p><strong>pytest_cmdline_preparse</strong>(<code>config, args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_cmdline_preparse" target="_blank" rel="noreferrer">[source]</a></p><p><em>(Deprecated)</em> modify command line arguments before option parsing.</p><p>This hook is considered deprecated and will be removed in a future pytest version. Consider using <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_load_initial_conftests" target="_blank" rel="noreferrer">pytest_load_initial_conftests</a> instead.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook will not be called for <code>conftest.py</code> files, only for setuptools plugins.</p></div><p><em>Parameters</em>:</p><ul><li><p><code>config (Config)</code> – The pytest config object.</p></li><li><p><code>args (List[str])</code> – Arguments passed on the command line.</p></li></ul></li><li><p><strong>pytest_cmdline_parse</strong>(<code>pluginmanager, args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_cmdline_preparse" target="_blank" rel="noreferrer">[source]</a></p><p>Return an initialized <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">Config</a>, parsing the specified args.</p><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook will only be called for plugin classes passed to the <code>plugins</code> arg when using pytest.main to perform an in-process test run.</p></div><p><em>Parameters</em>:</p><ul><li><p><code>pluginmanager (PytestPluginManager)</code> – The pytest plugin manager.</p></li><li><p><code>args (List[str])</code> – List of arguments passed on the command line.</p></li></ul><p><em>Returns</em>: A pytest config object.</p><p><em>Return type</em>: <code>Optional[Config]</code></p></li><li><p><strong>pytest_cmdline_main</strong>(<code>config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_cmdline_main" target="_blank" rel="noreferrer">[source]</a></p><p>Called for performing the main command line action. The default implementation will invoke the configure hooks and runtest_mainloop.</p><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p><p><em>Parameters</em>:</p><ul><li><code>config (Config)</code> – The pytest config object.</li></ul><p><em>Returns</em>: The exit code.</p><p><em>Return type</em>: <code>Optional[Union[ExitCode, int]]</code></p></li></ul><h3 id="initialization-hooks" tabindex="-1">Initialization hooks <a class="header-anchor" href="#initialization-hooks" aria-label="Permalink to &quot;Initialization hooks&quot;">​</a></h3><p>Initialization hooks called for plugins and <code>conftest.py</code> files.</p><ul><li><p><strong>pytest_addoption</strong>(<code>parser, pluginmanager</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_addoption" target="_blank" rel="noreferrer">[source]</a></p><p>Register argparse-style options and ini-style config values, called once at the beginning of a test run.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This function should be implemented only in plugins or <code>conftest.py</code> files situated at the tests root directory due to how pytest <a href="https://docs.pytest.org/en/latest/how-to/writing_plugins.html#pluginorder" target="_blank" rel="noreferrer">discovers plugins during startup</a>.</p></div><p><em>Parameters</em>:</p><ul><li><p><code>parser (pytest.Parser)</code> – To add command line options, call <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Parser.addoption" target="_blank" rel="noreferrer">parser.addoption(...)</a>. To add ini-file values call <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Parser.addini" target="_blank" rel="noreferrer">parser.addini(...)</a>.</p></li><li><p><code>pluginmanager (pytest.PytestPluginManager)</code> – The pytest plugin manager, which can be used to install <code>hookspec()</code>’s or <code>hookimpl()</code>’s and allow one plugin to call another plugin’s hooks to change how command line options are added.</p></li></ul><p>Options can later be accessed through the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">config</a> object, respectively:</p><ul><li><p><code>config.getoption(name)</code> to retrieve the value of a command line option.</p></li><li><p><code>config.getini(name)</code> to retrieve a value read from an ini-style file.</p></li></ul><p>The config object is passed around on many internal objects via the <code>.config</code> attribute or can be retrieved as the <code>pytestconfig</code> fixture.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook is incompatible with hook wrappers.</p></div></li><li><p><strong>pytest_addhooks</strong>(<code>pluginmanager</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_addhooks" target="_blank" rel="noreferrer">[source]</a></p><p>Called at plugin registration time to allow adding new hooks via a call to <code>pluginmanager.add_hookspecs(module_or_class, prefix)</code>.</p><p><em>Parameters</em>:</p><ul><li><code>pluginmanager (pytest.PytestPluginManager)</code> – The pytest plugin manager.</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook is incompatible with hook wrappers.</p></div></li><li><p><strong>pytest_configure</strong>(<code>config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_configure" target="_blank" rel="noreferrer">[source]</a></p><p>Allow plugins and conftest files to perform initial configuration.</p><p>This hook is called for every plugin and initial conftest file after command line options have been parsed.</p><p>After that, the hook is called for other conftest files as they are imported.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook is incompatible with hook wrappers.</p></div><p><em>Parameters</em>:</p><ul><li><code>config (pytest.Config)</code> – The pytest config object.</li></ul></li><li><p><strong>pytest_unconfigure</strong>(<code>config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_unconfigure" target="_blank" rel="noreferrer">[source]</a></p><p>Called before test process is exited.</p><p><em>Parameters</em>:</p><ul><li><code>config (Config)</code> – The pytest config object.</li></ul></li><li><p><strong>pytest_sessionstart</strong>(<code>session</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_sessionstart" target="_blank" rel="noreferrer">[source]</a></p><p>Called after the <code>Session</code> object has been created and before performing collection and entering the run test loop.</p><p><em>Parameters</em>:</p><ul><li><code>session (Session)</code> – The pytest session object.</li></ul></li><li><p><strong>pytest_sessionfinish</strong>(<code>session, exitstatus</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_sessionfinish" target="_blank" rel="noreferrer">[source]</a></p><p>Called after whole test run finished, right before returning the exit status to the system.</p><p><em>Parameters</em>:</p><ul><li><p><code>session (Session)</code> – The pytest session object.</p></li><li><p><code>exitstatus (Union[int, ExitCode])</code> – The status which pytest will return to the system.</p></li></ul></li><li><p><strong>pytest_plugin_registered</strong>(<code>plugin, manager</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_plugin_registered" target="_blank" rel="noreferrer">[source]</a></p><p>A new pytest plugin got registered.</p><p><em>Parameters</em>:</p><ul><li><p><code>plugin (_PluggyPlugin)</code> – The plugin module or instance.</p></li><li><p><code>manager (pytest.PytestPluginManager)</code> – pytest plugin manager.</p></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This hook is incompatible with hook wrappers.</p></div></li></ul><h3 id="collection-hooks" tabindex="-1">Collection hooks <a class="header-anchor" href="#collection-hooks" aria-label="Permalink to &quot;Collection hooks&quot;">​</a></h3><p><code>pytest</code> calls the following hooks for collecting files and directories:</p><ul><li><p><strong>pytest_collection</strong>(<code>session</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_collection" target="_blank" rel="noreferrer">[source]</a></p><p>Perform the collection phase for the given session.</p><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>. The return value is not used, but only stops further processing.</p><p>The default collection phase is this (see individual hooks for full details):</p><ol><li><p>Starting from <code>session</code> as the initial collector:</p><ul><li><p><code>pytest_collectstart(collector)</code></p></li><li><p><code>report = pytest_make_collect_report(collector)</code></p></li><li><p><code>pytest_exception_interact(collector, call, report)</code> if an interactive exception occurred</p></li><li><p>For each collected node:</p><ul><li><p>If an item, <code>pytest_itemcollected(item)</code></p></li><li><p>If a collector, recurse into it.</p></li></ul></li><li><p><code>pytest_collectreport(report)</code></p></li></ul></li><li><p><code>pytest_collection_modifyitems(session, config, items)</code></p><ul><li><code>pytest_deselected(items)</code> for any deselected items (may be called multiple times)</li></ul></li><li><p><code>pytest_collection_finish(session)</code></p></li><li><p>Set <code>session.items</code> to the list of collected items</p></li><li><p>Set <code>session.testscollected</code> to the number of collected items</p></li></ol><p>You can implement this hook to only perform some action before collection, for example the terminal plugin uses it to start displaying the collection counter (and returns <code>None</code>).</p><p><em>Parameters</em>:</p><ul><li><code>session (Session)</code> – The pytest session object.</li></ul></li><li><p><strong>pytest_ignore_collect</strong>(<code>collection_path, path, config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_ignore_collect" target="_blank" rel="noreferrer">[source]</a></p><p>Return True to prevent considering this path for collection.</p><p>This hook is consulted for all files and directories prior to calling more specific hooks.</p><p>Stops at first non-None result, see firstresult: stop at first non-None result.</p><p><em>Parameters</em>:</p><ul><li><p><code>collection_path(Path)</code> – The path to analyze.</p></li><li><p><code>path(LEGACY_PATH)</code> – The path to analyze (deprecated).</p></li><li><p><code>config(Config)</code> – The pytest config object.</p></li></ul><p><em>Changed in version 7.0.0</em>: The <code>collection_path</code> parameter was added as a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> equivalent of the <code>path</code> parameter. The <code>path</code> parameter has been deprecated.</p></li><li><p><strong>pytest_collect_file</strong>(<code>file_path, path, parent</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_collect_file" target="_blank" rel="noreferrer">[source]</a></p><p>Create a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Collector" target="_blank" rel="noreferrer">Collector</a> for the given path, or None if not relevant.</p><p>The new node needs to have the specified <code>parent</code> as a parent.</p><p><em>Parameters</em>:</p><ul><li><p><code>file_path (Path)</code> – The path to analyze.</p></li><li><p><code>path (LEGACY_PATH)</code> – The path to collect (deprecated).</p></li></ul><p><em>Changed in version 7.0.0</em>: The <code>file_path</code> parameter was added as a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> equivalent of the <code>path</code> parameter. The <code>path</code> parameter has been deprecated.</p></li><li><p><strong>pytest_pycollect_makemodule</strong>(<code>module_path, path, parent</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_pycollect_makemodule" target="_blank" rel="noreferrer">[source]</a></p><p>Return a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Module" target="_blank" rel="noreferrer">pytest.Module</a> collector or None for the given path.</p><p>This hook will be called for each matching test module path. The <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_collect_file" target="_blank" rel="noreferrer">pytest_collect_file</a> hook needs to be used if you want to create test modules for files that do not match as a test module.</p><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p><p><em>Parameters</em>:</p><ul><li><p><code>module_path (Path)</code> – The path of the module to collect.</p></li><li><p><code>path (LEGACY_PATH)</code> – The path of the module to collect (deprecated).</p></li></ul><p><em>Changed in version 7.0.0</em>: The <code>module_path</code> parameter was added as a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> equivalent of the <code>path</code> parameter.</p><p>The path parameter has been deprecated in favor of <code>fspath</code>.</p></li></ul><p>For influencing the collection of objects in Python modules you can use the following hook:</p><ul><li><p><strong>pytest_pycollect_makeitem</strong>(<code>collector, name, obj</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_pycollect_makeitem" target="_blank" rel="noreferrer">[source]</a></p><p>Return a custom item/collector for a Python object in a module, or None.</p><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p><p><em>Parameters</em>:</p><ul><li><p><code>collector (Union[Module, Class])</code> – The module/class collector.</p></li><li><p><code>name (str)</code> – The name of the object in the module/class.</p></li><li><p><code>obj (object)</code> – The object.</p></li></ul><p><em>Returns</em>: The created items/collectors.</p><p><em>Return type</em>: <code>Union[None, Item, Collector, List[Union[Item, Collector]]]</code></p></li><li><p><strong>pytest_generate_tests</strong>(<code>metafunc</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_generate_tests" target="_blank" rel="noreferrer">[source]</a></p><p>Generate (multiple) parametrized calls to a test function.</p><p><em>Parameters</em>：</p><ul><li><code>metafunc (Metafunc)</code> – The Metafunc helper for the test function.</li></ul></li><li><p><strong>pytest_make_parametrize_id</strong>(<code>config, val, argname</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_make_parametrize_id" target="_blank" rel="noreferrer">[source]</a></p><p>Return a user-friendly string representation of the given <code>val</code> that will be used by @pytest.mark.parametrize calls, or None if the hook doesn’t know about <code>val</code>.</p><p>The parameter name is available as <code>argname</code>, if required.</p><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p><p><em>Parameters</em>:</p><ul><li><p><code>config (Config)</code> – The pytest config object.</p></li><li><p><code>val (object)</code> – The parametrized value.</p></li><li><p><code>argname (str)</code> – The automatic parameter name produced by pytest.</p></li></ul></li></ul><p>Hooks for influencing test skipping:</p><ul><li><p><strong>pytest_markeval_namespace</strong>(<code>config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_markeval_namespace" target="_blank" rel="noreferrer">[source]</a></p><p>Called when constructing the globals dictionary used for evaluating string conditions in xfail/skipif markers.</p><p>This is useful when the condition for a marker requires objects that are expensive or impossible to obtain during collection time, which is required by normal boolean conditions.</p><p><em>New in version 6.2.</em></p><p><em>Parameters</em>:</p><ul><li><code>config (Config)</code> – The pytest config object.</li></ul><p><em>Returns</em>: A dictionary of additional globals to add.</p><p><em>Return type</em>: <code>Dict[str, Any]</code></p></li></ul><p>After collection is complete, you can modify the order of items, delete or otherwise amend the test items:</p><ul><li><p><strong>pytest_collection_modifyitems</strong>(<code>session, config, items</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_collection_modifyitems" target="_blank" rel="noreferrer">[source]</a></p><p>Called after collection has been performed. May filter or re-order the items in-place.</p><p><em>Parameters</em>:</p><ul><li><p><code>session (Session)</code> – The pytest session object.</p></li><li><p><code>config (Config)</code> – The pytest config object.</p></li><li><p><code>items (List[Item])</code> – List of item objects.</p></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>If this hook is implemented in <code>conftest.py</code> files, it always receives all collected items, not only those under the <code>conftest.py</code> where it is implemented.</p></div></li><li><p><strong>pytest_collection_finish</strong>(<code>session</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_collection_finish" target="_blank" rel="noreferrer">[source]</a></p><p>Called after collection has been performed and modified.</p><p><em>Parameters</em>:</p><ul><li><code>session (Session)</code> – The pytest session object.</li></ul></li></ul><h3 id="test-running-runtest-hooks" tabindex="-1">Test running (runtest) hooks <a class="header-anchor" href="#test-running-runtest-hooks" aria-label="Permalink to &quot;Test running (runtest) hooks&quot;">​</a></h3><p>All runtest related hooks receive a pytest.Item object.</p><ul><li><p><strong>pytest_runtestloop</strong>(<code>session</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtestloop" target="_blank" rel="noreferrer">[source]</a></p><p>Perform the main runtest loop (after collection finished).</p><p>The default hook implementation performs the runtest protocol for all items collected in the session (<code>session.items</code>), unless the collection failed or the <code>collectonly</code> pytest option is set.</p><p>If at any point <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.exit" target="_blank" rel="noreferrer">pytest.exit()</a> is called, the loop is terminated immediately.</p><p>If at any point <code>session.shouldfail</code> or <code>session.shouldstop</code> are set, the loop is terminated after the runtest protocol for the current item is finished.</p><p><em>Parameters</em>:</p><ul><li><code>session (Session)</code> – The pytest session object.</li></ul><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>. The return value is not used, but only stops further processing.</p></li><li><p><strong>pytest_runtest_protocol</strong>(<code>item, nextitem</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_protocol" target="_blank" rel="noreferrer">[source]</a></p><p>Perform the runtest protocol for a single test item.</p><p>The default runtest protocol is this (see individual hooks for full details):</p><p><code>pytest_runtest_logstart(nodeid, location)</code></p><p>Setup phase:</p><ul><li><p><code>call = pytest_runtest_setup(item) (wrapped in CallInfo(when=&quot;setup&quot;))</code></p></li><li><p><code>report = pytest_runtest_makereport(item, call)</code></p></li><li><p><code>pytest_runtest_logreport(report)</code></p></li><li><p><code>pytest_exception_interact(call, report)</code> if an interactive exception occurred</p></li></ul><p>Call phase, if the the setup passed and the <code>setuponly</code> pytest option is not set:</p><ul><li><p><code>call = pytest_runtest_call(item)</code> (wrapped in CallInfo(when=&quot;call&quot;))</p></li><li><p><code>report = pytest_runtest_makereport(item, call)</code></p></li><li><p><code>pytest_runtest_logreport(report)</code></p></li><li><p><code>pytest_exception_interact(call, report)</code> if an interactive exception occurred</p></li></ul><p>Teardown phase:</p><ul><li><p><code>call = pytest_runtest_teardown(item, nextitem)</code> (wrapped in <code>CallInfo(when=&quot;teardown&quot;)</code>)</p></li><li><p><code>report = pytest_runtest_makereport(item, call)</code></p></li><li><p><code>pytest_runtest_logreport(report)</code></p></li><li><p><code>pytest_exception_interact(call, report)</code> if an interactive exception occurred</p></li></ul></li><li><p><strong>pytest_runtest_logfinish</strong>(<code>nodeid, location</code>)</p><p><em>Parameters</em>:</p><ul><li><p><code>item (Item)</code> – Test item for which the runtest protocol is performed.</p></li><li><p><code>nextitem (Optional[Item])</code> – The scheduled-to-be-next test item (or None if this is the end my friend).</p></li></ul><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>. The return value is not used, but only stops further processing.</p></li><li><p><strong>pytest_runtest_logstart</strong>(<code>nodeid, location</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_logstart" target="_blank" rel="noreferrer">[source]</a></p><p>Called at the start of running the runtest protocol for a single item.</p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_runtest_protocol" target="_blank" rel="noreferrer">pytest_runtest_protocol</a> for a description of the runtest protocol.</p><p><em>Parameters</em>:</p><ul><li><p><code>nodeid (str)</code> – Full node ID of the item.</p></li><li><p><code>location (Tuple[str, Optional[int], str])</code> – A tuple of <code>(filename, lineno, testname)</code> where filename is a file path relative to <code>config.rootpath</code> and <code>lineno</code> is 0-based.</p></li></ul></li><li><p><strong>pytest_runtest_logfinish</strong>(<code>nodeid, location</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_logfinish" target="_blank" rel="noreferrer">[source]</a></p><p>Called at the end of running the runtest protocol for a single item.</p><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_runtest_protocol" target="_blank" rel="noreferrer">pytest_runtest_protocol</a> for a description of the runtest protocol.</p><p><em>Parameters</em>:</p><ul><li><p><code>nodeid(str)</code> – Full node ID of the item.</p></li><li><p><code>location(Tuple[str, Optional[int], str])</code> – A tuple of <code>(filename, lineno, testname)</code> where <code>filename</code> is a file path relative to <code>config.rootpath</code> and <code>lineno</code> is 0-based.</p></li></ul></li><li><p><strong>pytest_runtest_setup</strong>(<code>item</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_setup" target="_blank" rel="noreferrer">[source]</a></p><p>Called to perform the setup phase for a test item.</p><p>The default implementation runs <code>setup()</code> on <code>item</code> and all of its parents (which haven’t been setup yet). This includes obtaining the values of fixtures required by the item (which haven’t been obtained yet).</p><p><em>Parameters</em>:</p><ul><li><code>item (Item)</code> – The item.</li></ul></li><li><p><strong>pytest_runtest_call</strong>(<code>item</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_call" target="_blank" rel="noreferrer">[source]</a></p><p>Called to run the test for test item (the call phase).</p><p>The default implementation calls <code>item.runtest()</code>.</p><p><em>Parameters</em>:</p><ul><li><code>item (Item)</code> – The item.</li></ul></li><li><p><strong>pytest_runtest_teardown</strong>(<code>item, nextitem</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_teardown" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called to perform the teardown phase for a test item.</p></li><li><p>The default implementation runs the finalizers and calls <code>teardown()</code> on <code>item</code> and all of its parents (which need to be torn down). This includes running the teardown phase of fixtures required by the item (if they go out of scope).</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>item</strong> (<code>Item</code>) – The item.</p></li><li><p><strong>nextitem</strong> (<code>Optional[Item]</code>) – The scheduled-to-be-next test item (None if no further test item is scheduled). This argument is used to perform exact teardowns, i.e. calling just enough finalizers so that nextitem only needs to call setup functions.</p></li></ul></li></ul></li><li><p><strong>pytest_runtest_makereport</strong>(<code>item, call</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_makereport" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called to create a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TestReport" target="_blank" rel="noreferrer">TestReport</a> for each of the setup, call and teardown runtest phases of a test item.</p></li><li><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_runtest_protocol" target="_blank" rel="noreferrer">pytest_runtest_protocol</a> for a description of the runtest protocol.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>item</strong> (<code>Item</code>) – The item.</p></li><li><p><strong>call</strong> (<code>CallInfo[None]</code>) – The CallInfo for the phase.</p></li></ul></li><li><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p></li></ul></li><li><p>For deeper understanding you may look at the default implementation of these hooks in <code>_pytest.runner</code> and maybe also in <code>_pytest.pdb</code> which interacts with <code>_pytest.capture</code> and its input/output capturing in order to immediately drop into interactive debugging when a test failure occurs.</p></li><li><p><strong>pytest_pyfunc_call</strong>(<code>pyfuncitem</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_pyfunc_call" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Call underlying test function.</p></li><li><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>pyfuncitem</strong> (<code>Function</code>) – The function item.</li></ul></li></ul></li></ul><h3 id="reporting-hooks" tabindex="-1">Reporting hooks <a class="header-anchor" href="#reporting-hooks" aria-label="Permalink to &quot;Reporting hooks&quot;">​</a></h3><p>Session related reporting hooks:</p><ul><li><p><strong>pytest_collectstart</strong>(<code>collector</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_collectstart" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Collector starts collecting.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>collector</strong> (<code>Collector</code>) – The collector.</li></ul></li></ul></li><li><p><strong>pytest_make_collect_report</strong>(<code>collector</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_make_collect_report" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Perform <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Collector.collect" target="_blank" rel="noreferrer">collector.collect()</a> and return a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.CollectReport" target="_blank" rel="noreferrer"><strong>CollectReport</strong></a>.</p></li><li><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>collector</strong> (<code>Collector</code>) – The collector.</li></ul></li></ul></li><li><p><strong>pytest_itemcollected</strong>(<code>item</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_itemcollected" target="_blank" rel="noreferrer">[source]</a></p><p>We just collected a test item.</p><ul><li><p><strong>Parameters</strong>:</p><ul><li><strong>item</strong> (<code>Item</code>) – The item.</li></ul></li></ul></li><li><p><strong>pytest_collectreport</strong>(<code>report</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_collectreport" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Collector finished collecting.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>report</strong>(<code>CollectReport</code>) – The collect report.</li></ul></li></ul></li><li><p><strong>pytest_deselected</strong>(<code>items</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_deselected" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called for deselected test items, e.g. by keyword.</p></li><li><p>May be called multiple times.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>items</strong> (<code>Sequence[Item]</code>) – The items.</li></ul></li></ul></li><li><p><strong>pytest_report_header</strong>(<code>config, start_path, startdir</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_report_header" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return a string or list of strings to be displayed as header info for terminal reporting.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li><li><p><strong>start_path</strong> (<code>Path</code>) – The starting dir.</p></li><li><p><strong>startdir</strong> (<code>LEGACY_PATH</code>) – The starting dir (deprecated).</p></li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Lines returned by a plugin are displayed before those of plugins which ran before it. If you want to have your line(s) displayed first, use <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#plugin-hookorder" target="_blank" rel="noreferrer">trylast=True</a>.</p></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This function should be implemented only in plugins or <code>conftest.py</code> files situated at the tests root directory due to how pytest <a href="https://docs.pytest.org/en/latest/how-to/writing_plugins.html#pluginorder" target="_blank" rel="noreferrer">discovers plugins during startup</a>.</p></div><ul><li><em>Changed in version 7.0.0</em>: The <code>start_path</code> parameter was added as a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> equivalent of the <code>startdir</code> parameter. The <code>startdir</code> parameter has been deprecated.</li></ul></li><li><p><strong>pytest_report_collectionfinish</strong>(<code>config, start_path, startdir, items</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_report_collectionfinish" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return a string or list of strings to be displayed after collection has finished successfully.</p></li><li><p>These strings will be displayed after the standard “collected X items” message.</p></li><li><p><em>New in version 3.2</em>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li><li><p><strong>start_path</strong> (<code>Path</code>) – The starting dir.</p></li><li><p><strong>startdir</strong> (<code>LEGACY_PATH</code>) – The starting dir (deprecated).</p></li><li><p><strong>items</strong> (<code>Sequence[Item]</code>) – List of pytest items that are going to be executed; this list should not be modified.</p></li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Lines returned by a plugin are displayed before those of plugins which ran before it. If you want to have your line(s) displayed first, use <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#plugin-hookorder" target="_blank" rel="noreferrer">trylast=True</a>.</p></div><ul><li><em>Changed in version 7.0.0</em>: The <code>start_path</code> parameter was added as a <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> equivalent of the <code>startdir</code> parameter. The <code>startdir</code> parameter has been deprecated.</li></ul></li><li><p><strong>pytest_report_teststatus</strong>(<code>report, config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_report_teststatus" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return result-category, shortletter and verbose word for status reporting.</p></li><li><p>The result-category is a category in which to count the result, for example “passed”, “skipped”, “error” or the empty string.</p></li><li><p>The shortletter is shown as testing progresses, for example “.”, “s”, “E” or the empty string.</p></li><li><p>The verbose word is shown as testing progresses in verbose mode, for example “PASSED”, “SKIPPED”, “ERROR” or the empty string.</p></li><li><p>pytest may style these implicitly according to the report outcome. To provide explicit styling, return a tuple for the verbose word, for example <code>&quot;rerun&quot;, &quot;R&quot;, (&quot;RERUN&quot;, {&quot;yellow&quot;: True})</code>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>report</strong> (<code>Union[CollectReport, TestReport]</code>) – The report object whose status is to be returned.</p></li><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li></ul></li><li><p><strong>Returns</strong>: The test status.</p></li><li><p><strong>Return type</strong>: <code>TestShortLogReport | Tuple[str, str, Union[str, Tuple[str, Mapping[str, bool]]]]</code></p></li><li><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p></li></ul></li><li><p><strong>pytest_report_to_serializable</strong>(<code>config, report</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_report_to_serializable" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Serialize the given report object into a data structure suitable for sending over the wire, e.g. converted to JSON.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li><li><p><strong>report</strong> (<code>Union[CollectReport, TestReport]</code>) – The report.</p></li></ul></li></ul></li><li><p><strong>pytest_report_from_serializable</strong>(config, data) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_report_from_serializable" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Restore a report object previously serialized with <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_report_to_serializable" target="_blank" rel="noreferrer">pytest_report_to_serializable</a>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>config</strong> (<code>Config</code>) – The pytest config object.</li></ul></li></ul></li><li><p><strong>pytest_terminal_summary</strong>(<code>terminalreporter, exitstatus, config</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_terminal_summary" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Add a section to terminal summary reporting.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>terminalreporter</strong> (<code>TerminalReporter</code>) – The internal terminal reporter object.</p></li><li><p><strong>exitstatus</strong> (<code>ExitCode</code>) – The exit status that will be reported back to the OS.</p></li><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li></ul></li><li><p><em>New in version 4.2</em>: The <code>config</code> parameter.</p></li></ul></li><li><p><strong>pytest_fixture_setup</strong>(<code>fixturedef, request</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_fixture_setup" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Perform fixture setup execution.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>fixturdef</strong> – The fixture definition object.</p></li><li><p><strong>request</strong> (<code>SubRequest</code>) – The fixture request object.</p></li></ul></li><li><p><strong>Returns</strong>: The return value of the call to the fixture function.</p></li><li><p><strong>Return type</strong>: <code>Optional[object]</code></p></li><li><p>Stops at first non-None result, see <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a>.</p></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>If the fixture function returns None, other implementations of this hook function will continue to be called, according to the behavior of the <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#firstresult" target="_blank" rel="noreferrer">firstresult: stop at first non-None result</a> option.</p></div></li><li><p><strong>pytest_fixture_post_finalizer</strong>(<code>fixturedef, request</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_fixture_post_finalizer" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called after fixture teardown, but before the cache is cleared, so the fixture result <code>fixturedef.cached_result</code> is still available (not <code>None</code>).</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>fixturdef</strong> – The fixture definition object.</p></li><li><p><strong>request</strong> (<code>SubRequest</code>) – The fixture request object.</p></li></ul></li></ul></li><li><p><strong>pytest_warning_recorded</strong>(<code>warning_message, when, nodeid, location</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_warning_recorded" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Process a warning captured by the internal pytest warnings plugin.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>warning_message</strong> (<code>warnings.WarningMessage</code>) – The captured warning. This is the same object produced by warnings.catch_warnings(), and contains the same attributes as the parameters of <a href="https://docs.python.org/3/library/warnings.html#warnings.showwarning" target="_blank" rel="noreferrer">warnings.showwarning()</a>.</p></li><li><p><strong>when</strong> (<code>Literal[&#39;config&#39;, &#39;collect&#39;, &#39;runtest&#39;]</code>) – Indicates when the warning was captured. Possible values:</p><ul><li><p><code>&quot;config&quot;</code>: during pytest configuration/initialization stage.</p></li><li><p><code>&quot;collect&quot;</code>: during test collection.</p></li><li><p><code>&quot;runtest&quot;</code>: during test execution.</p></li></ul></li><li><p><strong>nodeid</strong> (<code>str</code>) – Full id of the item.</p></li><li><p><strong>location</strong> (<code>Optional[Tuple[str, int, str]]</code>) – When available, holds information about the execution context of the captured warning (filename, linenumber, function). <code>function</code> evaluates to <code>&lt;module&gt;</code> when the execution context is at the module level.</p></li></ul></li><li><p><em>New in version 6.0.</em></p></li></ul></li></ul><p>Central hook for reporting about test execution:</p><ul><li><p><strong>pytest_runtest_logreport</strong>(<code>report</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_runtest_logreport" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Process the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.TestReport" target="_blank" rel="noreferrer">TestReport</a> produced for each of the setup, call and teardown runtest phases of an item.</p></li><li><p>See <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_runtest_protocol" target="_blank" rel="noreferrer">pytest_runtest_protocol</a> for a description of the runtest protocol.</p></li></ul></li></ul><p>Assertion related hooks:</p><ul><li><p><strong>pytest_assertrepr_compare</strong>(<code>config, op, left, right</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_assertrepr_compare" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return explanation for comparisons in failing assert expressions.</p></li><li><p>Return None for no custom explanation, otherwise return a list of strings. The strings will be joined by newlines but any newlines in a string will be escaped. Note that all but the first line will be indented slightly, the intention is for the first line to be a summary.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li><li><p><strong>op</strong> (<code>str</code>) – The operator, e.g. <code>&quot;==&quot;</code>, <code>&quot;!=&quot;</code>, <code>&quot;not in&quot;</code>.</p></li><li><p><strong>left</strong> (<code>object</code>) – The left operand.</p></li><li><p><strong>right</strong> (<code>object</code>) – The right operand.</p></li></ul></li></ul></li><li><p><strong>pytest_assertion_pass</strong>(<code>item, lineno, orig, expl</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_assertion_pass" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called whenever an assertion passes.</p></li><li><p><em>New in version 5.0</em>.</p></li><li><p>Use this hook to do some processing after a passing assertion. The original assertion information is available in the <code>orig</code> string and the pytest introspected assertion information is available in the <code>expl</code> string.</p></li><li><p>This hook must be explicitly enabled by the <code>enable_assertion_pass_hook</code> ini-file option:</p></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">enable_assertion_pass_hook</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">true</span></span></code></pre></div><ul><li><p>You need to clean the <code>.pyc</code> files in your project directory and interpreter libraries when enabling this option, as assertions will require to be re-written.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>item</strong> (<code>Item</code>) – pytest item object of current test.</p></li><li><p><strong>lineno</strong> (<code>int</code>) – Line number of the assert statement.</p></li><li><p><strong>orig</strong> (<code>str</code>) – String with the original assertion.</p></li><li><p><strong>expl</strong> (<code>str</code>) – String with the assert explanation.</p></li></ul></li></ul></li></ul><h3 id="debugging-interaction-hooks" tabindex="-1">Debugging/Interaction hooks <a class="header-anchor" href="#debugging-interaction-hooks" aria-label="Permalink to &quot;Debugging/Interaction hooks&quot;">​</a></h3><p>There are few hooks which can be used for special reporting or interaction with exceptions:</p><ul><li><p><strong>pytest_internalerror</strong>(<code>excrepr, excinfo</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_internalerror" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called for internal errors.</p></li><li><p>Return True to suppress the fallback handling of printing an INTERNALERROR message directly to sys.stderr.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>excrepr</strong> (<code>ExceptionRepr</code>) – The exception repr object.</p></li><li><p><strong>excinfo</strong> (<code>ExceptionInfo[BaseException]</code>) – The exception info.</p></li></ul></li></ul></li><li><p><strong>pytest_keyboard_interrupt</strong>(<code>excinfo</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_keyboard_interrupt" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called for keyboard interrupt.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>excinfo</strong> (<code>ExceptionInfo[Union[KeyboardInterrupt, Exit]]</code>) – The exception info.</li></ul></li></ul></li><li><p><strong>pytest_exception_interact</strong>(<code>node, call, report</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_exception_interact" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called when an exception was raised which can potentially be interactively handled.</p></li><li><p>May be called during collection (see <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_make_collect_report" target="_blank" rel="noreferrer">pytest_make_collect_report</a>), in which case <code>report</code> is a <code>CollectReport</code>.</p></li><li><p>May be called during runtest of an item (see <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_runtest_protocol" target="_blank" rel="noreferrer">pytest_runtest_protocol</a>), in which case <code>report</code> is a <code>TestReport</code>.</p></li><li><p>This hook is not called if the exception that was raised is an internal exception like <code>skip.Exception</code>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>node</strong> (<code>Union[Item, Collector]</code>) – The item or collector.</p></li><li><p><strong>call</strong> (<code>CallInfo[Any]</code>) – The call information. Contains the exception.</p></li><li><p><strong>report</strong> (<code>Union[CollectReport, TestReport]</code>) – The collection or test report.</p></li></ul></li></ul></li><li><p><strong>pytest_enter_pdb</strong>(<code>config, pdb</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_enter_pdb" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called upon pdb.set_trace().</p></li><li><p>Can be used by plugins to take special action just before the python debugger enters interactive mode.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li><li><p><strong>pdb</strong> (<code>pdb.Pdb</code>) – The Pdb instance.</p></li></ul></li></ul></li><li><p><strong>pytest_leave_pdb</strong>(<code>config, pdb</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/hookspec.html#pytest_leave_pdb" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Called when leaving pdb (e.g. with continue after pdb.set_trace()).</p></li><li><p>Can be used by plugins to take special action just after the python debugger leaves interactive mode.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>config</strong> (<code>Config</code>) – The pytest config object.</p></li><li><p><strong>pdb</strong> (<code>pdb.Pdb</code>) – The Pdb instance.</p></li></ul></li></ul></li></ul><h2 id="collection-tree-objects" tabindex="-1">Collection tree objects <a class="header-anchor" href="#collection-tree-objects" aria-label="Permalink to &quot;Collection tree objects&quot;">​</a></h2><p>These are the collector and item classes (collectively called “nodes”) which make up the collection tree.</p><h3 id="node" tabindex="-1">Node <a class="header-anchor" href="#node" aria-label="Permalink to &quot;Node&quot;">​</a></h3><ul><li><p>class <strong>Node</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Base class of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Collector" target="_blank" rel="noreferrer">Collector</a> and <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item" target="_blank" rel="noreferrer">Item</a>, the components of the test collection tree.</p></li><li><p><code>Collector</code>&#39;s are the internal nodes of the tree, and <code>Item</code>&#39;s are the leaf nodes.</p></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the path attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <code>Item.reportinfo()</code>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><pre><code>  - Keywords/markers collected from all scopes.
</code></pre></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li><li><p>classmethod <strong>from_parent</strong>(<code>parent, **kw</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.from_parent" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Public constructor for Nodes.</p></li><li><p>This indirection got introduced in order to enable removing the fragile logic from the node constructors.</p></li><li><p>Subclasses can use <code>super().from_parent(...)</code> when overriding the construction.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>parent</strong> (<code>Node</code>) – The parent node of this Node.</li></ul></li></ul></li><li><p>property <strong>ihook</strong></p><ul><li><strong>fspath</strong>-sensitive hook proxy used to call pytest hooks.</li></ul></li><li><p><strong>warn</strong>(<code>warning</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.warn" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Issue a warning for this Node.</p></li><li><p>Warnings will be displayed after the test session, unless explicitly suppressed.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>warning</strong> (<code>Warning</code>) – The warning instance to issue.</li></ul></li><li><p><strong>Raises</strong>:</p><ul><li><strong>ValueError</strong> – If <code>warning</code> instance is not a subclass of Warning.</li></ul></li><li><p>Example usage:</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">node</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">PytestWarning</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">some message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">node</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">UserWarning</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">some message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">))</span></span></code></pre></div><ul><li><em>Changed in version 6.2</em>: Any subclass of <a href="https://docs.python.org/3/library/exceptions.html#Warning" target="_blank" rel="noreferrer">Warning</a> is now accepted, rather than only <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.PytestWarning" target="_blank" rel="noreferrer">PytestWarning</a> subclasses.</li></ul></li><li><p>property <strong>nodeid</strong>: <code>str</code></p><ul><li>A ::-separated string denoting its collection tree address.</li></ul></li><li><p><strong>listchain</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.listchain" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return list of all parent collectors up to self, starting from the root of collection tree.</p></li><li><p><strong>Returns</strong>: The nodes.</p></li><li><p><strong>Return type</strong>: <code>List[Node]</code></p></li></ul></li><li><p><strong>add_marker</strong>(<code>marker, append=True</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.add_marker" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Dynamically add a marker object to the node.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>marker</strong> (<code>Union[str, MarkDecorator]</code>) – The marker.</p></li><li><p><strong>append</strong> (<code>bool</code>) – Whether to append the marker, or prepend it.</p></li></ul></li></ul></li><li><p><strong>iter_markers</strong>(<code>name=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.iter_markers" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Iterate over all markers of the node.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>name</strong> (<code>Optional[str]</code>) – If given, filter the results by the name attribute.</li></ul></li><li><p><strong>Returns</strong>: An iterator of the markers of the node.</p></li><li><p><strong>Return type</strong>: <code>Iterator[Mark]</code></p></li></ul></li><li><p>for ... in <strong>iter_markers_with_node</strong>(<code>name=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.iter_markers_with_node" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Iterate over all markers of the node.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>name</strong> (<code>Optional[str]</code>) – If given, filter the results by the name attribute.</li></ul></li><li><p><strong>Returns</strong>: An iterator of (node, mark) tuples.</p></li><li><p><strong>Return type</strong>: <code>Iterator[Tuple[Node, Mark]]</code></p></li></ul></li><li><p><strong>get_closest_marker</strong>(<code>name: str</code>) → <code>Optional[Mark]</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.get_closest_marker" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>get_closest_marker</strong>(<code>name: str, default: Mark</code>) → <code>Mark</code></p><ul><li><p>Return the first marker matching the name, from closest (for example function) to farther level (for example module level).</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>default</strong> – Fallback return value if no marker was found.</p></li><li><p><strong>name</strong> – Name to filter by.</p></li></ul></li></ul></li><li><p><strong>listextrakeywords</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.listextrakeywords" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return a set of all extra keywords in self and any parents.</li></ul></li><li><p><strong>addfinalizer</strong>(<code>fin</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.addfinalizer" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Register a function to be called without arguments when this node is finalized.</p></li><li><p>This method can only be called when this node is active in a setup chain, for example during self.setup().</p></li></ul></li><li><p><strong>getparent</strong>(<code>cls</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.getparent" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Get the next parent node (including self) which is an instance of the given class.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>cls</strong> (<code>Type[_NodeType]</code>) – The node class to search for.</li></ul></li><li><p><strong>Returns</strong>: The node, if found.</p></li><li><p><strong>Return type</strong>: <code>Optional[_NodeType]</code></p></li></ul></li><li><p><strong>repr_failure</strong>(<code>excinfo, style=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Node.repr_failure" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return a representation of a collection or test failure.</li></ul><div class="tip custom-block"><p class="custom-block-title">See also</p><p><a href="https://docs.pytest.org/en/latest/example/nonpython.html#non-python-tests" target="_blank" rel="noreferrer">Working with non-python tests</a></p></div><ul><li><p><strong>Parameters</strong>:</p><ul><li><strong>excinfo</strong> (<code>ExceptionInfo[BaseException]</code>) – Exception information for the failure.</li></ul></li></ul></li></ul></li></ul><h3 id="collector" tabindex="-1">Collector <a class="header-anchor" href="#collector" aria-label="Permalink to &quot;Collector&quot;">​</a></h3><ul><li><p>class <strong>Collector</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Collector" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node" target="_blank" rel="noreferrer">Node</a></p></li><li><p>Base class of all collectors.</p></li><li><p>Collector create children through <code>collect()</code> and thus iteratively build the collection tree.</p></li><li><p>exception <strong>CollectError</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Collector.CollectError" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.python.org/3/library/exceptions.html#Exception" target="_blank" rel="noreferrer">Exception</a></p></li><li><p>An error during collection, contains a custom message.</p></li></ul></li><li><p><strong>collect</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Collector.collect" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Collect children (items and collectors) for this collector.</li></ul></li><li><p><strong>repr_failure</strong>(<code>excinfo</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Collector.repr_failure" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return a representation of a collection failure.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>excinfo</strong> (<code>ExceptionInfo[BaseException]</code>) – Exception information for the failure.</li></ul></li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Collector.path" target="_blank" rel="noreferrer">path</a> attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item.reportinfo" target="_blank" rel="noreferrer">Item.reportinfo()</a>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Collector.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li></ul></li></ul><h3 id="item" tabindex="-1">Item <a class="header-anchor" href="#item" aria-label="Permalink to &quot;Item&quot;">​</a></h3><ul><li><p>class <strong>Item</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Item" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node" target="_blank" rel="noreferrer">Node</a></p></li><li><p>Base class of all test invocation items.</p></li><li><p>Note that for a single function there might be multiple test invocation items.</p></li><li><p><strong>user_properties</strong>: <code>List[Tuple[str, object]]</code></p><ul><li>A list of tuples (name, value) that holds user defined properties for this test.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A LEGACY_PATH copy of the path attribute. Intended for usage for methods not migrated to pathlib.Path yet, such as Item.reportinfo(). Will be deprecated in a future release, prefer using path instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li><li><p><strong>runtest</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Item.runtest" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Run the test case for this item.</p></li><li><p>Must be implemented by subclasses.</p></li></ul><div class="tip custom-block"><p class="custom-block-title">See also</p><p><a href="https://docs.pytest.org/en/latest/example/nonpython.html#non-python-tests" target="_blank" rel="noreferrer">Working with non-python tests</a></p></div></li><li><p><strong>add_report_section</strong>(<code>when, key, content</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Item.add_report_section" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Add a new report section, similar to what’s done internally to add stdout and stderr captured output:</li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_report_section</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">call</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stdout</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">report section contents</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><ul><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>when</strong> (<code>str</code>) – One of the possible capture states, <code>&quot;setup&quot;</code>, <code>&quot;call&quot;</code>, <code>&quot;teardown&quot;</code>.</p></li><li><p><strong>key</strong> (<code>str</code>) – Name of the section, can be customized at will. Pytest uses <code>&quot;stdout&quot;</code> and <code>&quot;stderr&quot;</code> internally.</p></li><li><p><strong>content</strong> (<code>str</code>) – The full contents as a string.</p></li></ul></li></ul></li><li><p><strong>reportinfo</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#Item.reportinfo" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Get location information for this item for test reports.</p></li><li><p>Returns a tuple with three elements:</p><ul><li><p>The path of the test (default <code>self.path</code>)</p></li><li><p>The 0-based line number of the test (default <code>None</code>)</p></li><li><p>A name of the test to be shown (default <code>&quot;&quot;</code>)</p></li></ul></li></ul><div class="tip custom-block"><p class="custom-block-title">See also</p><p><a href="https://docs.pytest.org/en/latest/example/nonpython.html#non-python-tests" target="_blank" rel="noreferrer">Working with non-python tests</a></p></div></li><li><p>property <strong>location</strong>: <code>Tuple[str, Optional[int], str]</code></p><ul><li>Returns a tuple of <code>(relfspath, lineno, testname)</code> for this item where <code>relfspath</code> is file path relative to <code>config.rootpath</code> and lineno is a 0-based line number.</li></ul></li></ul></li></ul><h3 id="file" tabindex="-1">File <a class="header-anchor" href="#file" aria-label="Permalink to &quot;File&quot;">​</a></h3><ul><li><p>class <strong>File</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#File" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.FSCollector" target="_blank" rel="noreferrer">FSCollector</a></p></li><li><p>Base class for collecting tests from a file.</p></li><li><p><a href="https://docs.pytest.org/en/latest/example/nonpython.html#non-python-tests" target="_blank" rel="noreferrer">Working with non-python tests.</a></p></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the path attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item.reportinfo" target="_blank" rel="noreferrer">Item.reportinfo()</a>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.File.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li></ul></li></ul><h3 id="fscollector" tabindex="-1">FSCollector <a class="header-anchor" href="#fscollector" aria-label="Permalink to &quot;FSCollector&quot;">​</a></h3><ul><li><p>class <strong>FSCollector</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#FSCollector" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Collector" target="_blank" rel="noreferrer">Collector</a></p></li><li><p>Base class for filesystem collectors.</p></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p>classmethod <strong>from_parent</strong>(<code>parent, *, fspath=None, path=None, **kw</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/nodes.html#FSCollector.from_parent" target="_blank" rel="noreferrer">[source]</a></p><ul><li>The public constructor.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the path attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <code>Item.reportinfo()</code>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.FSCollector.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li></ul></li></ul><h3 id="session" tabindex="-1">Session <a class="header-anchor" href="#session" aria-label="Permalink to &quot;Session&quot;">​</a></h3><ul><li><p>final class <code>Session</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/main.html#Session" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.FSCollector" target="_blank" rel="noreferrer">FSCollector</a></p></li><li><p>The root of the collection tree.</p></li><li><p><code>Session</code> collects the initial paths given as arguments to pytest.</p></li><li><p>exception <strong>Interrupted</strong></p><ul><li><p>Bases: <a href="https://docs.python.org/3/library/exceptions.html#KeyboardInterrupt" target="_blank" rel="noreferrer">KeyboardInterrupt</a></p></li><li><p>Signals that the test run was interrupted.</p></li></ul></li><li><p>exception <strong>Failed</strong></p><ul><li><p>Bases: <a href="https://docs.python.org/3/library/exceptions.html#Exception" target="_blank" rel="noreferrer">Exception</a></p></li><li><p>Signals a stop as failed test run.</p></li></ul></li><li><p>property <strong>startpath</strong>: <code>Path</code></p><ul><li><p>The path from which pytest was invoked.</p></li><li><p><em>New in version 7.0.0.</em></p></li></ul></li><li><p><strong>perform_collect</strong>(<code>args: Optional[Sequence[str]] = None, genitems: Literal[True] = True</code>) → <code>Sequence[Item]</code> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/main.html#Session.perform_collect" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>perform_collect</strong>(<code>args: Optional[Sequence[str]] = None, genitems: bool = True</code>) → <code>Sequence[Union[Item, Collector]]</code></p><ul><li><p>Perform the collection phase for this session.</p></li><li><p>This is called by the default <a href="https://docs.pytest.org/en/latest/reference/reference.html#std-hook-pytest_collection" target="_blank" rel="noreferrer">pytest_collection</a> hook implementation; see the documentation of this hook for more details. For testing purposes, it may also be called directly on a fresh <code>Session</code>.</p></li><li><p>This function normally recursively expands any collectors collected from the session to their items, and only items are returned. For testing purposes, this may be suppressed by passing <code>genitems=False</code>, in which case the return value contains these collectors unexpanded, and <code>session.items</code> is empty.</p></li></ul></li><li><p>for ... in <strong>collect</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/main.html#Session.collect" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Collect children (items and collectors) for this collector.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li></ul></li></ul><h3 id="package" tabindex="-1">Package <a class="header-anchor" href="#package" aria-label="Permalink to &quot;Package&quot;">​</a></h3><ul><li><p>class <strong>Package</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Package" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Module" target="_blank" rel="noreferrer">Module</a></p></li><li><p>Collector for files and directories in a Python packages – directories with an <code>__init__.py</code> file.</p></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p>for ... in <strong>collect</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Package.collect" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Collect children (items and collectors) for this collector.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Package.path" target="_blank" rel="noreferrer">path</a> attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item.reportinfo" target="_blank" rel="noreferrer">Item.reportinfo()</a>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Package.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li></ul></li></ul><h3 id="module" tabindex="-1">Module <a class="header-anchor" href="#module" aria-label="Permalink to &quot;Module&quot;">​</a></h3><ul><li><p>class <strong>Module</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Module" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.File" target="_blank" rel="noreferrer">File</a>, <strong>PyCollector</strong></p></li><li><p>Collector for test classes and functions in a Python module.</p></li><li><p><strong>collect</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Module.collect" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Collect children (items and collectors) for this collector.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Module.path" target="_blank" rel="noreferrer">path</a> attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item.reportinfo" target="_blank" rel="noreferrer">Item.reportinfo()</a>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Module.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li></ul></li></ul><h3 id="class" tabindex="-1">Class <a class="header-anchor" href="#class" aria-label="Permalink to &quot;Class&quot;">​</a></h3><ul><li><p>class <strong>Class</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Class" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>PyCollector</code></p></li><li><p>Collector for test methods (and nested classes) in a Python class.</p></li><li><p>classmethod <strong>from_parent</strong>(<code>parent, *, name, obj=None, **kw</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Class.from_parent" target="_blank" rel="noreferrer">[source]</a></p><ul><li>The public constructor.</li></ul></li><li><p><strong>collect</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Class.collect" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Collect children (items and collectors) for this collector.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Class.path" target="_blank" rel="noreferrer">path</a> attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item.reportinfo" target="_blank" rel="noreferrer">Item.reportinfo()</a>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Class.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li></ul></li></ul><h3 id="function" tabindex="-1">Function <a class="header-anchor" href="#function" aria-label="Permalink to &quot;Function&quot;">​</a></h3><ul><li><p>class <strong>Function</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Function" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>PyobjMixin</code>, <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item" target="_blank" rel="noreferrer">Item</a></p></li><li><p>Item responsible for setting up and executing a Python test function.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>name</strong> – The full function name, including any decorations like those added by parametrization (<code>my_func[my_param]</code>).</p></li><li><p><strong>parent</strong> – The parent Node.</p></li><li><p><strong>config</strong> – The pytest Config object.</p></li><li><p><strong>callspec</strong> – If given, this is function has been parametrized and the callspec contains meta information about the parametrization.</p></li><li><p><strong>callobj</strong> – If given, the object which will be called when the Function is invoked, otherwise the callobj will be obtained from <code>parent</code> using <code>originalname</code>.</p></li><li><p><strong>keywords</strong> – Keywords bound to the function object for “-k” matching.</p></li><li><p><strong>session</strong> – The pytest Session object.</p></li><li><p><strong>fixtureinfo</strong> – Fixture information already resolved at this fixture node..</p></li><li><p><strong>originalname</strong> – The attribute name to use for accessing the underlying function object. Defaults to <code>name</code>. Set this if name is different from the original name, for example when it contains decorations like those added by parametrization (<code>my_func[my_param]</code>).</p></li></ul></li><li><p><strong>originalname</strong></p><ul><li><p>Original function name, without any decorations (for example parametrization adds a <code>&quot;[...]&quot;</code> suffix to function names), used to access the underlying function object from <code>parent</code> (in case <code>callobj</code> is not given explicitly).</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>classmethod <strong>from_parent</strong>(<code>parent, **kw</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Function.from_parent" target="_blank" rel="noreferrer">[source]</a></p><ul><li>The public constructor.</li></ul></li><li><p>property <strong>function</strong></p><ul><li>Underlying python ‘function’ object.</li></ul></li><li><p><strong>runtest</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Function.runtest" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Execute the underlying test function.</li></ul></li><li><p><strong>repr_failure</strong>(excinfo) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Function.repr_failure" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return a representation of a collection or test failure.</li></ul><div class="tip custom-block"><p class="custom-block-title">See also</p><p>Working with non-python tests</p></div></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>excinfo</strong> (<code>ExceptionInfo[BaseException]</code>) – Exception information for the failure.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Function.path" target="_blank" rel="noreferrer">path</a> attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Item.reportinfo" target="_blank" rel="noreferrer">Item.reportinfo()</a>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Function.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li><li><p><strong>user_properties</strong>: <code>List[Tuple[str, object]]</code></p><ul><li>A list of tuples (name, value) that holds user defined properties for this test.</li></ul></li></ul></li></ul><h3 id="functiondefinition" tabindex="-1">FunctionDefinition <a class="header-anchor" href="#functiondefinition" aria-label="Permalink to &quot;FunctionDefinition&quot;">​</a></h3><ul><li><p>class <strong>FunctionDefinition</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#FunctionDefinition" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Function" target="_blank" rel="noreferrer">Function</a></p></li><li><p>This class is a stop gap solution until we evolve to have actual function definition nodes and manage to get rid of <code>metafunc</code>.</p></li><li><p><strong>runtest</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#FunctionDefinition.runtest" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Execute the underlying test function.</li></ul></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>A unique name within the scope of the parent node.</li></ul></li><li><p><strong>parent</strong></p><ul><li>The parent collector node.</li></ul></li><li><p><strong>config</strong>: <code>Config</code></p><ul><li>The pytest config object.</li></ul></li><li><p><strong>session</strong>: <code>Session</code></p><ul><li>The pytest session this node is part of.</li></ul></li><li><p><strong>path</strong>: <code>Path</code></p><ul><li>Filesystem path where this node was collected from (can be None).</li></ul></li><li><p><strong>setup</strong>()</p><ul><li>Execute the underlying test function.</li></ul></li><li><p><strong>fspath</strong>: <code>LocalPath</code></p><ul><li>A <code>LEGACY_PATH</code> copy of the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.python.FunctionDefinition.path" target="_blank" rel="noreferrer">path</a> attribute. Intended for usage for methods not migrated to <code>pathlib.Path</code> yet, such as <code>Item.reportinfo()</code>. Will be deprecated in a future release, prefer using <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.python.FunctionDefinition.path" target="_blank" rel="noreferrer">path</a> instead.</li></ul></li><li><p><strong>keywords</strong>: <code>MutableMapping[str, Any]</code></p><ul><li>Keywords/markers collected from all scopes.</li></ul></li><li><p><strong>own_markers</strong>: <code>List[Mark]</code></p><ul><li>The marker objects belonging to this node.</li></ul></li><li><p><strong>extra_keyword_matches</strong>: <code>Set[str]</code></p><ul><li>Allow adding of extra keywords to use for matching.</li></ul></li><li><p><strong>stash</strong>: <code>Stash</code></p><ul><li>A place where plugins can store information on the node for their own use.</li></ul></li><li><p><strong>user_properties</strong>: <code>List[Tuple[str, object]]</code></p><ul><li>A list of tuples (name, value) that holds user defined properties for this test.</li></ul></li></ul></li></ul><h2 id="objects" tabindex="-1">Objects <a class="header-anchor" href="#objects" aria-label="Permalink to &quot;Objects&quot;">​</a></h2><p>Objects accessible from fixtures or hooks or importable from <code>pytest</code>.</p><h3 id="callinfo" tabindex="-1">CallInfo <a class="header-anchor" href="#callinfo" aria-label="Permalink to &quot;CallInfo&quot;">​</a></h3><ul><li><p>final class <strong>CallInfo</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/runner.html#CallInfo" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Result/Exception info of a function invocation.</p></li><li><p><strong>excinfo</strong>: <code>Optional[ExceptionInfo[BaseException]]</code></p><ul><li>The captured exception of the call, if it raised.</li></ul></li><li><p><strong>start</strong>: <code>float</code></p><ul><li>The system time when the call started, in seconds since the epoch.</li></ul></li><li><p><strong>stop</strong>: <code>float</code></p><ul><li>The system time when the call ended, in seconds since the epoch.</li></ul></li><li><p><strong>duration</strong>: <code>float</code></p><ul><li>The call duration, in seconds.</li></ul></li><li><p><strong>when</strong>: <code>Literal[&#39;collect&#39;, &#39;setup&#39;, &#39;call&#39;, &#39;teardown&#39;]</code></p><ul><li>The context of invocation: “collect”, “setup”, “call” or “teardown”.</li></ul></li><li><p>property <strong>result</strong>: <code>TResult</code></p><ul><li><p>The return value of the call, if it didn’t raise.</p></li><li><p>Can only be accessed if excinfo is None.</p></li></ul></li><li><p>classmethod <strong>from_call</strong>(<code>func, when, reraise=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/runner.html#CallInfo.from_call" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Call func, wrapping the result in a CallInfo.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>func</strong> (<code>Callable[[], TResult]</code>) – The function to call. Called without arguments.</p></li><li><p><strong>when</strong> (<code>Literal[&#39;collect&#39;, &#39;setup&#39;, &#39;call&#39;, &#39;teardown&#39;]</code>) – The phase in which the function is called.</p></li><li><p><strong>reraise</strong> (<code>Optional[Union[Type[BaseException], Tuple[Type[BaseException], ...]]]</code>) – Exception or - exceptions that shall propagate if raised by the function, instead of being wrapped in the CallInfo.</p></li></ul></li></ul></li></ul></li></ul><h3 id="collectreport" tabindex="-1">CollectReport <a class="header-anchor" href="#collectreport" aria-label="Permalink to &quot;CollectReport&quot;">​</a></h3><ul><li><p>final class <strong>CollectReport</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/reports.html#CollectReport" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>BaseReport</code></p></li><li><p>Collection report object.</p></li><li><p>Reports can contain arbitrary extra attributes.</p></li><li><p><strong>nodeid</strong>: <code>str</code></p></li><li><p>Normalized collection nodeid.</p></li><li><p><strong>outcome</strong>: <code>Literal[&#39;passed&#39;, &#39;failed&#39;, &#39;skipped&#39;]</code></p></li><li><p>Test outcome, always one of “passed”, “failed”, “skipped”.</p></li><li><p><strong>longrepr</strong>: <code>Union[None, ExceptionInfo[BaseException], Tuple[str, int, str], str, TerminalRepr]</code></p></li><li><p>None or a failure representation.</p></li><li><p><strong>result</strong></p></li><li><p>The collected items and collection nodes.</p></li><li><p><strong>sections</strong>: <code>List[Tuple[str, str]]</code></p><ul><li>Tuples of str <code>(heading, content)</code> with extra information for the test report. Used by pytest to add text captured from <code>stdout</code>, <code>stderr</code>, and intercepted logging events. May be used by other plugins to add arbitrary information to reports.</li></ul></li><li><p>property <strong>caplog</strong>: <code>str</code></p><ul><li><p>Return captured log lines, if log capturing is enabled.</p></li><li><p><em>New in version 3.5.</em></p></li></ul></li><li><p>property <strong>capstderr</strong>: <code>str</code></p><ul><li><p>Return captured text from stderr, if capturing is enabled.</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>property <strong>capstdout</strong>: <code>str</code></p><ul><li><p>Return captured text from stdout, if capturing is enabled.</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>property <strong>count_towards_summary</strong>: <code>bool</code></p><ul><li>Experimental Whether this report should be counted towards the totals shown at the end of the test session: “1 passed, 1 failure, etc”.</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This function is considered experimental, so beware that it is subject to changes even in patch releases.</p></div></li><li><p>property <strong>failed</strong>: <code>bool</code></p><ul><li>Whether the outcome is failed.</li></ul></li><li><p>property <strong>fspath</strong>: <code>str</code></p><ul><li>The path portion of the reported node, as a string.</li></ul></li><li><p>property <strong>head_line</strong>: <code>Optional[str]</code></p><ul><li>Experimental The head line shown with longrepr output for this report, more commonly during traceback representation during failures:</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">________</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Test.foo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">________</span></span></code></pre></div><ul><li>In the example above, the head_line is “Test.foo”.</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This function is considered experimental, so beware that it is subject to changes even in patch releases.</p></div></li><li><p>property <strong>longreprtext</strong>: <code>str</code></p><ul><li><p>Read-only property that returns the full string representation of <code>longrepr</code>.</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>property <strong>passed</strong>: <code>bool</code></p><ul><li>Whether the outcome is passed.</li></ul></li><li><p>property <strong>skipped</strong>: <code>bool</code></p><ul><li>Whether the outcome is skipped.</li></ul></li></ul></li></ul><h3 id="config" tabindex="-1">Config <a class="header-anchor" href="#config" aria-label="Permalink to &quot;Config&quot;">​</a></h3><ul><li><p>final class <strong>Config</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Access to configuration values, pluginmanager and plugin hooks.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>pluginmanager</strong> (<code>PytestPluginManager</code>) – A pytest PluginManager.</p></li><li><p><strong>invocation_params</strong> (<code>InvocationParams</code>) – Object containing parameters regarding the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a> invocation.</p></li></ul></li><li><p>final class <strong>InvocationParams</strong>(<code>*, args, plugins, dir</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.InvocationParams" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Holds parameters passed during <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a>.</p></li><li><p>The object attributes are read-only.</p></li><li><p><em>New in version 5.1.</em></p></li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>Note that the environment variable <code>PYTEST_ADDOPTS</code> and the <code>addopts</code> ini option are handled by pytest, not being included in the <code>args</code> attribute.</p><p>Plugins accessing <code>InvocationParams</code> must be aware of that.</p></div></li><li><p><strong>args</strong>: <code>Tuple[str, ...]</code></p><ul><li>The command-line arguments as passed to <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a>.</li></ul></li><li><p><strong>plugins</strong>: <code>Optional[Sequence[Union[str, object]]]</code></p><ul><li>Extra plugins, might be <code>None</code>.</li></ul></li><li><p><strong>dir</strong>: <code>Path</code></p><ul><li>The directory from which <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.main" target="_blank" rel="noreferrer">pytest.main()</a> was invoked.</li></ul></li><li><p>class <strong>ArgsSource</strong>(<code>value</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.ArgsSource" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Indicates the source of the test arguments.</p></li><li><p><em>New in version 7.2.</em></p></li><li><p><strong>ARGS</strong> = 1</p><ul><li>Command line arguments.</li></ul></li><li><p><strong>INCOVATION_DIR</strong> = 2</p><ul><li>Invocation directory.</li></ul></li><li><p><strong>TESTPATHS</strong> = 3</p><ul><li>‘testpaths’ configuration value.</li></ul></li></ul></li><li><p><strong>option</strong></p><ul><li><p>Access to command line option as attributes.</p></li><li><p><strong>Type</strong>: <a href="https://docs.python.org/3/library/argparse.html#argparse.Namespace" target="_blank" rel="noreferrer">argparse.Namespace</a></p></li></ul></li><li><p><strong>invocation_params</strong></p><ul><li><p>The parameters with which pytest was invoked.</p></li><li><p><strong>Type</strong>: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config.InvocationParams" target="_blank" rel="noreferrer">InvocationParams</a></p></li></ul></li><li><p><strong>pluginmanager</strong></p><ul><li><p>The plugin manager handles plugin registration and hook invocation.</p></li><li><p><strong>Type</strong>: <code>PytestPluginManager</code></p></li></ul></li><li><p><strong>stash</strong></p><ul><li><p>A place where plugins can store information on the config for their own use.</p></li><li><p><strong>Type</strong>: <code>Stash</code></p></li></ul></li><li><p>property <strong>rootpath</strong>: <code>Path</code></p><ul><li><p>The path to the <a href="https://docs.pytest.org/en/latest/reference/customize.html#rootdir" target="_blank" rel="noreferrer">rootdir</a>.</p></li><li><p><strong>Type</strong>: <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a></p></li><li><p><em>New in version 6.1.</em></p></li></ul></li><li><p>property <strong>inipath</strong>: <code>Optional[Path]</code></p><ul><li><p>The path to the configfile.</p></li><li><p><strong>Type</strong>: <code>Optional[pathlib.Path]</code></p></li><li><p><em>New in version 6.1.</em></p></li></ul></li><li><p><strong>add_cleanup</strong>(<code>func</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.add_cleanup" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Add a function to be called when the config object gets out of use (usually coinciding with pytest_unconfigure).</li></ul></li><li><p>classmethod <strong>fromdictargs</strong>(<code>option_dict, args</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.fromdictargs" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Constructor usable for subprocesses.</li></ul></li><li><p><strong>issue_config_time_warning</strong>(<code>warning, stacklevel</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.issue_config_time_warning" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Issue and handle a warning during the “configure” stage.</p></li><li><p>During <code>pytest_configure</code> we can’t capture warnings using the <code>catch_warnings_for_item</code> function because it is not possible to have hook wrappers around <code>pytest_configure</code>.</p></li><li><p>This function is mainly intended for plugins that need to issue warnings during <code>pytest_configure</code> (or similar stages).</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>warning</strong> (<code>Warning</code>) – The warning instance.</p></li><li><p><strong>stacklevel</strong> (<code>int</code>) – stacklevel forwarded to warnings.warn.</p></li></ul></li></ul></li><li><p><strong>addinivalue_line</strong>(<code>name, line</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.addinivalue_line" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Add a line to an ini-file option. The option must have been declared but might not yet be set in which case the line becomes the first line in its value.</li></ul></li><li><p><strong>getini</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.getini" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return configuration value from an ini file.</p></li><li><p>If the specified name hasn’t been registered through a prior parser.addini call (usually from a plugin), a ValueError is raised.</p></li></ul></li><li><p><strong>getoption</strong>(<code>name, default=&lt;NOTSET&gt;, skip=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.getoption" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return command line option value.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>name</strong> (<code>str</code>) – Name of the option. You may also specify the literal <code>--OPT</code> option instead of the “dest” option name.</p></li><li><p><strong>default</strong> – Default value if no option of that name exists.</p></li><li><p><strong>skip</strong> (<code>bool</code>) – If True, raise pytest.skip if option does not exists or has a None value.</p></li></ul></li></ul></li><li><p><strong>getvalue</strong>(<code>name, path=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.getvalue" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Deprecated, use getoption() instead.</li></ul></li><li><p>getvalueorskip(name, path=None) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#Config.getvalueorskip" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Deprecated, use getoption(skip=True) instead.</li></ul></li></ul></li></ul><h3 id="exceptioninfo" tabindex="-1">ExceptionInfo <a class="header-anchor" href="#exceptioninfo" aria-label="Permalink to &quot;ExceptionInfo&quot;">​</a></h3><ul><li><p>final class <strong>ExceptionInfo</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Wraps <code>sys.exc_info()</code> objects and offers help for navigating the traceback.</p></li><li><p>classmethod <strong>from_exception</strong>(<code>exception, exprinfo=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.from_exception" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return an ExceptionInfo for an existing exception.</p></li><li><p>The exception must have a non-<code>None</code> <code>__traceback__</code> attribute, otherwise this function fails with an assertion error. This means that the exception must have been raised, or added a traceback with the with_traceback() method.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>exprinfo</strong> (<code>Optional[str]</code>) – A text string helping to determine if we should strip AssertionError from the output. Defaults to the exception <code>message/__str__()</code>.</li></ul></li><li><p><em>New in version 7.4.</em></p></li></ul></li><li><p>classmethod <strong>from_exc_info</strong>(exc_info, exprinfo=None) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.from_exc_info" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Like <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.ExceptionInfo.from_exception" target="_blank" rel="noreferrer">from_exception()</a>, but using old-style exc_info tuple.</li></ul></li><li><p>classmethod <strong>from_current</strong>(exprinfo=None) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.from_current" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return an ExceptionInfo matching the current traceback.</li></ul><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>Experimental API</p></div></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>exprinfo</strong> (<code>Optional[str]</code>) – A text string helping to determine if we should strip - <code>AssertionError</code> from the output. Defaults to the exception <code>message/__str__()</code>.</li></ul></li><li><p>classmethod <strong>for_later</strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.for_later" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return an unfilled ExceptionInfo.</li></ul></li><li><p><strong>fill_unfilled</strong>(<code>exc_info</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.fill_unfilled" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Fill an unfilled ExceptionInfo created with <code>for_later()</code>.</li></ul></li><li><p>property <strong>type</strong>: <code>Type[E]</code></p><ul><li>The exception class.</li></ul></li><li><p>property <strong>value</strong>: <code>E</code></p><ul><li>The exception value.</li></ul></li><li><p>property <strong>tb</strong>: <code>TracebackType</code></p><ul><li>The exception raw traceback.</li></ul></li><li><p>property <strong>typename</strong>: <code>str</code></p><ul><li>The type name of the exception.</li></ul></li><li><p>property <strong>traceback</strong>: <code>Traceback</code></p><ul><li>The traceback.</li></ul></li><li><p><strong>exconly</strong>(<code>tryshort=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.exconly" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return the exception as a string.</p></li><li><p>When ‘tryshort’ resolves to True, and the exception is an AssertionError, only the actual exception part of the exception representation is returned (so ‘AssertionError: ‘ is removed from the beginning).</p></li></ul></li><li><p><strong>errisinstance</strong>(<code>exc</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.errisinstance" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return True if the exception is an instance of exc.</p></li><li><p>Consider using <code>isinstance(excinfo.value, exc)</code> instead.</p></li></ul></li><li><p><strong>getrepr</strong>(<code>showlocals=False, style=&#39;long&#39;, abspath=False, tbfilter=True, funcargs=False, - truncate_locals=True, chain=True</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.getrepr" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return str()able representation of this exception info.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>showlocals</strong> (<code>bool</code>) – Show locals per traceback entry. Ignored if <code>style==&quot;native&quot;</code>.</p></li><li><p><strong>style</strong> (<code>str</code>) – long|short|line|no|native|value traceback style.</p></li><li><p><strong>abspath</strong> (<code>bool</code>) – If paths should be changed to absolute or left unchanged.</p></li><li><p><strong>tbfilter</strong> (<code>Union[bool, Callable[[ExceptionInfo[BaseException]], Traceback]]</code>) – A filter for traceback entries.</p><ul><li><p>If false, don’t hide any entries.</p></li><li><p>If true, hide internal entries and entries that contain a local variable <code>__tracebackhide__ = True</code>.</p></li><li><p>If a callable, delegates the filtering to the callable.</p></li></ul></li><li><p>Ignored if <code>style</code> is <code>&quot;native&quot;</code>.</p></li><li><p><strong>funcargs</strong> (<code>bool</code>) – Show fixtures (“funcargs” for legacy purposes) per traceback entry.</p></li><li><p><strong>truncate_locals</strong> (<code>bool</code>) – With <code>showlocals==True</code>, make sure locals can be safely represented as strings.</p></li><li><p><strong>chain</strong> (<code>bool</code>) – If chained exceptions in Python 3 should be shown.</p></li></ul></li><li><p><em>Changed in version 3.9</em>: Added the <code>chain</code> parameter.</p></li></ul></li><li><p><strong>match</strong>(<code>regexp</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/_code/code.html#ExceptionInfo.match" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Check whether the regular expression <code>regexp</code> matches the string representation of the exception using <a href="https://docs.python.org/3/library/re.html#re.search" target="_blank" rel="noreferrer">re.search()</a>.</p></li><li><p>If it matches <code>True</code> is returned, otherwise an <code>AssertionError</code> is raised.</p></li></ul></li></ul></li></ul><h3 id="exitcode" tabindex="-1">ExitCode <a class="header-anchor" href="#exitcode" aria-label="Permalink to &quot;ExitCode&quot;">​</a></h3><ul><li><p>final class <strong>ExitCode</strong>(<code>value</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#ExitCode" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Encodes the valid exit codes by pytest.</p></li><li><p>Currently users and plugins may supply other exit codes as well.</p></li><li><p><em>New in version 5.0.</em></p></li><li><p><strong>OK</strong> = 0</p><ul><li>Tests passed.</li></ul></li><li><p><strong>TESTS_FAILED</strong> = 1</p><ul><li>Tests failed.</li></ul></li><li><p><strong>INTERRUPTED</strong> = 2</p><ul><li>pytest was interrupted.</li></ul></li><li><p><strong>INTERNAL_ERROR</strong> = 3</p><ul><li>An internal error got in the way.</li></ul></li><li><p><strong>USAGE_ERROR</strong> = 4</p><ul><li>pytest was misused.</li></ul></li><li><p><strong>NO_TESTS_COLLECTED</strong> = 5</p><ul><li>pytest couldn’t find tests.</li></ul></li></ul></li></ul><h3 id="fixturedef" tabindex="-1">FixtureDef <a class="header-anchor" href="#fixturedef" aria-label="Permalink to &quot;FixtureDef&quot;">​</a></h3><ul><li><p>final class <strong>FixtureDef</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/fixtures.html#FixtureDef" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>Generic[FixtureValue]</code></p></li><li><p>A container for a fixture definition.</p></li><li><p>Note: At this time, only explicitly documented fields and methods are considered public stable API.</p></li><li><p>property <strong>scope</strong>: <code>Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;]</code></p><ul><li>Scope string, one of “function”, “class”, “module”, “package”, “session”.</li></ul></li></ul></li></ul><h3 id="markdecorator" tabindex="-1">MarkDecorator <a class="header-anchor" href="#markdecorator" aria-label="Permalink to &quot;MarkDecorator&quot;">​</a></h3><ul><li><p>class <strong>MarkDecorator</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/mark/structures.html#MarkDecorator" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>A decorator for applying a mark on test functions and classes.</p></li><li><p><code>MarkDecorators</code> are created with <code>pytest.mark</code>:</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">mark1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pytest</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">NAME</span><span style="color:#A6ACCD;">              </span><span style="color:#676E95;font-style:italic;"># Simple MarkDecorator</span></span>
<span class="line"><span style="color:#A6ACCD;">mark2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pytest</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">NAME</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name1</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># Parametrized MarkDecorator</span></span></code></pre></div><ul><li>and can then be applied as decorators to test functions:</li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">mark2</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_function</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">pass</span></span></code></pre></div><ul><li><p>When a <code>MarkDecorator</code> is called, it does the following:</p><ol><li><p>If called with a single class as its only positional argument and no additional keyword arguments, it attaches the mark to the class so it gets applied automatically to all test cases found in that class.</p></li><li><p>If called with a single function as its only positional argument and no additional keyword arguments, it attaches the mark to the function, containing all the arguments already stored internally in the <code>MarkDecorator</code>.</p></li><li><p>When called in any other case, it returns a new <code>MarkDecorator</code> instance with the original <code>MarkDecorator’s</code> content updated with the arguments passed to this call.</p></li></ol></li><li><p>Note: The rules above prevent a <code>MarkDecorator</code> from storing only a single function or class reference as its positional argument with no additional keyword or positional arguments. You can work around this by using <code>with_args()</code>.</p></li><li><p>property <strong>name</strong>: <code>str</code></p><ul><li>Alias for <code>mark.name</code>.</li></ul></li><li><p>property <strong>args</strong>: <code>Tuple[Any, ...]</code></p><ul><li>Alias for <code>mark.args</code>.</li></ul></li><li><p>property <strong>kwargs</strong>: <code>Mapping[str, Any]</code></p><ul><li>Alias for <code>mark.kwargs</code>.</li></ul></li><li><p><strong>with_args</strong>(<code>*args, **kwargs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/mark/structures.html#MarkDecorator.with_args" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return a MarkDecorator with extra arguments added.</p></li><li><p>Unlike calling the MarkDecorator, <code>with_args()</code> can be used even if the sole argument is a <code>callable/class</code>.</p></li></ul></li></ul></li></ul><h3 id="markgenerator" tabindex="-1">MarkGenerator <a class="header-anchor" href="#markgenerator" aria-label="Permalink to &quot;MarkGenerator&quot;">​</a></h3><ul><li><p>final class <strong>MarkGenerator</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/mark/structures.html#MarkGenerator" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Factory for <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.MarkDecorator" target="_blank" rel="noreferrer">MarkDecorator</a> objects - exposed as a <code>pytest.mark</code> singleton instance.</p></li><li><p>Example:</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> pytest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slowtest</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_function</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;font-style:italic;">pass</span></span></code></pre></div><ul><li>applies a ‘slowtest’ <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Mark" target="_blank" rel="noreferrer">Mark</a> on <code>test_function</code>.</li></ul></li></ul><h3 id="mark" tabindex="-1">Mark <a class="header-anchor" href="#mark" aria-label="Permalink to &quot;Mark&quot;">​</a></h3><ul><li><p>final class <strong>Mark</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/mark/structures.html#Mark" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>A pytest mark.</p></li><li><p><strong>name</strong>: <code>str</code></p><ul><li>Name of the mark.</li></ul></li><li><p><strong>args</strong>: <code>Tuple[Any, ...]</code></p><ul><li>Positional arguments of the mark decorator.</li></ul></li><li><p><strong>kwargs</strong>: <code>Mapping[str, Any]</code></p><ul><li>Keyword arguments of the mark decorator.</li></ul></li><li><p><strong>combined_with</strong>(<code>other</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/mark/structures.html#Mark.combined_with" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Return a new Mark which is a combination of this Mark and another Mark.</p></li><li><p>Combines by appending args and merging kwargs.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><strong>other</strong> (<code>Mark</code>) – The mark to combine with.</li></ul></li><li><p><strong>Return type</strong>: <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Mark" target="_blank" rel="noreferrer">Mark</a></p></li></ul></li></ul></li></ul><h3 id="metafunc" tabindex="-1">Metafunc <a class="header-anchor" href="#metafunc" aria-label="Permalink to &quot;Metafunc&quot;">​</a></h3><ul><li><p>final class <strong>Metafunc</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Metafunc" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Objects passed to the pytest_generate_tests hook.</p></li><li><p>They help to inspect a test function and to generate tests according to test configuration or values specified in the class or module where a test function is defined.</p></li><li><p><strong>definition</strong></p><ul><li>Access to the underlying <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.python.FunctionDefinition" target="_blank" rel="noreferrer">_pytest.python.FunctionDefinition</a>.</li></ul></li><li><p><strong>config</strong></p><ul><li>Access to the <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">pytest.Config</a> object for the test session.</li></ul></li><li><p><strong>module</strong></p><ul><li>The module object where the test function is defined in.</li></ul></li><li><p><strong>function</strong></p><ul><li>Underlying Python test function.</li></ul></li><li><p><strong>fixturenames</strong></p><ul><li>Set of fixture names required by the test function.</li></ul></li><li><p><strong>cls</strong></p><ul><li>Class object where the test function is defined in or <code>None</code>.</li></ul></li><li><p><strong>parametrize</strong>(<code>argnames, argvalues, indirect=False, ids=None, scope=None, *, _param_mark=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/python.html#Metafunc.parametrize" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Add new invocations to the underlying test function using the list of argvalues for the given argnames. Parametrization is performed during the collection phase. If you need to setup expensive resources see about setting indirect to do it rather than at test setup time.</p></li><li><p>Can be called multiple times, in which case each call parametrizes all previous parametrizations, e.g.</p></li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">unparametrized:</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">t</span></span>
<span class="line"><span style="color:#FFCB6B;">parametrize</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">]:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t[x],</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t[y]</span></span>
<span class="line"><span style="color:#FFCB6B;">parametrize</span><span style="color:#A6ACCD;"> [1, </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">]:</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">t[x-1],</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t[x-2],</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t[y-1],</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">t[y-2]</span></span></code></pre></div><ul><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>argnames</strong> (<code>Union[str, Sequence[str]]</code>) – A comma-separated string denoting one or more argument names, or a list/tuple of argument strings.</p></li><li><p><strong>argvalues</strong> (<code>Iterable[Union[ParameterSet, Sequence[object], object]]</code>) – The list of argvalues determines how often a test is invoked with different argument values. If only one argname was specified argvalues is a list of values. If N argnames were specified, argvalues must be a list of N-tuples, where each tuple-element specifies a value for its respective argname.</p></li><li><p><strong>indirect</strong> (<code>Union[bool, Sequence[str]]</code>) – A list of arguments’ names (subset of argnames) or a boolean. If True the list contains all names from the argnames. Each argvalue corresponding to an argname in this list will be passed as request.param to its respective argname fixture function so that it can perform more expensive setups during the setup phase of a test rather than at collection time.</p></li><li><p><strong>ids</strong> (<code>Optional[Union[Iterable[Optional[object]], Callable[[Any], Optional[object]]]]</code>) – Sequence of (or generator for) ids for <code>argvalues</code>, or a callable to return part of the id for each argvalue. With sequences (and generators like <code>itertools.count()</code>) the returned ids should be of type <code>string</code>, <code>int</code>, <code>float</code>, <code>bool</code>, or <code>None</code>. They are mapped to the corresponding index in <code>argvalues</code>. <code>None</code> means to use the auto-generated id. If it is a callable it will be called for each entry in <code>argvalues</code>, and the return value is used as part of the auto-generated id for the whole set (where parts are joined with dashes (“-“)). This is useful to provide more specific ids for certain items, e.g. dates. Returning <code>None</code> will use an auto-generated id. If no ids are provided they will be generated automatically from the argvalues.</p></li><li><p><strong>scope</strong> (<code>Optional[Literal[&#39;session&#39;, &#39;package&#39;, &#39;module&#39;, &#39;class&#39;, &#39;function&#39;]]</code>) – If specified it denotes the scope of the parameters. The scope is used for grouping tests by parameter instances. It will also override any fixture-function defined scope, allowing to set a dynamic scope using test context or configuration.</p></li></ul></li></ul></li></ul></li></ul><h3 id="parser" tabindex="-1">Parser <a class="header-anchor" href="#parser" aria-label="Permalink to &quot;Parser&quot;">​</a></h3><ul><li><p>final class <strong>Parser</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#Parser" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Parser for command line arguments and ini-file values.</p></li><li><p><strong>Variables</strong>:</p><ul><li><strong>extra_info</strong> – Dict of generic param -&gt; value to display in case there’s an error processing the command line arguments.</li></ul></li><li><p><strong>getgroup</strong>(<code>name, description=&#39;&#39;, after=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#Parser.getgroup" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Get (or create) a named option Group.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>name</strong> (<code>str</code>) – Name of the option group.</p></li><li><p><strong>description</strong> (<code>str</code>) – Long description for –help output.</p></li><li><p><strong>after</strong> (<code>Optional[str]</code>) – Name of another group, used for ordering –help output.</p></li></ul></li><li><p><strong>Returns</strong>: The option group.</p></li><li><p><strong>Return type</strong>: <code>OptionGroup</code></p></li><li><p>The returned group object has an <code>addoption</code> method with the same signature as <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Parser.addoption" target="_blank" rel="noreferrer">parser.addoption</a> but will be shown in the respective group in the output of <code>pytest --help</code>.</p></li></ul></li><li><p><strong>addoption</strong>(<code>*opts, **attrs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#Parser.addoption" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Register a command line option.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>opts</strong> (<code>str</code>) – Option names, can be short or long options.</p></li><li><p><strong>attrs</strong> (<code>Any</code>) – Same attributes as the argparse library’s <code>add_argument()</code> function accepts.</p></li></ul></li><li><p>After command line parsing, options are available on the pytest config object via <code>config.option.NAME</code> where <code>NAME</code> is usually set by passing a <code>dest</code> attribute, for example <code>addoption(&quot;--long&quot;, dest=&quot;NAME&quot;, ...)</code>.</p></li></ul></li><li><p><strong>parse_known_args</strong>(<code>args, namespace=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#Parser.parse_known_args" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Parse the known arguments at this point.</p></li><li><p><strong>Returns</strong>: An argparse namespace object.</p></li><li><p><strong>Return type</strong>: <code>Namespace</code></p></li></ul></li><li><p><strong>parse_known_and_unknown_args</strong>(<code>args, namespace=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#Parser.parse_known_and_unknown_args" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Parse the known arguments at this point, and also return the remaining unknown arguments.</p></li><li><p><strong>Returns</strong>: A tuple containing an argparse namespace object for the known arguments, and a list of the unknown arguments.</p></li><li><p><strong>Return type</strong>: <code>Tuple[Namespace, List[str]]</code></p></li></ul></li><li><p><strong>addini</strong>(<code>name, help, type=None, default=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#Parser.addini" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Register an ini-file option.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>name</strong> (<code>str</code>) – Name of the ini-variable.</p></li><li><p><strong>type</strong> (<code>Optional[Literal[&#39;string&#39;, &#39;paths&#39;, &#39;pathlist&#39;, &#39;args&#39;, &#39;linelist&#39;, &#39;bool&#39;]]</code>) – Type of the variable. Can be:</p><ul><li><p><strong>string</strong>: a string</p></li><li><p><strong>bool</strong>: a boolean</p></li><li><p><strong>args</strong>: a list of strings, separated as in a shell</p></li><li><p><strong>linelist</strong>: a list of strings, separated by line breaks</p></li><li><p><strong>paths</strong>: a list of <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a>, separated as in a shell</p></li><li><p><strong>pathlist</strong>: a list of <code>py.path</code>, separated as in a shell</p></li><li><p><em>New in version 7.0</em>: The <code>paths</code> variable type.</p></li><li><p>Defaults to <code>string</code> if <code>None</code> or not passed.</p></li></ul></li><li><p><strong>default</strong> (<code>Optional[Any]</code>) – Default value if no ini-file option exists but is queried.</p></li></ul></li><li><p>The value of ini-variables can be retrieved via a call to <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config.getini" target="_blank" rel="noreferrer">config.getini(name)</a>.</p></li></ul></li></ul></li></ul><h3 id="optiongroup" tabindex="-1">OptionGroup <a class="header-anchor" href="#optiongroup" aria-label="Permalink to &quot;OptionGroup&quot;">​</a></h3><ul><li><p>class <strong>OptionGroup</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#OptionGroup" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>A group of options shown in its own section.</p></li><li><p><strong>addoption</strong>(<code>*opts, **attrs</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/argparsing.html#OptionGroup.addoption" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Add an option to this group.</p></li><li><p>If a shortened version of a long option is specified, it will be suppressed in the help. <code>addoption(&#39;--twowords&#39;, &#39;--two-words&#39;)</code> results in help showing <code>--two-words</code> only, but <code>--twowords</code> gets accepted and the automatic destination is in <code>args.twowords</code>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>opts</strong> (<code>str</code>) – Option names, can be short or long options.</p></li><li><p><strong>attrs</strong> (<code>Any</code>) – Same attributes as the argparse library’s <code>add_argument()</code> function accepts.</p></li></ul></li></ul></li></ul></li></ul><h3 id="pytestpluginmanager" tabindex="-1">PytestPluginManager <a class="header-anchor" href="#pytestpluginmanager" aria-label="Permalink to &quot;PytestPluginManager&quot;">​</a></h3><ul><li><p>final class <strong>PytestPluginManager</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>PluginManager</code></p></li><li><p>A <a href="https://pluggy.readthedocs.io/en/stable/api_reference.html#pluggy.PluginManager" target="_blank" rel="noreferrer">pluggy.PluginManager</a> with additional pytest-specific functionality:</p><ul><li><p>Loading plugins from the command line, <code>PYTEST_PLUGINS</code> env variable and <code>pytest_plugins</code> global variables found in plugins being loaded.</p></li><li><p><code>conftest.py</code> loading during start-up.</p></li></ul></li><li><p><strong>parse_hookimpl_opts</strong>(<code>plugin, name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager.parse_hookimpl_opts" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>parse_hookspec_opts</strong>(<code>module_or_class, name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager.parse_hookspec_opts" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>register</strong>(<code>plugin, name=None</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager.register" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Register a plugin and return its name.</p></li><li><p>If a name is not specified, a name is generated using get_canonical_name().</p></li><li><p>If the name is blocked from registering, returns None.</p></li><li><p>If the plugin is already registered, raises a ValueError.</p></li></ul></li><li><p><strong>getplugin</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager.getplugin" target="_blank" rel="noreferrer">[source]</a></p></li><li><p><strong>hasplugin</strong>(<code>name</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager.hasplugin" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return whether a plugin with the given name is registered.</li></ul></li><li><p><strong>import_plugin</strong>(<code>modname, consider_entry_points=False</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config.html#PytestPluginManager.import_plugin" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Import a plugin with <code>modname</code>.</p></li><li><p>If <code>consider_entry_points</code> is True, entry point names are also considered to find a plugin.</p></li></ul></li><li><p><strong>add_hookcall_monitoring</strong>(<code>before, after</code>)</p><ul><li><p>Add before/after tracing functions for all hooks.</p></li><li><p>Returns an undo function which, when called, removes the added tracers.</p></li><li><p><code>before(hook_name, hook_impls, kwargs)</code> will be called ahead of all hook calls and receive a - hookcaller instance, a list of HookImpl instances and the keyword arguments for the hook call.</p></li><li><p><code>after(outcome, hook_name, hook_impls, kwargs)</code> receives the same arguments as <code>before</code> but also a - <code>_Result</code> object which represents the result of the overall hook call.</p></li></ul></li><li><p><strong>add_hookspecs</strong>(<code>module_or_class</code>)</p><ul><li><p>Add new hook specifications defined in the given <code>module_or_class</code>.</p></li><li><p>Functions are recognized as hook specifications if they have been decorated with a matching <code>HookspecMarker</code>.</p></li></ul></li><li><p><strong>check_pending</strong>()</p><ul><li>Verify that all hooks which have not been verified against a hook specification are optional, otherwise raise <code>PluginValidationError</code>.</li></ul></li><li><p><strong>enable_tracing</strong>()</p><ul><li><p>Enable tracing of hook calls.</p></li><li><p>Returns an undo function which, when called, removes the added tracing.</p></li></ul></li><li><p><strong>get_canonical_name</strong>(<code>plugin</code>)</p><ul><li><p>Return a canonical name for a plugin object.</p></li><li><p>Note that a plugin may be registered under a different name specified by the caller of <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.PytestPluginManager.register" target="_blank" rel="noreferrer">register(plugin, name)</a>. To obtain the name of n registered plugin use <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.PytestPluginManager.get_name" target="_blank" rel="noreferrer">get_name(plugin)</a> instead.</p></li></ul></li><li><p><strong>get_hookcallers</strong>(<code>plugin</code>)</p><ul><li>Get all hook callers for the specified plugin.</li></ul></li><li><p><strong>get_name</strong>(<code>plugin</code>)</p><ul><li>Return the name the plugin is registered under, or <code>None</code> if is isn’t.</li></ul></li><li><p><strong>get_plugin</strong>(<code>name</code>)</p><ul><li>Return the plugin registered under the given name, if any.</li></ul></li><li><p><strong>get_plugins</strong>()</p><ul><li>Return a set of all registered plugin objects.</li></ul></li><li><p><strong>has_plugin</strong>(<code>name</code>)</p><ul><li>Return whether a plugin with the given name is registered.</li></ul></li><li><p><strong>is_blocked</strong>(<code>name</code>)</p><ul><li>Return whether the given plugin name is blocked.</li></ul></li><li><p><strong>is_registered</strong>(<code>plugin</code>)</p><ul><li>Return whether the plugin is already registered.</li></ul></li><li><p><strong>list_name_plugin</strong>()</p><ul><li>Return a list of (name, plugin) pairs for all registered plugins.</li></ul></li><li><p><strong>list_plugin_distinfo</strong>()</p><ul><li>Return a list of (plugin, distinfo) pairs for all setuptools-registered plugins.</li></ul></li><li><p><strong>load_setuptools_entrypoints</strong>(group, name=None)</p><ul><li><p>Load modules from querying the specified setuptools <code>group</code>.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>group</strong> (<code>str</code>) – Entry point group to load plugins.</p></li><li><p><strong>name</strong> (<code>str</code>) – If given, loads only plugins with the given <code>name</code>.</p></li></ul></li><li><p><strong>Return type</strong>: <code>int</code></p></li><li><p><strong>Returns</strong>: The number of plugins loaded by this call.</p></li></ul></li><li><p><strong>set_blocked</strong>(<code>name</code>)</p><ul><li>Block registrations of the given name, unregister if already registered.</li></ul></li><li><p><strong>subset_hook_caller</strong>(<code>name, remove_plugins</code>)</p><ul><li>Return a proxy <code>_hooks._HookCaller</code> instance for the named method which manages calls to all registered plugins except the ones from <code>remove_plugins</code>.</li></ul></li><li><p><strong>unregister</strong>(<code>plugin=None, name=None</code>)</p><ul><li><p>Unregister a plugin and all of its hook implementations.</p></li><li><p>The plugin can be specified either by the plugin object or the plugin name. If both are specified, they must agree.</p></li></ul></li></ul></li></ul><h3 id="testreport" tabindex="-1">TestReport <a class="header-anchor" href="#testreport" aria-label="Permalink to &quot;TestReport&quot;">​</a></h3><ul><li><p>final class <strong>TestReport</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/reports.html#TestReport" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>BaseReport</code></p></li><li><p>Basic test report object (also used for setup and teardown calls if they fail).</p></li><li><p>Reports can contain arbitrary extra attributes.</p></li><li><p><strong>nodeid</strong>: <code>str</code></p><ul><li>Normalized collection nodeid.</li></ul></li><li><p><strong>location</strong>: <code>Tuple[str, Optional[int], str]</code></p><ul><li>A (filesystempath, lineno, domaininfo) tuple indicating the actual location of a test item - it might be different from the collected one e.g. if a method is inherited from a different module. The filesystempath may be relative to <code>config.rootdir</code>. The line number is 0-based.</li></ul></li><li><p><strong>keywords</strong>: <code>Mapping[str, Any]</code></p><ul><li>A name -&gt; value dictionary containing all keywords and markers associated with a test invocation.</li></ul></li><li><p><strong>outcome</strong>: <code>Literal[&#39;passed&#39;, &#39;failed&#39;, &#39;skipped&#39;]</code></p><ul><li>Test outcome, always one of “passed”, “failed”, “skipped”.</li></ul></li><li><p><strong>longrepr</strong>: <code>Union[None, ExceptionInfo[BaseException], Tuple[str, int, str], str, TerminalRepr]</code></p><ul><li>None or a failure representation.</li></ul></li><li><p><strong>when</strong>: <code>Optional[str]</code></p><ul><li>One of ‘setup’, ‘call’, ‘teardown’ to indicate runtest phase.</li></ul></li><li><p><strong>user_properties</strong></p><ul><li>User properties is a list of tuples (name, value) that holds user defined properties of the test.</li></ul></li><li><p><strong>sections</strong>: <code>List[Tuple[str, str]]</code></p><ul><li>Tuples of str <code>(heading, content)</code> with extra information for the test report. Used by pytest to add text captured from <code>stdout</code>, <code>stderr</code>, and intercepted logging events. May be used by other plugins to add arbitrary information to reports.</li></ul></li><li><p><strong>duration</strong>: <code>float</code></p><ul><li>Time it took to run just the test.</li></ul></li><li><p><strong>start</strong>: <code>float</code></p><ul><li>The system time when the call started, in seconds since the epoch.</li></ul></li><li><p><strong>stop</strong>: <code>float</code></p><ul><li>The system time when the call ended, in seconds since the epoch.</li></ul></li><li><p>classmethod <strong>from_item_and_call</strong>(<code>item, call</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/reports.html#TestReport.from_item_and_call" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Create and fill a TestReport with standard item and call info.</p></li><li><p><strong>Parameters</strong>:</p><ul><li><p><strong>item</strong> (<code>Item</code>) – The item.</p></li><li><p><strong>call</strong> (<code>CallInfo[None]</code>) – The call info.</p></li></ul></li></ul></li><li><p>property <strong>caplog</strong>: <code>str</code></p><ul><li><p>Return captured log lines, if log capturing is enabled.</p></li><li><p><em>New in version 3.5.</em></p></li></ul></li><li><p>property <strong>capstderr</strong>: <code>str</code></p><ul><li><p>Return captured text from stderr, if capturing is enabled.</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>property <strong>capstdout</strong>: <code>str</code></p><ul><li><p>Return captured text from stdout, if capturing is enabled.</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>property <strong>count_towards_summary</strong>: <code>bool</code></p><ul><li>Experimental Whether this report should be counted towards the totals shown at the end of the test session: “1 passed, 1 failure, etc”.</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This function is considered experimental, so beware that it is subject to changes even in patch releases.</p></div></li><li><p>property <strong>failed</strong>: <code>bool</code></p><ul><li>Whether the outcome is failed.</li></ul></li><li><p>property <strong>fspath</strong>: <code>str</code></p><ul><li>The path portion of the reported node, as a string.</li></ul></li><li><p>property <strong>head_line</strong>: <code>Optional[str]</code></p><ul><li>Experimental The head line shown with longrepr output for this report, more commonly during traceback representation during failures:</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">________</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Test.foo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">________</span></span></code></pre></div><ul><li>In the example above, the head_line is “Test.foo”.</li></ul><div class="tip custom-block"><p class="custom-block-title">Note</p><p>This function is considered experimental, so beware that it is subject to changes even in patch releases.</p></div></li><li><p>property <strong>longreprtext</strong>: <code>str</code></p><ul><li><p>Read-only property that returns the full string representation of <code>longrepr</code>.</p></li><li><p><em>New in version 3.0.</em></p></li></ul></li><li><p>property <strong>passed</strong>: <code>bool</code></p><ul><li>Whether the outcome is passed.</li></ul></li><li><p>property <strong>skipped</strong>: <code>bool</code></p><ul><li>Whether the outcome is skipped.</li></ul></li></ul></li></ul><h3 id="testshortlogreport" tabindex="-1">TestShortLogReport <a class="header-anchor" href="#testshortlogreport" aria-label="Permalink to &quot;TestShortLogReport&quot;">​</a></h3><ul><li><p>class <strong>TestShortLogReport</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/terminal.html#TestShortLogReport" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Used to store the test status result category, shortletter and verbose word. For example <code>&quot;rerun&quot;, &quot;R&quot;, (&quot;RERUN&quot;, {&quot;yellow&quot;: True})</code>.</p></li><li><p><strong>Variables</strong>:</p><ul><li><p><strong>category</strong> – The class of result, for example <code>“passed”</code>, <code>“skipped”</code>, <code>“error”</code>, or the empty string.</p></li><li><p><strong>letter</strong> – The short letter shown as testing progresses, for example <code>&quot;.&quot;</code>, <code>&quot;s&quot;</code>, <code>&quot;E&quot;</code>, or the empty string.</p></li><li><p><strong>word</strong> – Verbose word is shown as testing progresses in verbose mode, for example <code>&quot;PASSED&quot;</code>, <code>&quot;SKIPPED&quot;</code>, <code>&quot;ERROR&quot;</code>, or the empty string.</p></li></ul></li><li><p><strong>category</strong>: <code>str</code></p><ul><li>Alias for field number 0</li></ul></li><li><p><strong>letter</strong>: <code>str</code></p><ul><li>Alias for field number 1</li></ul></li><li><p><strong>word</strong>: <code>Union[str, Tuple[str, Mapping[str, bool]]]</code></p><ul><li>Alias for field number 2</li></ul></li></ul></li></ul><h3 id="result" tabindex="-1">_Result <a class="header-anchor" href="#result" aria-label="Permalink to &quot;_Result&quot;">​</a></h3><p>Result object used within <a href="https://docs.pytest.org/en/latest/how-to/writing_hook_functions.html#hookwrapper" target="_blank" rel="noreferrer">hook wrappers</a>, see <a href="https://pluggy.readthedocs.io/en/stable/api_reference.html#pluggy._callers._Result" target="_blank" rel="noreferrer">_Result in the pluggy documentation</a> for more information.</p><h3 id="stash" tabindex="-1">Stash <a class="header-anchor" href="#stash" aria-label="Permalink to &quot;Stash&quot;">​</a></h3><ul><li><p>class <strong>Stash</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p><code>Stash</code> is a type-safe heterogeneous mutable mapping that allows keys and value types to be defined separately from where it (the <code>Stash</code>) is created.</p></li><li><p>Usually you will be given an object which has a <code>Stash</code>, for example <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Config" target="_blank" rel="noreferrer">Config</a> or a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.nodes.Node" target="_blank" rel="noreferrer">Node</a>:</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">stash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Stash </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> some_object</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stash</span></span></code></pre></div><ul><li>If a module or plugin wants to store data in this <code>Stash</code>, it creates <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.StashKey" target="_blank" rel="noreferrer">StashKeys</a> for its keys (at the module level):</li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># At the top-level of the module</span></span>
<span class="line"><span style="color:#A6ACCD;">some_str_key </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> StashKey</span><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">]()</span></span>
<span class="line"><span style="color:#A6ACCD;">some_bool_key </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> StashKey</span><span style="color:#89DDFF;">[</span><span style="color:#FFCB6B;">bool</span><span style="color:#89DDFF;">]()</span></span></code></pre></div><ul><li>To store information:</li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Value type must match the key.</span></span>
<span class="line"><span style="color:#A6ACCD;">stash</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">some_str_key</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">value</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">stash</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">some_bool_key</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span></span></code></pre></div><ul><li>To retrieve the information:</li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># The static type of some_str is str.</span></span>
<span class="line"><span style="color:#A6ACCD;">some_str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> stash</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">some_str_key</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># The static type of some_bool is bool.</span></span>
<span class="line"><span style="color:#A6ACCD;">some_bool </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> stash</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">some_bool_key</span><span style="color:#89DDFF;">]</span></span></code></pre></div><ul><li><p><strong><strong>setitem</strong></strong>(<code>key, value</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.__setitem__" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Set a value for key.</li></ul></li><li><p><strong><strong>getitem</strong></strong>(<code>key</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.__getitem__" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Get the value for key.</p></li><li><p>Raises <code>KeyError</code> if the key wasn’t set before.</p></li></ul></li><li><p><strong>get</strong>(<code>key, default</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.get" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Get the value for key, or return default if the key wasn’t set before.</li></ul></li><li><p><strong>setdefault</strong>(<code>key, default</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.setdefault" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return the value of key if already set, otherwise set the value of key to default and return - default.</li></ul></li><li><p><strong><strong>delitem</strong></strong>(<code>key</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.__delitem__" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Delete the value for key.</p></li><li><p>Raises <code>KeyError</code> if the key wasn’t set before.</p></li></ul></li><li><p><strong><strong>contains</strong></strong>(<code>key</code>) <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.__contains__" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return whether key was set.</li></ul></li><li><p><strong><strong>len</strong></strong>() <a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.html#Stash.__len__" target="_blank" rel="noreferrer">[source]</a></p><ul><li>Return how many items exist in the stash.</li></ul></li></ul></li><li><p>class <strong>StashKey</strong> [[source]](<a href="https://docs.pytest.org/en/latest/_modules/_pytest/stash.-" target="_blank" rel="noreferrer">https://docs.pytest.org/en/latest/_modules/_pytest/stash.-</a> html#StashKey)</p><ul><li><p>Bases: <code>Generic[T]</code></p></li><li><p><code>StashKey</code> is an object used as a key to a <a href="https://docs.pytest.org/en/latest/reference/reference.html#pytest.Stash" target="_blank" rel="noreferrer">Stash</a>.</p></li><li><p>A <code>StashKey</code> is associated with the type T of the value of the key.</p></li><li><p>A <code>StashKey</code> is unique and cannot conflict with another key.</p></li></ul></li></ul><h2 id="global-variables" tabindex="-1">Global Variables <a class="header-anchor" href="#global-variables" aria-label="Permalink to &quot;Global Variables&quot;">​</a></h2><p>pytest treats some global variables in a special manner when defined in a test module or <code>conftest.py</code> files.</p><ul><li><p><strong>collect_ignore</strong></p><ul><li><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/example/pythoncollection.html#customizing-test-collection" target="_blank" rel="noreferrer">Customizing test collection</a></p></li><li><p>Can be declared in <code>conftest.py</code> files to exclude test directories or modules. Needs to be a list of paths (<code>str</code>, <a href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" target="_blank" rel="noreferrer">pathlib.Path</a> or any <a href="https://docs.python.org/3/library/os.html#os.PathLike" target="_blank" rel="noreferrer">os.PathLike</a>).</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">collect_ignore </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">setup.py</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span></code></pre></div></li><li><p><strong>collect_ignore_glob</strong></p><ul><li><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/example/pythoncollection.html#customizing-test-collection" target="_blank" rel="noreferrer">Customizing test collection</a></p></li><li><p>Can be declared in conftest.py files to exclude test directories or modules with Unix shell-style wildcards. Needs to be <code>list[str]</code> where <code>str</code> can contain glob patterns.</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">collect_ignore_glob </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">*_ignore.py</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span></code></pre></div></li><li><p><strong>pytest_plugins</strong></p><ul><li><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/how-to/plugins.html#available-installable-plugins" target="_blank" rel="noreferrer">Requiring/Loading plugins in a test module or conftest file</a></p></li><li><p>Can be declared at the global level in test modules and <code>conftest.py</code> files to register additional - plugins. Can be either a <code>str</code> or <code>Sequence[str]</code>.</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pytest_plugins </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myapp.testsupport.myplugin</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pytest_plugins </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myapp.testsupport.tools</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">myapp.testsupport.regression</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div></li><li><p><strong>pytestmark</strong></p><ul><li><p><strong>Tutorial</strong>: <a href="https://docs.pytest.org/en/latest/example/markers.html#scoped-marking" target="_blank" rel="noreferrer">Marking whole classes or modules</a></p></li><li><p>Can be declared at the global level in test modules to apply one or more <a href="https://docs.pytest.org/en/latest/reference/reference.html#marks-ref" target="_blank" rel="noreferrer">marks</a> to all test - functions and methods. Can be either a single mark or a list of marks (applied in left-to-right - order).</p></li></ul><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> pytest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pytestmark </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pytest</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">webtest</span></span></code></pre></div><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> pytest</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pytestmark </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">pytest</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">integration</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> pytest</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mark</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">slow</span><span style="color:#89DDFF;">]</span></span></code></pre></div></li></ul><h2 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment Variables&quot;">​</a></h2><p>Environment variables that can be used to change pytest’s behavior.</p><ul><li><p><strong>CI</strong></p><ul><li>When set (regardless of value), pytest acknowledges that is running in a CI process. Alternative to <code>BUILD_NUMBER</code> variable.</li></ul></li><li><p><strong>BUILD_NUMBER</strong></p><ul><li>When set (regardless of value), pytest acknowledges that is running in a CI process. Alternative to CI variable.</li></ul></li><li><p><strong>PYTEST_ADDOPTS</strong></p><ul><li>This contains a command-line (parsed by the py:mod:<code>shlex</code> module) that will be prepended to the command line given by the user, see <a href="https://docs.pytest.org/en/latest/reference/customize.html#adding-default-options" target="_blank" rel="noreferrer">Builtin configuration file options</a> for more information.</li></ul></li><li><p><strong>PYTEST_CURRENT_TEST</strong></p><ul><li>This is not meant to be set by users, but is set by pytest internally with the name of the current test so other processes can inspect it, see <a href="https://docs.pytest.org/en/latest/example/simple.html#pytest-current-test-env" target="_blank" rel="noreferrer">PYTEST_CURRENT_TEST environment variable</a> for more information.</li></ul></li><li><p><strong>PYTEST_DEBUG</strong></p><ul><li>When set, pytest will print tracing and debug information.</li></ul></li><li><p><strong>PYTEST_DISABLE_PLUGIN_AUTOLOAD</strong></p><ul><li>When set, disables plugin auto-loading through setuptools entrypoints. Only explicitly specified plugins will be loaded.</li></ul></li><li><p><strong>PYTEST_PLUGINS</strong></p><ul><li>Contains comma-separated list of modules that should be loaded as plugins:</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> PYTEST_PLUGINS</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">mymodule.plugin,xdist</span></span></code></pre></div></li><li><p><strong>PYTEST_THEME</strong></p><ul><li>Sets a <a href="https://pygments.org/docs/styles/" target="_blank" rel="noreferrer">pygment style</a> to use for the code output.</li></ul></li><li><p><strong>PYTEST_THEME_MODE</strong></p><ul><li>Sets the <a href="https://docs.pytest.org/en/latest/reference/reference.html#envvar-PYTEST_THEME" target="_blank" rel="noreferrer">PYTEST_THEME</a> to be either dark or light.</li></ul></li><li><p><strong>PY_COLORS</strong></p><ul><li>When set to <code>1</code>, pytest will use color in terminal output. When set to 0, pytest will not use color. <code>PY_COLORS</code> takes precedence over <code>NO_COLOR</code> and <code>FORCE_COLOR</code>.</li></ul></li><li><p><strong>NO_COLOR</strong></p><ul><li>When set (regardless of value), pytest will not use color in terminal output. <code>PY_COLORS</code> takes precedence over <code>NO_COLOR</code>, which takes precedence over <code>FORCE_COLOR</code>. See no-color.org for other libraries supporting this community standard.</li></ul></li><li><p><strong>FORCE_COLOR</strong></p><ul><li>When set (regardless of value), pytest will use color in terminal output. <code>PY_COLORS</code> and <code>NO_COLOR</code> take precedence over <code>FORCE_COLOR</code>.</li></ul></li></ul><h2 id="exceptions" tabindex="-1">Exceptions <a class="header-anchor" href="#exceptions" aria-label="Permalink to &quot;Exceptions&quot;">​</a></h2><ul><li><p>final class <strong>UsageError</strong> <a href="https://docs.pytest.org/en/latest/_modules/_pytest/config/exceptions.html#UsageError" target="_blank" rel="noreferrer">[source]</a></p><ul><li><p>Bases: <code>Exception</code></p></li><li><p>Error in pytest usage or invocation.</p></li></ul></li></ul><h2 id="warnings" tabindex="-1">Warnings <a class="header-anchor" href="#warnings" aria-label="Permalink to &quot;Warnings&quot;">​</a></h2><p>Custom warnings generated in some situations such as improper usage or deprecated features.</p><ul><li><p>class <strong>PytestWarning</strong></p><ul><li><p>Bases: <code>UserWarning</code></p></li><li><p>Base class for all warnings emitted by pytest.</p></li></ul></li><li><p>class <strong>PytestAssertRewriteWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>Warning emitted by the pytest assert rewrite module.</p></li></ul></li><li><p>class <strong>PytestCacheWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>Warning emitted by the cache plugin in various situations.</p></li></ul></li><li><p>class <strong>PytestCollectionWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>Warning emitted when pytest is not able to collect a file or symbol in a module.</p></li></ul></li><li><p>class <strong>PytestConfigWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>Warning emitted for configuration issues.</p></li></ul></li><li><p>class <strong>PytestDeprecationWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code>, <code>DeprecationWarning</code></p></li><li><p>Warning class for features that will be removed in a future version.</p></li></ul></li><li><p>class <strong>PytestExperimentalApiWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code>, <code>FutureWarning</code></p></li><li><p>Warning category used to denote experiments in pytest.</p></li><li><p>Use sparingly as the API might change or even be removed completely in a future version.</p></li></ul></li><li><p>class <strong>PytestReturnNotNoneWarning</strong></p><ul><li><p>Bases: <code>PytestRemovedIn8Warning</code></p></li><li><p>Warning emitted when a test function is returning value other than None.</p></li></ul></li><li><p>class <strong>PytestRemovedIn8Warning</strong></p><ul><li><p>Bases: <code>PytestDeprecationWarning</code></p></li><li><p>Warning class for features that will be removed in pytest 8.</p></li></ul></li><li><p>class <strong>PytestRemovedIn9Warning</strong></p><ul><li><p>Bases: <code>PytestDeprecationWarning</code></p></li><li><p>Warning class for features that will be removed in pytest 9.</p></li></ul></li><li><p>class <strong>PytestUnhandledCoroutineWarning</strong></p><ul><li><p>Bases: <code>PytestReturnNotNoneWarning</code></p></li><li><p>Warning emitted for an unhandled coroutine.</p></li><li><p>A coroutine was encountered when collecting test functions, but was not handled by any async-aware - plugin. Coroutine test functions are not natively supported.</p></li></ul></li><li><p>class <strong>PytestUnknownMarkWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>Warning emitted on use of unknown markers.</p></li><li><p>See How to mark test functions with attributes for details.</p></li></ul></li><li><p>class <strong>PytestUnraisableExceptionWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>An unraisable exception was reported.</p></li><li><p>Unraisable exceptions are exceptions raised in <code>__del__</code> implementations and similar situations when the exception cannot be raised as normal.</p></li></ul></li><li><p>class <strong>PytestUnhandledThreadExceptionWarning</strong></p><ul><li><p>Bases: <code>PytestWarning</code></p></li><li><p>An unhandled exception occurred in a Thread.</p></li><li><p>Such exceptions don’t propagate normally.</p></li></ul></li></ul><p>Consult the <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html#internal-warnings" target="_blank" rel="noreferrer">Internal pytest warnings</a> section in the documentation for more information.</p><h2 id="configuration-options" tabindex="-1">Configuration Options <a class="header-anchor" href="#configuration-options" aria-label="Permalink to &quot;Configuration Options&quot;">​</a></h2><p>Here is a list of builtin configuration options that may be written in a <code>pytest.ini</code> (or <code>.pytest.ini</code>), <code>pyproject.toml</code>, <code>tox.ini</code>, or <code>setup.cfg</code> file, usually located at the root of your repository.</p><p>To see each file format in details, see <a href="https://docs.pytest.org/en/latest/reference/customize.html#config-file-formats" target="_blank" rel="noreferrer">Configuration file formats</a>.</p><div class="tip custom-block"><p class="custom-block-title">Warning</p><p>Usage of <code>setup.cfg</code> is not recommended except for very simple use cases. <code>.cfg</code> files use a different parser than <code>pytest.ini</code> and <code>tox.ini</code> which might cause hard to track down problems. When possible, it is recommended to use the latter files, or <code>pyproject.toml</code>, to hold your pytest configuration.</p></div><p>Configuration options may be overwritten in the command-line by using <code>-o/--override-ini</code>, which can also be passed multiple times. The expected format is <code>name=value</code>. For example:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pytest </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">o console_output_style</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">classic </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">o cache_dir</span><span style="color:#89DDFF;">=/</span><span style="color:#A6ACCD;">tmp</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">mycache</span></span></code></pre></div><ul><li><p><strong>addopts</strong></p><ul><li>Add the specified <code>OPTS</code> to the set of command line arguments as if they had been specified by the user. Example: if you have this ini file content:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># content of pytest.ini</span></span>
<span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">addopts</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> --</span><span style="color:#F07178;">maxfail</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">2 -rf  </span><span style="color:#676E95;font-style:italic;"># exit after 2 failures, report fail info</span></span></code></pre></div><ul><li>issuing <code>pytest test_hello.py</code> actually means:</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--maxfail=2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_hello.py</span></span></code></pre></div><ul><li>Default is to add no options.</li></ul></li><li><p><strong>cache_dir</strong></p><ul><li>Sets a directory where stores content of cache plugin. Default directory is <code>.pytest_cache</code> which is created in <a href="https://docs.pytest.org/en/latest/reference/customize.html#rootdir" target="_blank" rel="noreferrer">rootdir</a>. Directory may be relative or absolute path. If setting relative path, then directory is created relative to rootdir. Additionally path may contain environment variables, that will be expanded. For more information about cache plugin please refer to How to <a href="https://docs.pytest.org/en/latest/how-to/cache.html#cache-provider" target="_blank" rel="noreferrer">re-run failed tests and maintain state between test runs</a>.</li></ul></li><li><p><strong>console_output_style</strong></p><ul><li><p>Sets the console output style while running tests:</p><ul><li><p><code>classic</code>: classic pytest output.</p></li><li><p><code>progress</code>: like classic pytest output, but with a progress indicator.</p></li><li><p><code>progress-even-when-capture-no</code>: allows the use of the progress indicator even when <code>capture=no</code>.</p></li><li><p><code>count</code>: like progress, but shows progress as the number of tests completed instead of a percent.</p></li></ul></li><li><p>The default is <code>progress</code>, but you can fallback to <code>classic</code> if you prefer or the new mode is causing unexpected problems:</p></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># content of pytest.ini</span></span>
<span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">console_output_style</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> classic</span></span></code></pre></div></li><li><p><strong>doctest_encoding</strong></p><ul><li>Default encoding to use to decode text files with docstrings. <a href="https://docs.pytest.org/en/latest/how-to/doctest.html#doctest" target="_blank" rel="noreferrer">See how pytest handles doctests</a>.</li></ul></li><li><p><strong>doctest_optionflags</strong></p><ul><li>One or more doctest flag names from the standard <code>doctest</code> module. <a href="https://docs.pytest.org/en/latest/how-to/doctest.html#doctest" target="_blank" rel="noreferrer">See how pytest handles doctests</a>.</li></ul></li><li><p><strong>empty_parameter_set_mark</strong></p><ul><li><p>Allows to pick the action for empty parametersets in parameterization</p><ul><li><p><code>skip</code> skips tests with an empty parameterset (default)</p></li><li><p><code>xfail</code> marks tests with an empty parameterset as xfail(run=False)</p></li><li><p><code>fail_at_collect</code> raises an exception if parametrize collects an empty parameter set</p></li></ul></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># content of pytest.ini</span></span>
<span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">empty_parameter_set_mark</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> xfail</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The default value of this option is planned to change to <code>xfail</code> in future releases as this is considered less error prone, see <a href="https://github.com/pytest-dev/pytest/issues/3155" target="_blank" rel="noreferrer">issue #3155</a> for more details.</p></div></li><li><p><strong>faulthandler_timeout</strong></p><ul><li>Dumps the tracebacks of all threads if a test takes longer than X seconds to run (including fixture setup and teardown). Implemented using the <a href="https://docs.python.org/3/library/faulthandler.html#faulthandler.dump_traceback_later" target="_blank" rel="noreferrer">faulthandler.dump_traceback_later() </a>function, so all caveats there apply.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># content of pytest.ini</span></span>
<span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">faulthandler_timeout</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">5</span></span></code></pre></div><ul><li>For more information please refer to <a href="https://docs.pytest.org/en/latest/how-to/failures.html#faulthandler" target="_blank" rel="noreferrer">Fault Handler</a>.</li></ul></li><li><p><strong>filterwarnings</strong></p><ul><li>Sets a list of filters and actions that should be taken for matched warnings. By default all warnings emitted during the test session will be displayed in a summary at the end of the test session.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># content of pytest.ini</span></span>
<span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">filterwarnings</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    error</span></span>
<span class="line"><span style="color:#A6ACCD;">    ignore::DeprecationWarning</span></span></code></pre></div><ul><li>This tells pytest to ignore deprecation warnings and turn all other warnings into errors. For more information please refer to <a href="https://docs.pytest.org/en/latest/how-to/capture-warnings.html#warnings" target="_blank" rel="noreferrer">How to capture warnings</a>.</li></ul></li><li><p><strong>junit_duration_report</strong></p><ul><li><p><em>New in version 4.1.</em></p></li><li><p>Configures how durations are recorded into the JUnit XML report:</p><ul><li><p><code>total</code> (the default): duration times reported include setup, call, and teardown times.</p></li><li><p><code>call</code>: duration times reported include only call times, excluding setup and teardown.</p></li></ul></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">junit_duration_report</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> call</span></span></code></pre></div></li><li><p><strong>junit_family</strong></p><ul><li><p><em>New in version 4.2.</em></p></li><li><p><em>Changed in version 6.1</em>: Default changed to <code>xunit2</code>.</p></li><li><p>Configures the format of the generated JUnit XML file. The possible options are:</p><ul><li><p><code>xunit1</code> (or <code>legacy</code>): produces old style output, compatible with the xunit 1.0 format.</p></li><li><p><code>xunit2</code>: produces <a href="https://github.com/jenkinsci/xunit-plugin/blob/xunit-2.3.2/src/main/resources/org/jenkinsci/plugins/xunit/types/model/xsd/junit-10.xsd" target="_blank" rel="noreferrer">xunit 2.0 style output</a>, which should be more compatible with latest Jenkins versions. This is the default.</p></li></ul></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">junit_family</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> xunit2</span></span></code></pre></div></li><li><p><strong>junit_logging</strong></p><ul><li><p><em>New in version 3.5.</em></p></li><li><p><em>Changed in version 5.4</em>: <code>log</code>, <code>all</code>, <code>out-err</code> options added.</p></li><li><p>Configures if captured output should be written to the JUnit XML file. Valid values are:</p><ul><li><p><code>log</code>: write only <code>logging</code> captured output.</p></li><li><p><code>system-out</code>: write captured <code>stdout</code> contents.</p></li><li><p><code>system-err</code>: write captured <code>stderr</code> contents.</p></li><li><p><code>out-err</code>: write both captured <code>stdout</code> and <code>stderr</code> contents.</p></li><li><p><code>all</code>: write captured logging, <code>stdout</code> and <code>stderr</code> contents.</p></li><li><p><code>no</code> (the default): no captured output is written.</p></li></ul></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">junit_logging</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> system-out</span></span></code></pre></div></li><li><p><strong>junit_log_passing_tests</strong></p><ul><li><p><em>New in version 4.6.</em></p></li><li><p>If <code>junit_logging != &quot;no&quot;</code>, configures if the captured output should be written to the JUnit XML file for passing tests. Default is <code>True</code>.</p></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span><span style="color:#A6ACCD;">\`</span></span>
<span class="line"><span style="color:#F07178;">junit_log_passing_tests</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> False</span></span></code></pre></div></li><li><p><strong>junit_suite_name</strong></p><ul><li>To set the name of the root test suite xml item, you can configure the <code>junit_suite_name</code> option in your config file:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">junit_suite_name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> my_suite</span></span></code></pre></div></li><li><p><strong>log_auto_indent</strong></p><ul><li><p>Allow selective auto-indentation of multiline log messages.</p></li><li><p>Supports command line option <code>--log-auto-indent [value]</code> and config option <code>log_auto_indent = [value]</code> to set the auto-indentation behavior for all logging.</p></li><li><p><code>[value]</code> can be:</p><ul><li><p><code>True</code> or <code>“On”</code> - Dynamically auto-indent multiline log messages</p></li><li><p><code>False</code> or <code>“Off”</code> or 0 - Do not auto-indent multiline log messages (the default behavior)</p></li><li><p><code>[positive integer]</code> - auto-indent multiline log messages by <code>[value]</code> spaces</p></li></ul></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_auto_indent</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> False</span></span></code></pre></div><ul><li>Supports passing kwarg <code>extra={&quot;auto_indent&quot;: [value]}</code> to calls to <code>logging.log()</code> to specify auto-indentation behavior for a specific entry in the log. <code>extra</code> kwarg overrides the value specified on the command line or in the config.</li></ul></li><li><p><strong>log_cli</strong></p><ul><li>Enable log display during test run (also known as <a href="https://docs.pytest.org/en/latest/how-to/logging.html#live-logs" target="_blank" rel="noreferrer">“live logging”</a>). The default is <code>False</code>.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_cli</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> True</span></span></code></pre></div></li><li><p><strong>log_cli_date_format</strong></p><ul><li>Sets a <code>time.strftime()</code>-compatible string that will be used when formatting dates for live logging.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_cli_date_format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> %Y-%m-%d %H:%M:%S</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#live-logs" target="_blank" rel="noreferrer">Live Logs</a>.</li></ul></li><li><p><strong>log_cli_format</strong></p><ul><li>Sets a <code>logging</code>-compatible string used to format live logging messages.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_cli_format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> %(asctime)s %(levelname)s %(message)s</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#live-logs" target="_blank" rel="noreferrer">Live Logs</a>.</li></ul></li><li><p><strong>log_cli_level</strong></p><ul><li>Sets the minimum log message level that should be captured for live logging. The integer value or the names of the levels can be used.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_cli_level</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INFO</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#live-logs" target="_blank" rel="noreferrer">Live Logs</a>.</li></ul></li><li><p><strong>log_date_format</strong></p><ul><li>Sets a <code>time.strftime()</code>-compatible string that will be used when formatting dates for logging capture.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_date_format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> %Y-%m-%d %H:%M:%S</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>log_file</strong></p><ul><li>Sets a file name relative to the current working directory where log messages should be written to, in addition to the other logging facilities that are active.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_file</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> logs/pytest-logs.txt</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>log_file_date_format</strong></p><ul><li>Sets a <code>time.strftime()</code>-compatible string that will be used when formatting dates for the logging file.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_file_date_format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> %Y-%m-%d %H:%M:%S</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>log_file_format</strong></p><ul><li>Sets a <code>logging</code>-compatible string used to format logging messages redirected to the logging file.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_file_format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> %(asctime)s %(levelname)s %(message)s</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>log_file_level</strong></p><ul><li>Sets the minimum log message level that should be captured for the logging file. The integer value or the names of the levels can be used.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_file_level</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INFO</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>log_format</strong></p><ul><li>Sets a <code>logging</code>-compatible string used to format captured logging messages.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_format</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> %(asctime)s %(levelname)s %(message)s</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>log_level</strong></p><ul><li>Sets the minimum log message level that should be captured for logging capture. The integer value or the names of the levels can be used.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">log_level</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> INFO</span></span></code></pre></div><ul><li>For more information, see <a href="https://docs.pytest.org/en/latest/how-to/logging.html#logging" target="_blank" rel="noreferrer">How to manage logging</a>.</li></ul></li><li><p><strong>markers</strong></p><ul><li><p>When the <code>--strict-markers</code> or <code>--strict</code> command-line arguments are used, only known markers - defined in code by core pytest or some plugin - are allowed.</p></li><li><p>You can list additional markers in this setting to add them to the whitelist, in which case you probably want to add <code>--strict-markers</code> to <code>addopts</code> to avoid future regressions:</p></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">addopts</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> --strict-markers</span></span>
<span class="line"><span style="color:#F07178;">markers</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    slow</span></span>
<span class="line"><span style="color:#A6ACCD;">    serial</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The use of <code>--strict-markers</code> is highly preferred. <code>--strict</code> was kept for backward compatibility only and may be confusing for others as it only applies to markers and not to other options.</p></div></li><li><p><strong>minversion</strong></p><ul><li>Specifies a minimal pytest version required for running tests.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># content of pytest.ini</span></span>
<span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">minversion</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 3.0  </span><span style="color:#676E95;font-style:italic;"># will fail if we run with pytest-2.8</span></span></code></pre></div></li><li><p><strong>norecursedirs</strong></p><ul><li>Set the directory basename patterns to avoid when recursing for test discovery. The individual (fnmatch-style) patterns are applied to the basename of a directory to decide if to recurse into it. Pattern matching characters:</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">       matches everything</span></span>
<span class="line"><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;">       matches any single character</span></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">seq</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">   matches any character </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> seq</span></span>
<span class="line"><span style="color:#89DDFF;">[!</span><span style="color:#A6ACCD;">seq</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">  matches any char not </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#A6ACCD;"> seq</span></span></code></pre></div><ul><li>Default patterns are <code>&#39;*.egg&#39;</code>, <code>&#39;.*&#39;</code>, <code>&#39;_darcs&#39;</code>, <code>&#39;build&#39;</code>, <code>&#39;CVS&#39;</code>, <code>&#39;dist&#39;</code>, <code>&#39;node_modules&#39;</code>, <code>&#39;venv&#39;</code>, <code>&#39;{arch}&#39;</code>. Setting a <code>norecursedirs</code> replaces the default. Here is an example of how to avoid certain directories:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">norecursedirs</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> .svn _build tmp*</span></span></code></pre></div><ul><li><p>This would tell <code>pytest</code> to not look into typical subversion or sphinx-build directories or into any <code>tmp</code> prefixed directory.</p></li><li><p>Additionally, <code>pytest</code> will attempt to intelligently identify and ignore a virtualenv by the presence of an activation script. Any directory deemed to be the root of a virtual environment will not be considered during test collection unless <code>‑‑collect‑in‑virtualenv</code> is given. Note also that <code>norecursedirs</code> takes precedence over <code>‑‑collect‑in‑virtualenv</code>; e.g. if you intend to run tests in a virtualenv with a base directory that matches <code>&#39;.*&#39;</code> you must override <code>norecursedirs</code> in addition to using the <code>‑‑collect‑in‑virtualenv</code> flag.</p></li></ul></li><li><p><strong>python_classes</strong></p><ul><li>One or more name prefixes or glob-style patterns determining which classes are considered for test collection. Search for multiple glob patterns by adding a space between patterns. By default, pytest will consider any class prefixed with <code>Test</code> as a test collection. Here is an example of how to collect tests from classes that end in <code>Suite</code>:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">python_classes</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> *Suite</span></span></code></pre></div><ul><li>Note that <code>unittest.TestCase</code> derived classes are always collected regardless of this option, as <code>unittest’s</code> own collection framework is used to collect those tests.</li></ul></li><li><p><strong>python_files</strong></p><ul><li>One or more Glob-style file patterns determining which python files are considered as test modules. Search for multiple glob patterns by adding a space between patterns:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">python_files</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> test_*.py check_*.py example_*.py</span></span></code></pre></div><ul><li>Or one per line:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">python_files</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    test_*.py</span></span>
<span class="line"><span style="color:#A6ACCD;">    check_*.py</span></span>
<span class="line"><span style="color:#A6ACCD;">    example_*.py</span></span></code></pre></div><ul><li>By default, files matching <code>test_*.py</code> and <code>*_test.py</code> will be considered test modules.</li></ul></li><li><p><strong>python_functions</strong></p><ul><li>One or more name prefixes or glob-patterns determining which test functions and methods are considered tests. Search for multiple glob patterns by adding a space between patterns. By default, pytest will consider any function prefixed with <code>test</code> as a test. Here is an example of how to collect test functions and methods that end in <code>_test</code>:</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">python_functions</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> *_test</span></span></code></pre></div><ul><li><p>Note that this has no effect on methods that live on a <code>unittest.TestCase</code> derived class, as <code>unittest’s</code> own collection framework is used to collect those tests.</p></li><li><p>See <a href="https://docs.pytest.org/en/latest/example/pythoncollection.html#change-naming-conventions" target="_blank" rel="noreferrer">Changing naming conventions</a> for more detailed examples.</p></li></ul></li><li><p><strong>pythonpath</strong></p><ul><li>Sets list of directories that should be added to the python search path. Directories will be added to the head of <a href="https://docs.python.org/3/library/sys.html#sys.path" target="_blank" rel="noreferrer">sys.path</a>. Similar to the <a href="https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH" target="_blank" rel="noreferrer">PYTHONPATH</a> environment variable, the directories will be included in where Python will look for imported modules. Paths are relative to the <a href="https://docs.pytest.org/en/latest/reference/customize.html#rootdir" target="_blank" rel="noreferrer">rootdir</a> directory. Directories remain in path for the duration of the test session.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">pythonpath</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> src1 src2</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Note</p><p>pythonpath does not affect some imports that happen very early, most notably plugins loaded using the -p command line option.</p></div></li><li><p><strong>required_plugins</strong></p><ul><li>A space separated list of plugins that must be present for pytest to run. Plugins can be listed with or without version specifiers directly following their name. Whitespace between different version specifiers is not allowed. If any one of the plugins is not found, emit an error.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">required_plugins</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pytest-django&gt;=3.0.0,&lt;4.0.0 pytest-html pytest-xdist&gt;=1.0.0</span></span></code></pre></div></li><li><p><strong>testpaths</strong></p><ul><li><p>Sets list of directories that should be searched for tests when no specific directories, files or test ids are given in the command line when executing pytest from the rootdir directory. File system paths may use shell-style wildcards, including the recursive <code>**</code> pattern.</p></li><li><p>Useful when all project tests are in a known location to speed up test collection and to avoid picking up undesired tests by accident.</p></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">testpaths</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> testing doc</span></span></code></pre></div><ul><li>This configuration means that executing:</li></ul><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pytest</span></span></code></pre></div><p>has the same practical effects as executing:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">testing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">doc</span></span></code></pre></div></li><li><p><strong>tmp_path_retention_count</strong></p><ul><li>How many sessions should we keep the <code>tmp_path</code> directories, according to <code>tmp_path_retention_policy</code>.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">tmp_path_retention_count</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> 3</span></span></code></pre></div><ul><li>Default: 3</li></ul></li><li><p><strong>tmp_path_retention_policy</strong></p><ul><li><p>Controls which directories created by the <code>tmp_path</code> fixture are kept around, based on test outcome.</p><ul><li><p><code>all</code>: retains directories for all tests, regardless of the outcome.</p></li><li><p><code>failed</code>: retains directories only for tests with outcome <code>error</code> or <code>failed</code>.</p></li><li><p><code>none</code>: directories are always removed after each test ends, regardless of the outcome.</p></li></ul></li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">tmp_path_retention_policy</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">all</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><ul><li>Default: <code>all</code></li></ul></li><li><p><strong>usefixtures</strong></p><ul><li>List of fixtures that will be applied to all test functions; this is semantically the same to apply the <code>@pytest.mark.usefixtures</code> marker to all test functions.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">usefixtures</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    clean_db</span></span></code></pre></div></li><li><p><strong>xfail_strict</strong></p><ul><li>If set to <code>True</code>, tests marked with <code>@pytest.mark.xfail</code> that actually succeed will by default fail the test suite. For more information, see <a href="https://docs.pytest.org/en/latest/how-to/skipping.html#xfail-strict-tutorial" target="_blank" rel="noreferrer">strict parameter</a>.</li></ul><div class="language-ini"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[pytest]</span></span>
<span class="line"><span style="color:#F07178;">xfail_strict</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> True</span></span></code></pre></div></li></ul><h2 id="command-line-flags" tabindex="-1">Command-line Flags <a class="header-anchor" href="#command-line-flags" aria-label="Permalink to &quot;Command-line Flags&quot;">​</a></h2><p>All the command-line flags can be obtained by running <code>pytest --help</code>:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight has-highlighted-lines has-diff"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--help</span></span>
<span class="line"><span style="color:#FFCB6B;">usage:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span><span style="color:#A6ACCD;"> [options] </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">file_or_dir</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">file_or_dir</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">positional</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arguments:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">file_or_dir</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">general:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-k</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">EXPRESSION</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">Only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tests</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">which</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">match</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">given</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">substring</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">expression.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">An</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">expression</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Python</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">evaluatable</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">expression</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">names</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">are</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">substring-matched</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">against</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">names</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">their</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">parent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">classes.</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Example:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test_method or test_other</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">matches</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">functions</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">classes</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">whose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">contains</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">&#39;test_method&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test_other</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">not</span></span>
<span class="line"><span style="color:#C3E88D;">                        test_method</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">matches</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">those</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">that</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t contain</span></span>
<span class="line"><span style="color:#C3E88D;">                        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test_method</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> in their names. -k </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_method</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test_other</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> will eliminate the matches.</span></span>
<span class="line"><span style="color:#C3E88D;">                        Additionally keywords are matched to classes and</span></span>
<span class="line"><span style="color:#C3E88D;">                        functions containing extra names in their</span></span>
<span class="line"><span style="color:#C3E88D;">                        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">extra_keyword_matches</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> set, as well as functions</span></span>
<span class="line"><span style="color:#C3E88D;">                        which have names assigned directly to them. The</span></span>
<span class="line"><span style="color:#C3E88D;">                        matching is case-insensitive.</span></span>
<span class="line"><span style="color:#C3E88D;">  -m MARKEXPR           Only run tests matching given mark expression. For</span></span>
<span class="line"><span style="color:#C3E88D;">                        example: -m </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mark1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mark2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#C3E88D;">  --markers             show markers (builtin, plugin and per-project ones).</span></span>
<span class="line"><span style="color:#C3E88D;">  -x, --exitfirst       Exit instantly on first error or failed test</span></span>
<span class="line"><span style="color:#C3E88D;">  --fixtures, --funcargs</span></span>
<span class="line"><span style="color:#C3E88D;">                        Show available fixtures, sorted by plugin appearance</span></span>
<span class="line"><span style="color:#C3E88D;">                        (fixtures with leading </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> are only shown with </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-v</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">)</span></span>
<span class="line"><span style="color:#C3E88D;">  --fixtures-per-test   Show fixtures per test</span></span>
<span class="line"><span style="color:#C3E88D;">  --pdb                 Start the interactive Python debugger on errors or</span></span>
<span class="line"><span style="color:#C3E88D;">                        KeyboardInterrupt</span></span>
<span class="line"><span style="color:#C3E88D;">  --pdbcls=modulename:classname</span></span>
<span class="line"><span style="color:#C3E88D;">                        Specify a custom interactive Python debugger for use</span></span>
<span class="line"><span style="color:#C3E88D;">                        with --pdb.For example:</span></span>
<span class="line"><span style="color:#C3E88D;">                        --pdbcls=IPython.terminal.debugger:TerminalPdb</span></span>
<span class="line"><span style="color:#C3E88D;">  --trace               Immediately break when running each test</span></span>
<span class="line"><span style="color:#C3E88D;">  --capture=method      Per-test capturing method: one of fd|sys|no|tee-sys</span></span>
<span class="line"><span style="color:#C3E88D;">  -s                    Shortcut for --capture=no</span></span>
<span class="line"><span style="color:#C3E88D;">  --runxfail            Report the results of xfail tests as if they were</span></span>
<span class="line"><span style="color:#C3E88D;">                        not marked</span></span>
<span class="line"><span style="color:#C3E88D;">  --lf, --last-failed   Rerun only the tests that failed at the last run (or</span></span>
<span class="line"><span style="color:#C3E88D;">                        all if none failed)</span></span>
<span class="line"><span style="color:#C3E88D;">  --ff, --failed-first  Run all tests, but run the last failures first. This</span></span>
<span class="line"><span style="color:#C3E88D;">                        may re-order tests and thus lead to repeated fixture</span></span>
<span class="line"><span style="color:#C3E88D;">                        setup/teardown.</span></span>
<span class="line"><span style="color:#C3E88D;">  --nf, --new-first     Run tests from new files first, then the rest of the</span></span>
<span class="line"><span style="color:#C3E88D;">                        tests sorted by file mtime</span></span>
<span class="line"><span style="color:#C3E88D;">  --cache-show=[CACHESHOW]</span></span>
<span class="line"><span style="color:#C3E88D;">                        Show cache contents, don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">perform</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">collection</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">tests.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Optional</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">argument:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">glob</span><span style="color:#A6ACCD;"> (default: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">).</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--cache-clear</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">Remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cache</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">contents</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span></span>
<span class="line"><span style="color:#A6ACCD;">  --lfnf</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{all,none},</span><span style="color:#A6ACCD;"> --last-failed-no-failures</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{all,none}</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Which</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tests</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">no</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">previously</span><span style="color:#A6ACCD;"> (known)</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">failures</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--sw,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--stepwise</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">Exit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failure</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">continue</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">last</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failing</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">next</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--sw-skip,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--stepwise-skip</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Ignore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">first</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">but</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">next</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">failing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Implicitly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enables</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--stepwise.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Reporting:</span></span>
<span class="line"><span style="color:#A6ACCD;">  --durations</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">N</span><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">Show</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">N</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">slowest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup/test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">durations</span><span style="color:#A6ACCD;"> (N=0 </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --durations-min</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">N</span><span style="color:#A6ACCD;">     </span><span style="color:#FFCB6B;">Minimal</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">duration</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">seconds</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">inclusion</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">slowest</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">list.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Default:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.005</span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-v,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--verbose</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">Increase</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">verbosity</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--no-header</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">Disable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">header</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--no-summary</span><span style="color:#A6ACCD;">          </span><span style="color:#C3E88D;">Disable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">summary</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-q,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--quiet</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">Decrease</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">verbosity</span></span>
<span class="line"><span style="color:#A6ACCD;">  --verbosity</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">VERBOSE</span><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">Set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">verbosity.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Default:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-r</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chars</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">Show</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">extra</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">summary</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">info</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">specified</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chars:</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">f</span><span style="color:#89DDFF;">)</span><span style="color:#FFCB6B;">ailed,</span><span style="color:#A6ACCD;"> (E)rror, </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">s</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">kipped, </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">failed, </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">X</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">passed,</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">p</span><span style="color:#89DDFF;">)</span><span style="color:#FFCB6B;">assed,</span><span style="color:#A6ACCD;"> (P)assed with output, </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">a</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">ll except passed</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">p/P</span><span style="color:#89DDFF;">)</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> (A)ll. </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">w</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">arnings are enabled by default</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">see</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--disable-warnings</span><span style="color:#89DDFF;">)</span><span style="color:#FFCB6B;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">N</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">can</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">used</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">reset</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list.</span><span style="color:#A6ACCD;"> (default: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">).</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--disable-warnings,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--disable-pytest-warnings</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Disable</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">warnings</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">summary</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-l,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--showlocals</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">Show</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">locals</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tracebacks</span><span style="color:#A6ACCD;"> (disabled </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--no-showlocals</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">Hide</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">locals</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tracebacks</span><span style="color:#A6ACCD;"> (negate </span><span style="color:#C3E88D;">--showlocals</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">passed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">through</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">addopts</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --tb</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">style</span><span style="color:#A6ACCD;">            </span><span style="color:#FFCB6B;">Traceback</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">print</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mode</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">auto/long/short/line/native/no</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --show-capture</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">{no,stdout,stderr,log,all}</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Controls</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">how</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">captured</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stdout/stderr/log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">failed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tests.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Default:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--full-trace</span><span style="color:#A6ACCD;">          </span><span style="color:#C3E88D;">Don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t cut any tracebacks (default is to cut)</span></span>
<span class="line"><span style="color:#C3E88D;">  --color=color         Color terminal output (yes/no/auto)</span></span>
<span class="line"><span style="color:#C3E88D;">  --code-highlight={yes,no}</span></span>
<span class="line"><span style="color:#C3E88D;">                        Whether code should be highlighted (only if --color</span></span>
<span class="line"><span style="color:#C3E88D;">                        is also enabled). Default: yes.</span></span>
<span class="line"><span style="color:#C3E88D;">  --pastebin=mode       Send failed|all info to bpaste.net pastebin service</span></span>
<span class="line"><span style="color:#C3E88D;">  --junit-xml=path      Create junit-xml style report file at given path</span></span>
<span class="line"><span style="color:#C3E88D;">  --junit-prefix=str    Prepend prefix to classnames in junit-xml output</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">pytest-warnings:</span></span>
<span class="line"><span style="color:#C3E88D;">  -W PYTHONWARNINGS, --pythonwarnings=PYTHONWARNINGS</span></span>
<span class="line"><span style="color:#C3E88D;">                        Set which warnings to report, see -W option of</span></span>
<span class="line"><span style="color:#C3E88D;">                        Python itself</span></span>
<span class="line"><span style="color:#C3E88D;">  --maxfail=num         Exit after first num failures or errors</span></span>
<span class="line"><span style="color:#C3E88D;">  --strict-config       Any warnings encountered while parsing the \`pytest\`</span></span>
<span class="line"><span style="color:#C3E88D;">                        section of the configuration file raise errors</span></span>
<span class="line"><span style="color:#C3E88D;">  --strict-markers      Markers not registered in the \`markers\` section of</span></span>
<span class="line"><span style="color:#C3E88D;">                        the configuration file raise errors</span></span>
<span class="line"><span style="color:#C3E88D;">  --strict              (Deprecated) alias to --strict-markers</span></span>
<span class="line"><span style="color:#C3E88D;">  -c FILE, --config-file=FILE</span></span>
<span class="line"><span style="color:#C3E88D;">                        Load configuration from \`FILE\` instead of trying to</span></span>
<span class="line"><span style="color:#C3E88D;">                        locate one of the implicit configuration files.</span></span>
<span class="line"><span style="color:#C3E88D;">  --continue-on-collection-errors</span></span>
<span class="line"><span style="color:#C3E88D;">                        Force test execution even if collection errors occur</span></span>
<span class="line"><span style="color:#C3E88D;">  --rootdir=ROOTDIR     Define root directory for tests. Can be relative</span></span>
<span class="line"><span style="color:#C3E88D;">                        path: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root_dir</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./root_dir</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#C3E88D;">                        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">root_dir/another_dir/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">; absolute path:</span></span>
<span class="line"><span style="color:#C3E88D;">                        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/home/user/root_dir</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">; path with variables:</span></span>
<span class="line"><span style="color:#C3E88D;">                        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/root_dir</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">collection:</span></span>
<span class="line"><span style="color:#C3E88D;">  --collect-only, --co  Only collect tests, don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">execute</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">them</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--pyargs</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">Try</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">interpret</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arguments</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Python</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">packages</span></span>
<span class="line"><span style="color:#A6ACCD;">  --ignore</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">path</span><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">Ignore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">path</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">during</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">collection</span><span style="color:#A6ACCD;"> (multi-allowed)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --ignore-glob</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">path</span><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">Ignore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">path</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pattern</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">during</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">collection</span><span style="color:#A6ACCD;"> (multi-</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">allowed</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --deselect</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">nodeid_prefix</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Deselect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">item</span><span style="color:#A6ACCD;"> (via </span><span style="color:#C3E88D;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">prefix</span><span style="color:#A6ACCD;">) during collection</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">multi-allowed</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --confcutdir</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">dir</span><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">Only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">load</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">conftest.py</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s relative to specified dir</span></span>
<span class="line"><span style="color:#C3E88D;">  --noconftest          Don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">load</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">conftest.py</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">files</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--keep-duplicates</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">Keep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">duplicate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tests</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">--collect-in-virtualenv</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">Don</span><span style="color:#FFCB6B;">&#39;t ignore tests in a local virtualenv directory</span></span>
<span class="line"><span style="color:#FFCB6B;">  --import-mode={prepend,append,importlib}</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Prepend/append to sys.path when importing test</span></span>
<span class="line"><span style="color:#FFCB6B;">                        modules and conftest files. Default: prepend.</span></span>
<span class="line"><span style="color:#FFCB6B;">  --doctest-modules     Run doctests in all .py modules</span></span>
<span class="line"><span style="color:#FFCB6B;">  --doctest-report={none,cdiff,ndiff,udiff,only_first_failure}</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Choose another output format for diffs on doctest</span></span>
<span class="line"><span style="color:#FFCB6B;">                        failure</span></span>
<span class="line"><span style="color:#FFCB6B;">  --doctest-glob=pat    Doctests file matching pattern, default: test*.txt</span></span>
<span class="line"><span style="color:#FFCB6B;">  --doctest-ignore-import-errors</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Ignore doctest ImportErrors</span></span>
<span class="line"><span style="color:#FFCB6B;">  --doctest-continue-on-failure</span></span>
<span class="line"><span style="color:#FFCB6B;">                        For a given doctest, continue to run after the first</span></span>
<span class="line"><span style="color:#FFCB6B;">                        failure</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">test session debugging and configuration:</span></span>
<span class="line"><span style="color:#FFCB6B;">  --basetemp=dir        Base temporary directory for this test run.</span></span>
<span class="line"><span style="color:#FFCB6B;">                        (Warning: this directory is removed if it exists.)</span></span>
<span class="line"><span style="color:#FFCB6B;">  -V, --version         Display pytest version and information about</span></span>
<span class="line"><span style="color:#FFCB6B;">                        plugins. When given twice, also display information</span></span>
<span class="line"><span style="color:#FFCB6B;">                        about plugins.</span></span>
<span class="line"><span style="color:#FFCB6B;">  -h, --help            Show help message and configuration info</span></span>
<span class="line"><span style="color:#FFCB6B;">  -p name               Early-load given plugin module name or entry point</span></span>
<span class="line"><span style="color:#FFCB6B;">                        (multi-allowed). To avoid loading of plugins, use</span></span>
<span class="line"><span style="color:#FFCB6B;">                        the \`no:\` prefix, e.g. \`no:doctest\`.</span></span>
<span class="line"><span style="color:#FFCB6B;">  --trace-config        Trace considerations of conftest.py files</span></span>
<span class="line"><span style="color:#FFCB6B;">  --debug=[DEBUG_FILE_NAME]</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Store internal tracing debug information in this log</span></span>
<span class="line"><span style="color:#FFCB6B;">                        file. This file is opened with &#39;</span><span style="color:#FFCB6B;">w</span><span style="color:#FFCB6B;">&#39; and truncated as</span></span>
<span class="line"><span style="color:#FFCB6B;">                        a result, care advised. Default: pytestdebug.log.</span></span>
<span class="line"><span style="color:#FFCB6B;">  -o OVERRIDE_INI, --override-ini=OVERRIDE_INI</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Override ini option with &quot;option=value&quot; style, e.g.</span></span>
<span class="line"><span style="color:#FFCB6B;">                        \`-o xfail_strict=True -o cache_dir=cache\`.</span></span>
<span class="line"><span style="color:#FFCB6B;">  --assert=MODE         Control assertion debugging tools.</span></span>
<span class="line"><span style="color:#FFCB6B;">                        &#39;</span><span style="color:#FFCB6B;">plain</span><span style="color:#FFCB6B;">&#39; performs no assertion debugging.</span></span>
<span class="line"><span style="color:#FFCB6B;">                        &#39;</span><span style="color:#FFCB6B;">rewrite</span><span style="color:#FFCB6B;">&#39; (the default) rewrites assert statements</span></span>
<span class="line"><span style="color:#FFCB6B;">                        in test modules on import to provide assert</span></span>
<span class="line"><span style="color:#FFCB6B;">                        expression information.</span></span>
<span class="line"><span style="color:#FFCB6B;">  --setup-only          Only setup fixtures, do not execute tests</span></span>
<span class="line"><span style="color:#FFCB6B;">  --setup-show          Show setup of fixtures while executing tests</span></span>
<span class="line"><span style="color:#FFCB6B;">  --setup-plan          Show what fixtures and tests would be executed but</span></span>
<span class="line"><span style="color:#FFCB6B;">                        don&#39;</span><span style="color:#FFCB6B;">t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">execute</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">anything</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">logging:</span></span>
<span class="line"><span style="color:#A6ACCD;">  --log-level</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">LEVEL</span><span style="color:#A6ACCD;">     </span><span style="color:#FFCB6B;">Level</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">messages</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">catch/display.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">default,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">so</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">it</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">depends</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root/parent</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span></span>
<span class="line"><span style="color:#A6ACCD;">                        </span><span style="color:#FFCB6B;">handler</span><span style="color:#FFCB6B;">&#39;s effective level, where it is &quot;WARNING&quot; by</span></span>
<span class="line"><span style="color:#FFCB6B;">                        default.</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-format=LOG_FORMAT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log format used by the logging module</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-date-format=LOG_DATE_FORMAT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log date format used by the logging module</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-cli-level=LOG_CLI_LEVEL</span></span>
<span class="line"><span style="color:#FFCB6B;">                        CLI logging level</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-cli-format=LOG_CLI_FORMAT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log format used by the logging module</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-cli-date-format=LOG_CLI_DATE_FORMAT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log date format used by the logging module</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-file=LOG_FILE   Path to a file when logging will be written to</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-file-level=LOG_FILE_LEVEL</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log file logging level</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-file-format=LOG_FILE_FORMAT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log format used by the logging module</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-file-date-format=LOG_FILE_DATE_FORMAT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Log date format used by the logging module</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-auto-indent=LOG_AUTO_INDENT</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Auto-indent multiline messages passed to the logging</span></span>
<span class="line"><span style="color:#FFCB6B;">                        module. Accepts true|on, false|off or an integer.</span></span>
<span class="line"><span style="color:#FFCB6B;">  --log-disable=LOGGER_DISABLE</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Disable a logger by name. Can be passed multiple</span></span>
<span class="line"><span style="color:#FFCB6B;">                        times.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">[pytest] ini-options in the first pytest.ini|tox.ini|setup.cfg|pyproject.toml file found:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">  markers (linelist):   Markers for test functions</span></span>
<span class="line"><span style="color:#FFCB6B;">  empty_parameter_set_mark (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default marker for empty parametersets</span></span>
<span class="line"><span style="color:#FFCB6B;">  norecursedirs (args): Directory patterns to avoid for recursion</span></span>
<span class="line"><span style="color:#FFCB6B;">  testpaths (args):     Directories to search for tests when no files or</span></span>
<span class="line"><span style="color:#FFCB6B;">                        directories are given on the command line</span></span>
<span class="line"><span style="color:#FFCB6B;">  filterwarnings (linelist):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Each line specifies a pattern for</span></span>
<span class="line"><span style="color:#FFCB6B;">                        warnings.filterwarnings. Processed after</span></span>
<span class="line"><span style="color:#FFCB6B;">                        -W/--pythonwarnings.</span></span>
<span class="line"><span style="color:#FFCB6B;">  usefixtures (args):   List of default fixtures to be used with this</span></span>
<span class="line"><span style="color:#FFCB6B;">                        project</span></span>
<span class="line"><span style="color:#FFCB6B;">  python_files (args):  Glob-style file patterns for Python test module</span></span>
<span class="line"><span style="color:#FFCB6B;">                        discovery</span></span>
<span class="line"><span style="color:#FFCB6B;">  python_classes (args):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Prefixes or glob names for Python test class</span></span>
<span class="line"><span style="color:#FFCB6B;">                        discovery</span></span>
<span class="line"><span style="color:#FFCB6B;">  python_functions (args):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Prefixes or glob names for Python test function and</span></span>
<span class="line"><span style="color:#FFCB6B;">                        method discovery</span></span>
<span class="line"><span style="color:#FFCB6B;">  disable_test_id_escaping_and_forfeit_all_rights_to_community_support (bool):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Disable string escape non-ASCII characters, might</span></span>
<span class="line"><span style="color:#FFCB6B;">                        cause unwanted side effects(use at your own risk)</span></span>
<span class="line"><span style="color:#FFCB6B;">  console_output_style (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Console output: &quot;classic&quot;, or with additional</span></span>
<span class="line"><span style="color:#FFCB6B;">                        progress information (&quot;progress&quot; (percentage) |</span></span>
<span class="line"><span style="color:#FFCB6B;">                        &quot;count&quot; | &quot;progress-even-when-capture-no&quot; (forces</span></span>
<span class="line"><span style="color:#FFCB6B;">                        progress even when capture=no)</span></span>
<span class="line"><span style="color:#FFCB6B;">  xfail_strict (bool):  Default for the strict parameter of xfail markers</span></span>
<span class="line"><span style="color:#FFCB6B;">                        when not given explicitly (default: False)</span></span>
<span class="line"><span style="color:#FFCB6B;">  tmp_path_retention_count (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        How many sessions should we keep the \`tmp_path\`</span></span>
<span class="line"><span style="color:#FFCB6B;">                        directories, according to</span></span>
<span class="line"><span style="color:#FFCB6B;">                        \`tmp_path_retention_policy\`.</span></span>
<span class="line"><span style="color:#FFCB6B;">  tmp_path_retention_policy (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Controls which directories created by the \`tmp_path\`</span></span>
<span class="line"><span style="color:#FFCB6B;">                        fixture are kept around, based on test outcome.</span></span>
<span class="line"><span style="color:#FFCB6B;">                        (all/failed/none)</span></span>
<span class="line"><span style="color:#FFCB6B;">  enable_assertion_pass_hook (bool):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Enables the pytest_assertion_pass hook. Make sure to</span></span>
<span class="line"><span style="color:#FFCB6B;">                        delete any previously generated pyc cache files.</span></span>
<span class="line"><span style="color:#FFCB6B;">  junit_suite_name (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Test suite name for JUnit report</span></span>
<span class="line"><span style="color:#FFCB6B;">  junit_logging (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Write captured log messages to JUnit report: one of</span></span>
<span class="line"><span style="color:#FFCB6B;">                        no|log|system-out|system-err|out-err|all</span></span>
<span class="line"><span style="color:#FFCB6B;">  junit_log_passing_tests (bool):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Capture log information for passing tests to JUnit</span></span>
<span class="line"><span style="color:#FFCB6B;">                        report:</span></span>
<span class="line"><span style="color:#FFCB6B;">  junit_duration_report (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Duration time to report: one of total|call</span></span>
<span class="line"><span style="color:#FFCB6B;">  junit_family (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Emit XML for schema: one of legacy|xunit1|xunit2</span></span>
<span class="line"><span style="color:#FFCB6B;">  doctest_optionflags (args):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Option flags for doctests</span></span>
<span class="line"><span style="color:#FFCB6B;">  doctest_encoding (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Encoding used for doctest files</span></span>
<span class="line"><span style="color:#FFCB6B;">  cache_dir (string):   Cache directory path</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_level (string):   Default value for --log-level</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_format (string):  Default value for --log-format</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_date_format (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-date-format</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_cli (bool):       Enable log display during test run (also known as</span></span>
<span class="line"><span style="color:#FFCB6B;">                        &quot;live logging&quot;)</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_cli_level (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-cli-level</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_cli_format (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-cli-format</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_cli_date_format (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-cli-date-format</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_file (string):    Default value for --log-file</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_file_level (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-file-level</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_file_format (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-file-format</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_file_date_format (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-file-date-format</span></span>
<span class="line"><span style="color:#FFCB6B;">  log_auto_indent (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Default value for --log-auto-indent</span></span>
<span class="line"><span style="color:#FFCB6B;">  pythonpath (paths):   Add paths to sys.path</span></span>
<span class="line"><span style="color:#FFCB6B;">  faulthandler_timeout (string):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Dump the traceback of all threads if a test takes</span></span>
<span class="line"><span style="color:#FFCB6B;">                        more than TIMEOUT seconds to finish</span></span>
<span class="line"><span style="color:#FFCB6B;">  addopts (args):       Extra command line options</span></span>
<span class="line"><span style="color:#FFCB6B;">  minversion (string):  Minimally required pytest version</span></span>
<span class="line"><span style="color:#FFCB6B;">  required_plugins (args):</span></span>
<span class="line"><span style="color:#FFCB6B;">                        Plugins that must be present for pytest to run</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Environment variables:</span></span>
<span class="line"><span style="color:#FFCB6B;">  PYTEST_ADDOPTS           Extra command line options</span></span>
<span class="line"><span style="color:#FFCB6B;">  PYTEST_PLUGINS           Comma-separated plugins to load during startup</span></span>
<span class="line"><span style="color:#FFCB6B;">  PYTEST_DISABLE_PLUGIN_AUTOLOAD Set to disable plugin auto-loading</span></span>
<span class="line"><span style="color:#FFCB6B;">  PYTEST_DEBUG             Set to enable debug tracing of pytest&#39;</span><span style="color:#FFCB6B;">s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">internals</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">see</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">available</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">markers</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">type:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--markers</span></span>
<span class="line"><span style="color:#FFCB6B;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">see</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">available</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fixtures</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">type:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pytest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--fixtures</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">shown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">according</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">specified</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">file_or_dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">current</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">specified</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">fixtures</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">leading</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">are</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">shown</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-v</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">option</span></span></code></pre></div>`,269),l=[a];function r(p,i,c,d,h,y){return t(),s("div",null,l)}const f=e(n,[["render",r]]);export{g as __pageData,f as default};
